(()=>{"use strict";function e(){!function(){setTimeout((()=>{var e;null===(e=document.querySelector("#transition-pause"))||void 0===e||e.remove()}),100);const e=localStorage.getItem("darkTheme");if(!e||!JSON.parse(e))return document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),void s("light");document.documentElement.classList.add("dark"),s("dark")}();const e=document.querySelector("#theme-switcher");null==e||e.addEventListener("click",n),null==e||e.addEventListener("keyup",t)}function t(e){"Enter"===e.key&&n()}function n(){const e=localStorage.getItem("darkTheme");if(!(e?JSON.parse(e):null))return document.documentElement.classList.add("dark"),localStorage.setItem("darkTheme",JSON.stringify(!0)),void s("dark");document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),s("light")}function s(e){const t=document.querySelector("#theme-switcher");"dark"!==e?null==t||t.classList.remove("dark-theme"):null==t||t.classList.add("dark-theme")}class o{static get(e){const t=this.createCookieMap().get(e);return t||null}static set(e,t,n){""!==e.trim()&&""!==t.trim()&&(document.cookie=n?`${e}=${t}; max-age=${n}; path=/; Secure`:`${e}=${t}; path=/; Secure`)}static remove(e){""!==e.trim()&&(document.cookie=`${e}=; max-age=0`)}static createCookieMap(){const e=document.cookie,t=new Map;if(!e)return t;const n=e.split("; ");for(const e of n){const n=e.split("=")[0],s=e.split("=")[1];t.set(n,s)}return t}}function i(e){if(e.length<34)return!1;if(!e.startsWith("a")&&!e.startsWith("g"))return!1;if("_"!==e[32])return!1;if(!Number.isInteger(+e.substring(33)))return!1;return/^[A-Za-z0-9_]{34,}$/.test(e)}function a(){o.remove("authToken"),document.dispatchEvent(new CustomEvent("signedOut"))}function c(e,t,n=2e3){(""===e.trim()||n&&n<=0)&&(n=2e3);const s=document.querySelector("#popup");s&&s.remove();const o=document.createElement("span");o.id="popup",o.className=t,o.appendChild(document.createTextNode(e)),document.body.appendChild(o),requestAnimationFrame((()=>{requestAnimationFrame((()=>{o.classList.add("in-view")}))})),setTimeout((()=>{o.classList.remove("in-view"),setTimeout((()=>{o.remove()}),150)}),n||2e3)}const r=document.querySelector(".top-nav"),u=document.querySelector("#account-nav-container-btn");function l(e){if(e.target instanceof HTMLElement&&e.target.classList.contains("sign-out-btn"))return e.preventDefault(),a(),void c("Signed out successfully.","success")}function d(e){e.preventDefault();const t=document.querySelector("#account-nav-container-links");if(null==t?void 0:t.classList.contains("expanded"))return null==u||u.classList.remove("expanded"),setTimeout((()=>t.classList.remove("expanded")),150),void requestAnimationFrame((()=>{requestAnimationFrame((()=>{t.style.opacity="0"}))}));null==u||u.classList.add("expanded"),null==t||t.classList.add("expanded"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{t&&(t.style.opacity="1")}))}))}function m(){const e=o.get("authToken");if(e)return i(e)?void(e.startsWith("g")?null==r||r.classList.add("guest-user"):null==r||r.classList.add("account-user")):(o.remove("authToken"),void(null==r||r.classList.remove("guest-user","account-user")));null==r||r.classList.remove("guest-user","account-user")}const v=document.querySelector(".bot-nav"),g=document.querySelector("#account-list-btn"),p=document.querySelector("#account-list-container");function f(e){if(e.target instanceof HTMLElement&&e.target.classList.contains("sign-out-btn"))return e.preventDefault(),a(),void c("Signed out successfully.","success")}function L(){const e=o.get("authToken");if(e)return i(e)?void(e.startsWith("g")?null==v||v.classList.add("guest-user"):null==v||v.classList.add("account-user")):(o.remove("authToken"),void(null==v||v.classList.remove("guest-user","account-user")));null==v||v.classList.remove("guest-user","account-user")}function k(){if(null==g?void 0:g.classList.contains("expanded"))return setTimeout((()=>null==g?void 0:g.classList.remove("expanded")),150),void requestAnimationFrame((()=>{requestAnimationFrame((()=>{p&&(p.style.opacity="0")}))}));null==g||g.classList.add("expanded"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{p&&(p.style.opacity="1")}))}))}e(),m(),null==u||u.addEventListener("click",d),document.addEventListener("signedOut",m),null==r||r.addEventListener("click",l),L(),null==g||g.addEventListener("click",k),document.addEventListener("signedOut",L),null==v||v.addEventListener("click",f)})();