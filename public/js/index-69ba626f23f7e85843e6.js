(()=>{"use strict";function e(){!function(){setTimeout((()=>{var e;null===(e=document.querySelector("#transition-pause"))||void 0===e||e.remove()}),100);const e=localStorage.getItem("darkTheme");if(!e||!JSON.parse(e))return document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),void o("light");document.documentElement.classList.add("dark"),o("dark")}();const e=document.querySelector("#theme-switcher");null==e||e.addEventListener("click",n),null==e||e.addEventListener("keyup",t)}function t(e){"Enter"===e.key&&n()}function n(){const e=localStorage.getItem("darkTheme");if(!(e?JSON.parse(e):null))return document.documentElement.classList.add("dark"),localStorage.setItem("darkTheme",JSON.stringify(!0)),void o("dark");document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),o("light")}function o(e){const t=document.querySelector("#theme-switcher");"dark"!==e?null==t||t.classList.remove("dark-theme"):null==t||t.classList.add("dark-theme")}class a{static get(e){const t=this.createCookieMap().get(e);return t||null}static set(e,t,n){""!==e.trim()&&""!==t.trim()&&(document.cookie=n?`${e}=${t}; max-age=${n}; path=/; Secure`:`${e}=${t}; path=/; Secure`)}static remove(e){""!==e.trim()&&(document.cookie=`${e}=; max-age=0`)}static createCookieMap(){const e=document.cookie,t=new Map;if(!e)return t;const n=e.split("; ");for(const e of n){const n=e.split("=")[0],o=e.split("=")[1];t.set(n,o)}return t}}function r(e){if(e.length<34)return!1;if(!e.startsWith("a")&&!e.startsWith("g"))return!1;if("_"!==e[32])return!1;if(!Number.isInteger(+e.substring(33)))return!1;return/^[A-Za-z0-9_]{34,}$/.test(e)}const i=document.querySelector(".bot-nav"),s=document.querySelector("#account-list-btn"),c=document.querySelector("#account-list-container"),u=document.querySelector("#bot-nav-hangout-btn");function l(){if(null==s?void 0:s.classList.contains("expanded"))return setTimeout((()=>null==s?void 0:s.classList.remove("expanded")),150),void requestAnimationFrame((()=>{requestAnimationFrame((()=>{c&&(c.style.opacity="0")}))}));null==s||s.classList.add("expanded"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{c&&(c.style.opacity="1")}))}))}function d(e){e.preventDefault();const t=a.get("authToken");t&&r(t)&&t.startsWith("g")?window.location.href="hangouts.html":window.location.href="create-hangout.html"}e(),function(){const e=a.get("authToken");if(!e||!r(e))return void a.remove("authToken");const t=document.querySelector(".top-nav");null==t||t.classList.add("signed-in")}(),function(){const e=document.querySelector("#account-nav-container-btn");null==e||e.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector("#account-nav-container-links");if(null==t?void 0:t.classList.contains("expanded"))return setTimeout((()=>t.classList.remove("expanded")),150),void requestAnimationFrame((()=>{requestAnimationFrame((()=>{t.style.opacity="0"}))}));null==t||t.classList.add("expanded"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{t&&(t.style.opacity="1")}))}))}))}(),function(e){const t=a.get("authToken");t&&r(t)&&(null==e||e.classList.add("signed-in"))}(i),null==s||s.addEventListener("click",l),null==u||u.addEventListener("click",d)})();