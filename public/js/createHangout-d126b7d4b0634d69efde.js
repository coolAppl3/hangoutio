(()=>{"use strict";function e(){!function(){const e=localStorage.getItem("darkTheme");if(!e||!JSON.parse(e))return document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),void s("light");document.documentElement.classList.add("dark"),s("dark")}();const e=document.querySelector("#theme-switcher");null==e||e.addEventListener("click",i),null==e||e.addEventListener("keyup",t)}function t(e){"Enter"===e.key&&i()}function i(){const e=localStorage.getItem("darkTheme");if(!(e?JSON.parse(e):null))return document.documentElement.classList.add("dark"),localStorage.setItem("darkTheme",JSON.stringify(!0)),void s("dark");document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),s("light")}function s(e){const t=document.querySelector("#theme-switcher");"dark"!==e?null==t||t.classList.remove("dark-theme"):null==t||t.classList.add("dark-theme")}class n{static get(e){const t=this.createCookieMap().get(e);if(t)return t}static set(e,t,i){this.isEmptyString(e)||this.isEmptyString(t)||(document.cookie=i?`${e}=${t}; max-age=${i}; path=/; Secure`:`${e}=${t}; path=/; Secure`)}static remove(e){this.isEmptyString(e)||(document.cookie=`${e}=; max-age=0`)}static createCookieMap(){const e=document.cookie,t=new Map;if(!e)return t;const i=e.split("; ");for(const e of i){const i=e.split("=")[0],s=e.split("=")[1];t.set(i,s)}return t}static isEmptyString(e){return!e||""===e.trim()}}function r(){const e=document.querySelector("#account-list-btn"),t=document.querySelector("#account-list-container");if(null==e?void 0:e.classList.contains("expanded"))return null==e||e.classList.remove("expanded"),void requestAnimationFrame((()=>{requestAnimationFrame((()=>{t&&(t.style.opacity="0")}))}));null==e||e.classList.add("expanded"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{t&&(t.style.opacity="1")}))}))}const l=document.querySelector("#test");null==l||l.addEventListener("click",(()=>{console.log(!0)}));class o{constructor(e,t,i){var s,n,r;this.inputID=e,t>=0&&i>t?(this.sliderMinValue=t,this.sliderMaxValue=i):(this.sliderMinValue=0,this.sliderMaxValue=1),this.actualInput=document.querySelector(`#${e}`),this.slider=document.querySelector(`[data-slider-target="${e}"]`),this.sliderThumb=null===(n=null===(s=this.slider)||void 0===s?void 0:s.firstElementChild)||void 0===n?void 0:n.firstElementChild,this.sliderTextSpan=document.querySelector(`[data-slider-text="${e}"]`),this.sliderDomRect=null===(r=this.slider)||void 0===r?void 0:r.getBoundingClientRect(),this.isDragging=!1,this.isTouchDevice=!1,this.sliderValue=this.sliderMinValue,this.loadEventListeners()}loadEventListeners(){var e,t,i;window.addEventListener("resize",this.updateSliderDomRect.bind(this)),"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0&&(this.isTouchDevice=!0),this.isTouchDevice?null===(e=this.slider)||void 0===e||e.addEventListener("touchstart",this.startDrag.bind(this),{passive:!0}):(null===(t=this.slider)||void 0===t||t.addEventListener("mousedown",this.startDrag.bind(this)),null===(i=this.slider)||void 0===i||i.addEventListener("keyup",this.handleSliderKeyEvents.bind(this)))}startDrag(){if(this.isDragging=!0,document.body.style.userSelect="none",this.isTouchDevice)return document.body.addEventListener("touchmove",this.dragSlider.bind(this),{passive:!0}),void document.body.addEventListener("touchend",this.stopDrag.bind(this),{passive:!0});document.body.addEventListener("mousemove",this.dragSlider.bind(this)),document.body.addEventListener("mouseup",this.stopDrag.bind(this))}dragSlider(e){if(!this.isDragging)return;if(!this.sliderDomRect)return;let t;if(e instanceof MouseEvent)t=e.clientX;else{t=e.touches[0].clientX}const i=t-this.sliderDomRect.left,s=Math.min(i,this.sliderDomRect.width)/this.sliderDomRect.width*100+4|0;this.updateSliderValues(s)}stopDrag(){if(this.isDragging=!1,document.body.style.userSelect="auto",this.isTouchDevice)return document.body.removeEventListener("touchmove",this.dragSlider),void document.body.removeEventListener("touchend",this.stopDrag);document.body.removeEventListener("mousemove",this.dragSlider),document.body.removeEventListener("mousemove",this.stopDrag)}updateSliderDomRect(){var e;this.sliderDomRect=null===(e=this.slider)||void 0===e?void 0:e.getBoundingClientRect()}updateSliderValues(e){var t;if(!(this.sliderThumb instanceof HTMLDivElement))return;this.sliderThumb.style.width=`${e}%`;const i=e/(100/this.sliderMaxValue)|0;this.sliderValue=Math.max(1,i),this.updateSliderTextValue(),null===(t=this.actualInput)||void 0===t||t.setAttribute("value",`${this.sliderValue}`)}updateSliderTextValue(){this.sliderTextSpan&&(1!==this.sliderValue?this.sliderTextSpan.textContent=`${this.sliderValue} days`:this.sliderTextSpan.textContent=`${this.sliderValue} day`)}handleSliderKeyEvents(e){"ArrowLeft"===e.key&&this.stepBack(),"ArrowRight"===e.key&&this.stepForward()}stepBack(){this.sliderValue<=this.sliderMinValue||(this.sliderValue--,this.adjustSliderWidth())}stepForward(){this.sliderValue>=this.sliderMaxValue||(this.sliderValue++,this.adjustSliderWidth())}adjustSliderWidth(){var e;const t=this.sliderValue*(100/this.sliderMaxValue);this.sliderThumb instanceof HTMLDivElement&&(this.sliderThumb.style.width=`${t}%`),null===(e=this.actualInput)||void 0===e||e.setAttribute("value",`${this.sliderValue}`),this.updateSliderTextValue()}}new o("voting-period",1,14),new o("suggestions-period",1,14),new o("availability-period",1,7);const d={currentStep:1,totalSteps:4,leaderName:void 0,leaderPassword:void 0,members:[]};function a(){!function(){const e=document.querySelector("#previous-step-btn"),t=document.querySelector("#next-step-btn");if(!e||!t)return;e.style.display="flex",e.removeAttribute("disabled"),t.style.display="block",t.removeAttribute("disabled"),1===d.currentStep&&(e.style.display="none",e.setAttribute("disabled",""));d.currentStep===d.totalSteps&&(t.style.display="none",t.setAttribute("disabled",""))}(),function(){const e=document.querySelector("#progress-container-step");e&&(e.textContent=`${d.currentStep}`);const t=(d.currentStep-1)/d.totalSteps*100,i=Math.round(t),s=document.querySelector("#progress-bar");s&&(s.style.width=`${i}%`)}()}function u(e){if((null==e?void 0:e.target)instanceof HTMLElement==!1)return;const t=e.target.id;"previous-step-btn"===t&&d.currentStep-1>=1?function(){var e;const t=document.querySelector(`#step-${d.currentStep}`);d.currentStep--,a(),null==t||t.classList.remove("in-position","current"),null===(e=null==t?void 0:t.previousElementSibling)||void 0===e||e.classList.add("current"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{var e;null===(e=null==t?void 0:t.previousElementSibling)||void 0===e||e.classList.replace("completed","in-position")}))}))}():"next-step-btn"===t&&d.currentStep+1<=d.totalSteps&&c()}function c(){var e;const t=document.querySelector(`#step-${d.currentStep}`);d.currentStep++,a(),null==t||t.classList.add("animating","completed"),setTimeout((()=>{null==t||t.classList.remove("animating")}),100),null==t||t.classList.remove("current","in-position"),null===(e=null==t?void 0:t.nextElementSibling)||void 0===e||e.classList.add("current"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{var e;null===(e=null==t?void 0:t.nextElementSibling)||void 0===e||e.classList.add("in-position")}))}))}function m(e){e.preventDefault(),d.currentStep===d.totalSteps?console.log("Form submission"):c()}e(),function(){const e=n.get("AuthToken"),t=document.querySelector(".top-nav");e&&32===e.length&&e.startsWith("a")&&(null==t||t.classList.add("signed-in"))}(),function(){const e=document.querySelector(".bot-nav");!function(e){n.get("AuthToken");null==e||e.classList.add("signed-in")}(e),null==e||e.addEventListener("click",r)}(),function(){const e=document.querySelector("#password-icon-account");null==e||e.addEventListener("click",(()=>{!function(e){const t=e.previousElementSibling;if(null==e?void 0:e.classList.contains("revealed"))return e.classList.remove("revealed"),void(null==t||t.setAttribute("type","password"));null==e||e.classList.add("revealed"),null==t||t.setAttribute("type","text")}(e)}));const t=document.querySelector("#form-navigation");null==t||t.addEventListener("click",u);const i=document.querySelector("#steps-form");null==i||i.addEventListener("submit",m)}(),a()})();