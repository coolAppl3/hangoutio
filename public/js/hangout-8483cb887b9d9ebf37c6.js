(()=>{"use strict";var e,t,n,o,i={6072:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var o=n(5689),i=n(495),r=n(1384),s=n(9100),a=n(3737),d=n(2458),l=n(7776);(0,o.A)(),(0,i.A)(),(0,r.Ki)(),await(0,s.PT)(),(0,a.Cq)(),(0,d.G0)(),(0,l.Q)(),t()}catch(e){t(e)}}),1)},5483:(e,t,n)=>{n.d(t,{u:()=>o});class o{static display(e){const t=document.querySelector("#confirm-modal");null==t||t.remove();const n=this.createConfirmModal(e);return document.body.appendChild(n),n.focus(),requestAnimationFrame((()=>{requestAnimationFrame((()=>{n.classList.add("revealed")}))})),n}static remove(){const e=document.querySelector("#confirm-modal");null==e||e.classList.remove("revealed"),setTimeout((()=>null==e?void 0:e.remove()),150)}static createConfirmModal(e){const t=document.createElement("div");t.id="confirm-modal",t.setAttribute("tabindex","0"),e.description&&(t.className="has-description");const n=document.createElement("div");if(n.id="confirm-modal-container",n.appendChild(this.createModalTitle(e.title)),e.description){const t=this.createDescriptionContainer();for(const n of e.description.split("\n"))t.appendChild(this.createModalDescription(n));n.appendChild(t)}return n.appendChild(this.createBtnContainer(e)),t.appendChild(n),t}static createModalTitle(e){const t=document.createElement("p");return t.className="confirm-modal-title",t.appendChild(document.createTextNode(e)),t}static createDescriptionContainer(){const e=document.createElement("div");return e.className="description-container",e}static createModalDescription(e){const t=document.createElement("p");return t.className="confirm-modal-description",t.appendChild(document.createTextNode(e)),t}static createBtnContainer(e){const t=document.createElement("div");return t.className="btn-container",t.appendChild(this.createBtnElement("confirm-btn",e.confirmBtnTitle,e.isDangerousAction)),t.appendChild(this.createBtnElement("cancel-btn",e.cancelBtnTitle)),e.extraBtnTitle&&t.appendChild(this.createBtnElement("other-btn",e.extraBtnTitle)),t}static createBtnElement(e,t,n){const o=document.createElement("button");return o.id=`confirm-modal-${e}`,o.setAttribute("type","button"),o.appendChild(document.createTextNode(t)),n&&(o.className="danger"),o}}},3415:(e,t,n)=>{n.d(t,{A:()=>o});class o{static get(e){const t=this.createCookieMap().get(e);return t||null}static set(e,t,n){document.cookie=n?`${e}=${t}; max-age=${n}; path=/; Secure; SameSite=Strict`:`${e}=${t}; path=/; Secure; SameSite=Strict`}static remove(e){document.cookie=`${e}=; max-age=0`}static createCookieMap(){const e=document.cookie,t=new Map;if(""===e)return t;const n=e.split("; ");for(const e of n){const n=e.split("=")[0],o=e.split("=")[1];n&&o&&t.set(n,o)}return t}}},7130:(e,t,n)=>{n.d(t,{A:()=>o});class o{static display(e,t){o.hide(e);const n=document.querySelector(`[data-target="${e.id}"]`);n&&(n.textContent=t);const i=e.parentElement;null==i||i.classList.add("error")}static hide(e){const t=e.parentElement;if(!(null==t?void 0:t.classList.contains("error")))return;null==t||t.classList.remove("error");const n=document.querySelector(`[data-target="${e.id}"]`);n&&(n.textContent="")}}},1093:(e,t,n)=>{n.d(t,{W:()=>o});class o{static display(e,t){const n=document.querySelector("#info-modal");null==n||n.remove();const o=this.createInfoModal(e);return document.body.appendChild(o),o.focus(),requestAnimationFrame((()=>{requestAnimationFrame((()=>{o.classList.add("revealed")}))})),(null==t?void 0:t.simple)&&this.addSimpleClosingEventListener(o),o}static remove(){const e=document.querySelector("#info-modal");e&&(e.classList.remove("revealed"),setTimeout((()=>e.remove()),150))}static addSimpleClosingEventListener(e){e.addEventListener("click",(e=>{e.target instanceof HTMLButtonElement&&"info-modal-btn"===e.target.id&&o.remove()}))}static createInfoModal(e){const t=document.createElement("div");t.id="info-modal",t.setAttribute("tabindex","0"),e.description&&(t.className="has-description");const n=document.createElement("div");if(n.id="info-modal-container",n.appendChild(this.createModalTitle(e.title)),e.description){const t=this.createDescriptionContainer();for(const n of e.description.split("\n"))t.appendChild(this.createModalDescription(n));n.appendChild(t)}return n.appendChild(this.createModalBtn(e.btnTitle)),t.appendChild(n),t}static createModalTitle(e){const t=document.createElement("p");return t.className="info-modal-title",t.appendChild(document.createTextNode(e)),t}static createDescriptionContainer(){const e=document.createElement("div");return e.className="description-container",e}static createModalDescription(e){const t=document.createElement("p");return t.className="info-modal-description",t.appendChild(document.createTextNode(e)),t}static createModalBtn(e){const t=document.createElement("button");return t.id="info-modal-btn",t.setAttribute("type","button"),t.appendChild(document.createTextNode(e)),t}}},7107:(e,t,n)=>{n.d(t,{A:()=>o});class o{static display(){if(document.querySelector("#loading-modal"))return;const e=this.createModal();document.body.appendChild(e)}static remove(){const e=document.querySelector("#loading-modal");null==e||e.remove()}static createModal(){const e=document.createElement("div");return e.id="loading-modal",e.appendChild(this.createModalSpinner()),e}static createModalSpinner(){const e=document.createElement("div");return e.className="loading-modal-spinner",e}}},4803:(e,t,n)=>{n.d(t,{E:()=>s,g:()=>r});var o=n(5483),i=n(3415);function r(e=window.location.href){a(e,"Sign in session expired.","Please sign back in t continue.")}function s(e=window.location.href){a(e,"Invalid sign in credentials detected.","You've been signed out as a result. Please sign back in to continue.")}function a(e,t,n){i.A.remove("signedInAs"),i.A.remove("guestHangoutId"),document.dispatchEvent(new CustomEvent("signedOut"));o.u.display({title:t,description:n,confirmBtnTitle:"Sign back in",cancelBtnTitle:"Go to homepage",extraBtnTitle:null,isDangerousAction:!1}).addEventListener("click",(t=>{if(t.target instanceof HTMLButtonElement)return"confirm-modal-confirm-btn"===t.target.id?(i.A.set("afterAuthRedirectHref",e),void(window.location.href="sign-in")):void("confirm-modal-cancel-btn"===t.target.id&&(window.location.href="home"))}))}},495:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(5483),i=n(3415),r=n(7107),s=n(9103);const a=document.querySelector(".bot-nav"),d=document.querySelector("#account-list-btn"),l=document.querySelector("#account-list-container");function u(){g(),null==d||d.addEventListener("click",m),null==a||a.addEventListener("click",c),document.addEventListener("signedOut",g)}function c(e){e.target instanceof HTMLEmbedElement&&e.target.classList.contains("sign-out-btn")&&(e.preventDefault(),o.u.display({title:"Are you sure you want to sign out of your account?",description:null,confirmBtnTitle:"Sign out",cancelBtnTitle:"Cancel",extraBtnTitle:null,isDangerousAction:!0}).addEventListener("click",(async e=>{if(e.target instanceof HTMLButtonElement)return"confirm-modal-confirm-btn"===e.target.id?(o.u.remove(),await(0,s.C)(),r.A.display(),void setTimeout((()=>window.location.reload()),1e3)):void("confirm-modal-cancel-btn"===e.target.id&&o.u.remove())})))}function g(){const e=i.A.get("signedInAs");e?"guest"!==e?null==a||a.classList.add("account-user"):null==a||a.classList.add("guest-user"):null==a||a.classList.remove("guest-user","account-user")}function m(){if(null==d?void 0:d.classList.contains("expanded"))return setTimeout((()=>null==d?void 0:d.classList.remove("expanded")),150),void requestAnimationFrame((()=>{requestAnimationFrame((()=>{l&&(l.style.opacity="0")}))}));null==d||d.classList.add("expanded"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{l&&(l.style.opacity="1")}))}))}},2484:(e,t,n)=>{n.d(t,{Az:()=>a,Cb:()=>u,Gr:()=>g,Hd:()=>i,ZC:()=>p,c7:()=>c,fD:()=>h,kD:()=>l,ku:()=>s,o4:()=>d,pj:()=>o,vJ:()=>f,wi:()=>m,x7:()=>r});const o=6e4,i=60*o,r=24*i,s=20,a=2,d=1,l=7,u=1,c=2,g=3,m=4,p=3,h=3,f=10},974:(e,t,n)=>{n.d(t,{CA:()=>i,Dr:()=>d,Ge:()=>r,WB:()=>s,nW:()=>a});var o=n(2484);function i(e){const t=new Date(e),n=t.getDate(),o=d(n);return`${r(t)} ${n}${o}, ${s(t)}`}function r(e){return new Intl.DateTimeFormat("en-GB",{month:"long"}).format(e)}function s(e){return new Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit"}).format(e)}function a(e,t){const n=t-e,i=Math.floor(n/o.Hd),r=Math.floor(n/o.pj%60);let s="";1===r?s=", 1 minute":r>1&&(s=`, ${r} minutes`);return(1===i?"1 hour":`${i} hours`)+s}function d(e){return e%100>=11&&e%100<=13?"th":e%10==1?"st":e%10==2?"nd":e%10==3?"rd":"th"}},9423:(e,t,n)=>{function o(e,t=null){const n=document.createElement("div");return e&&(n.className=e),t&&(n.id=t),n}function i(e,t){const n=document.createElement("p");return e&&(n.className=e),n.appendChild(document.createTextNode(t)),n}function r(e,t){const n=document.createElement("span");return e&&(n.className=e),n.appendChild(document.createTextNode(t)),n}function s(e,t){const n=document.createElement("button");return e&&(n.className=e),t&&n.appendChild(document.createTextNode(t)),n.setAttribute("type","button"),n}function a(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("width",`${e}`),n.setAttribute("height",`${t}`),n.setAttribute("viewBox",`0 0 ${e} ${t}`),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n}n.d(t,{FJ:()=>a,Pp:()=>s,Ux:()=>o,no:()=>r,vw:()=>i})},2222:(e,t,n)=>{function o(e,t,n=2e3){(""===e.trim()||n&&n<=0)&&(n=2e3);const o=document.querySelector("#popup");o&&o.remove();const i=function(e){const t=document.createElement("div");return t.id="popup",t.className=e,t}(t);i.appendChild(function(e){const t=document.createElement("span");return t.appendChild(document.createTextNode(e)),t}(e)),document.body.appendChild(i),requestAnimationFrame((()=>{requestAnimationFrame((()=>{i.classList.add("in-view")}))})),setTimeout((()=>{i.classList.remove("in-view"),setTimeout((()=>i.remove()),150)}),n||2e3)}n.d(t,{A:()=>o})},9103:(e,t,n)=>{n.d(t,{C:()=>d});var o=n(7536),i=n(1889),r=n(3415),s=n(7107),a=n(2222);async function d(){s.A.display();try{return await(0,i.X)(),l(),document.dispatchEvent(new CustomEvent("signedOut")),(0,a.A)("Signed out.","success"),void s.A.remove()}catch(e){if(console.log(e),s.A.remove(),!o.A.isAxiosError(e))return void(0,a.A)("Something went wrong.","error");const t=e;if(!t.status)return void(0,a.A)("Something went wrong.","error");return 409===t.status?((0,a.A)("Not signed in.","error"),document.dispatchEvent(new CustomEvent("signedOut")),void l()):void(0,a.A)("Something went wrong.","error")}}function l(){r.A.remove("signedInAs"),r.A.remove("guestHangoutId")}},442:(e,t,n)=>{function o(){!function(){const e=localStorage.getItem("darkTheme");if(!e||!JSON.parse(e))return document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),void s("light");document.documentElement.classList.add("dark"),s("dark")}();const e=document.querySelector("#theme-switcher");null==e||e.addEventListener("click",r),null==e||e.addEventListener("keyup",i),requestAnimationFrame((()=>{requestAnimationFrame((()=>{document.documentElement.classList.remove("loading")}))}))}function i(e){"Enter"===e.key&&r()}function r(){const e=localStorage.getItem("darkTheme");if(!(e?JSON.parse(e):null))return document.documentElement.classList.add("dark"),localStorage.setItem("darkTheme",JSON.stringify(!0)),void s("dark");document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),s("light")}function s(e){const t=document.querySelector("#theme-switcher");"dark"!==e?null==t||t.classList.remove("dark-theme"):null==t||t.classList.add("dark-theme")}n.d(t,{A:()=>o})},5689:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(442),i=n(9103),r=n(3415),s=n(5483),a=n(7107);const d=document.querySelector(".top-nav"),l=document.querySelector("#account-nav-container-btn");function u(){(0,o.A)(),m(),null==l||l.addEventListener("click",g),null==d||d.addEventListener("click",c),document.addEventListener("signedOut",m)}function c(e){e.target instanceof HTMLElement&&e.target.classList.contains("sign-out-btn")&&(e.preventDefault(),s.u.display({title:"Are you sure you want to sign out of your account?",description:null,confirmBtnTitle:"Sign out",cancelBtnTitle:"Cancel",extraBtnTitle:null,isDangerousAction:!0}).addEventListener("click",(async e=>{if(e.target instanceof HTMLButtonElement)return"confirm-modal-confirm-btn"===e.target.id?(s.u.remove(),await(0,i.C)(),a.A.display(),void setTimeout((()=>window.location.reload()),1e3)):void("confirm-modal-cancel-btn"===e.target.id&&s.u.remove())})))}function g(){const e=document.querySelector("#account-nav-container-links");if(null==e?void 0:e.classList.contains("expanded"))return null==l||l.classList.remove("expanded"),setTimeout((()=>e.classList.remove("expanded")),150),void requestAnimationFrame((()=>{requestAnimationFrame((()=>{e.style.opacity="0"}))}));null==l||l.classList.add("expanded"),null==e||e.classList.add("expanded"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{e&&(e.style.opacity="1")}))}))}function m(){const e=r.A.get("signedInAs");e?"guest"!==e?null==d||d.classList.add("account-user"):null==d||d.classList.add("guest-user"):null==d||d.classList.remove("guest-user","account-user")}},4153:(e,t,n)=>{n.d(t,{Bn:()=>l,C_:()=>s,G4:()=>d,JL:()=>a,Oj:()=>r,sg:()=>c,xf:()=>u,yz:()=>i});var o=n(7130);function i(e){const t=e.value;if(""===t)return o.A.display(e,"A valid password is required."),!1;if(t.includes(" "))return o.A.display(e,"Password must not contain whitespace."),!1;if(t.length<8)return o.A.display(e,"Password must contain at least 8 characters."),!1;if(t.length>40)return o.A.display(e,"Password must not exceed 40 characters."),!1;return/^[A-Za-z0-9._]{8,40}$/.test(t)?(o.A.hide(e),!0):(o.A.display(e,"Only English alphanumerical characters, dots, and underscores are allowed."),!1)}function r(e){const t=e.value;return""===t?(o.A.display(e,"A valid password is required"),!1):t.includes(" ")?(o.A.display(e,"Password must not contain whitespace."),!1):t.length>40?(o.A.display(e,"Password can not be longer than 40 characters."),!1):(o.A.hide(e),!0)}function s(e,t){return""===e.value.trim()?(o.A.display(e,"Password confirmation is required."),!1):e.value!==t.value?(o.A.display(e,"Passwords don't match."),!1):(o.A.hide(e),!0)}function a(e){const t=e.value;if(""===t)return o.A.display(e,"A valid username is required."),!1;if(t.includes(" "))return o.A.display(e,"Username must not contain whitespace."),!1;if(t.length<5)return o.A.display(e,"Username must be at least 5 characters long."),!1;if(t.length>25)return o.A.display(e,"Username must not exceed 25 characters."),!1;return/^[A-Za-z0-9_.]{5,25}$/.test(t)?(o.A.hide(e),!0):(o.A.display(e,"Only English alphanumerical characters, dots, and underscores are allowed."),!1)}function d(e){const t=e.value;if(""===t)return o.A.display(e,"A valid display name is required."),!1;if(t.trim()!==t)return o.A.display(e,"Whitespace must not exist at either ends of the display name."),!1;if(t.length>25)return o.A.display(e,"Display name must not exceed 25 characters."),!1;const n=t.split(" ").filter((e=>""!==e)).join(" ");if(t!==n)return o.A.display(e,"Only one whitespace is allowed between words."),!1;return/^[A-Za-z ]{1,25}$/.test(t)?(o.A.hide(e),!0):(o.A.display(e,"Only English letters and a single space between words are allowed."),!1)}function l(e){const t=e.value;if(""===t)return o.A.display(e,"A valid suggestion title is required."),!1;if(t.trim()!==t)return o.A.display(e,"Whitespace must not exist at either ends of the display name."),!1;if(t.length<3)return o.A.display(e,"Title must be at least 3 characters long."),!1;if(t.length>40)return o.A.display(e,"Title must not exceed 40 characters."),!1;const n=t.split(" ").filter((e=>""!==e)).join(" ");if(t!==n)return o.A.display(e,"Only one whitespace is allowed between words."),!1;return/^[-A-Za-z0-9 ()!?.]{3,40}$/.test(t)?(o.A.hide(e),!0):(o.A.display(e,"Only letters, numbers, whitespace, and the following symbols are allowed: ()!?."),!1)}function u(e){const t=e.value;if(""===t)return o.A.display(e,"A suggestion description is required."),!1;if(t.length<10)return o.A.display(e,"Description must be at least 10 characters long."),!1;if(t.length>500)return o.A.display(e,"Description must not exceed 500 characters."),!1;if(t.trim()!==t)return o.A.display(e,"Description must not start or end with whitespace or line breaks."),!1;return/^[ -~\r\n]{10,500}$/.test(t)?(o.A.hide(e),!0):(o.A.display(e,"Only English letters, numbers, and common symbols are allowed."),!1)}function c(e){if(46!==e.length)return!1;if(!e.startsWith("h"))return!1;if("_"!==e[32])return!1;if(13!==e.substring(33).length||!function(e){const t=13;if(!Number.isInteger(e))return!1;if(e.toString().length!==t)return!1;if(e<0)return!1;return!0}(+e.substring(33)))return!1;return/^[A-Za-z0-9_]{46,}$/.test(e)}},3737:(e,t,n)=>{n.d(t,{Cq:()=>Y,J8:()=>V,Wf:()=>z});var o=n(7536),i=n(4803),r=n(2484),s=n(5483),a=n(9423),d=n(1093),l=n(7107),u=n(2222);o.A.defaults.withCredentials=!0;const c="localhost"===window.location.hostname?`http://${window.location.hostname}:5000/api/availabilitySlots`:`https://${window.location.hostname}/api/availabilitySlots`;var g=n(7902),m=n(2079),p=n(974);let h={hasBeenInitiated:!1,data:null};const f=document.querySelector("#availability-previewer"),v=document.querySelector("#availability-previewer-slots"),A=document.querySelector("#availability-previewer-header"),b=document.querySelector("#availability-previewer-header-title"),y=document.querySelector("#availability-previewer-backwards-btn"),w=document.querySelector("#availability-previewer-forwards-btn"),S=document.querySelector("#availability-previewer-add-btn"),C=document.querySelector("#availability-previewer-close-btn");function E(e){if(!f)return;const t=!1===h.hasBeenInitiated;h.hasBeenInitiated=!0,h.data={selectedDateTimestamp:e,previousDateTimestamp:_(e),nextDateTimestamp:T(e)},L(e),f.style.display="flex",requestAnimationFrame((()=>{requestAnimationFrame((()=>{f.classList.add("revealed")}))})),t&&(null==A||A.addEventListener("click",D),null==C||C.addEventListener("click",I),null==S||S.addEventListener("click",(()=>{h.data&&m.F.data&&(m.F.data.availabilitySlotsCount>=r.vJ?(I(),d.W.display({title:`Availability slot limit of ${r.vJ} has been reached.`,description:"Delete or edit one of your existing slots.",btnTitle:"Okay"}).addEventListener("click",(e=>{e.target instanceof HTMLButtonElement&&"info-modal-btn"===e.target.id&&d.W.remove()}))):((0,g.vK)(h.data.selectedDateTimestamp),I()))})))}function L(e){var t;v&&(null===(t=v.firstElementChild)||void 0===t||t.remove(),v.appendChild(function(e){const t=(0,a.Ux)(null,"availability-previewer-slots-container");if(!m.F.data||0===V.availabilitySlots.length)return t.classList.add("empty"),t;const n=new Map,o=m.F.data.hangoutMembers;for(const e of o)n.set(e.hangout_member_id,{display_name:e.display_name,slots:[]});for(const t of V.availabilitySlots){const o=n.get(t.hangout_member_id);o&&(Math.abs(t.slot_start_timestamp-e)>=r.x7||new Date(t.slot_start_timestamp).getDate()===new Date(e).getDate()&&o.slots.push(t))}for(const e of n.values())0!==e.slots.length&&t.appendChild(F(e));t.firstElementChild||t.classList.add("empty");return t}(e)),k(e),M())}function _(e){const t=new Date(e).getDate();for(let n=V.availabilitySlots.length-1;n>=0;n--){const o=V.availabilitySlots[n];if(!o)continue;if(o.slot_start_timestamp>=e)continue;const i=new Date(o.slot_start_timestamp);if(!(i.getDate()===t&&Math.abs(o.slot_start_timestamp-e)<r.Hd))return i.setHours(0),i.setMinutes(0),i.getTime()}return null}function T(e){const t=new Date(e).getDate();for(let n=0;n<V.availabilitySlots.length;n++){const o=V.availabilitySlots[n];if(!o)continue;if(o.slot_start_timestamp<=e)continue;const i=new Date(o.slot_start_timestamp);if(!(i.getDate()===t&&Math.abs(o.slot_start_timestamp-e)<r.x7))return i.setHours(0),i.setMinutes(0),i.getTime()}return null}function F(e){var t;const n=(0,a.Ux)("member"),o=null===(t=e.slots[0])||void 0===t?void 0:t.hangout_member_id;return o&&n.setAttribute("data-member-id",`${o}`),n.appendChild((0,a.vw)("member-name",e.display_name)),n.appendChild(function(e){const t=document.createElement("ul");t.className="member-slots";for(const n of e)t.appendChild(x(n.slot_start_timestamp,n.slot_end_timestamp));return t}(e.slots)),n}function x(e,t){const n=document.createElement("li");n.className="slot";const o=new Date(e),i=new Date(t),r=(0,p.WB)(o);let s=(0,p.WB)(i);return o.getDate()<i.getDate()&&(s+=" (next day)"),n.appendChild(document.createTextNode(`${r} - ${s}`)),n}function k(e){if(!b)return;const t=new Date(e),n=t.getFullYear(),o=(0,p.Ge)(t),i=t.getDate();b.textContent=`${o} ${i}, ${n}`}function M(){if(!h.data)return;if(!y||!w)return;const{previousDateTimestamp:e,nextDateTimestamp:t}=h.data;e?y.classList.remove("disabled"):y.classList.add("disabled"),t?w.classList.remove("disabled"):w.classList.add("disabled")}function D(e){e.target instanceof HTMLButtonElement&&(e.target.id.includes("backwards")?function(){if(!h.data)return;const{previousDateTimestamp:e,selectedDateTimestamp:t}=h.data;if(!e)return;const n=_(e);h.data.nextDateTimestamp=t,h.data.selectedDateTimestamp=e,h.data.previousDateTimestamp=n,L(h.data.selectedDateTimestamp),k(h.data.selectedDateTimestamp),M()}():e.target.id.includes("forwards")&&function(){if(!h.data)return;const{nextDateTimestamp:e,selectedDateTimestamp:t}=h.data;if(!e)return;const n=T(e);h.data.previousDateTimestamp=t,h.data.selectedDateTimestamp=e,h.data.nextDateTimestamp=n,L(h.data.selectedDateTimestamp),k(h.data.selectedDateTimestamp),M()}())}function I(){f&&(f.classList.remove("revealed"),setTimeout((()=>{f.style.display="none"}),150))}let q={hasBeenInitiated:!1,data:null};const O=document.querySelector("#availability-calendar-dates"),B=document.querySelector("#availability-calendar-header");function P(){var e;if(!q.data)return;const{currentMonth:t,currentYear:n}=q.data,o=new Date(n,t,1),i=o.getDay(),r=(0,g.MX)(n,t),s=new Intl.DateTimeFormat("en-GB",{month:"long"}).format(o),d=document.querySelector("#availability-calendar-title");if(d&&(d.textContent=`${s} ${n}`),!O)return q={hasBeenInitiated:!1,data:null},void(0,u.A)("Something went wrong.","error");const l=(0,a.Ux)(null,"availability-calendar-dates-container");(0,g.$4)(l,i),function(e,t){if(!q.data)return;const{currentMonth:n,initialMonth:o,initialYear:i,conclusionDate:r}=q.data,s=new Date(i,o+6).getMonth()===n,a=s?new Date(i,o+6,r).getDate():null,d=n===o;for(let n=1;n<=t;n++)a&&n>a||d&&n<r?e.appendChild((0,g.pJ)(n,!0)):e.appendChild((0,g.pJ)(n))}(l,r),null===(e=O.firstElementChild)||void 0===e||e.remove(),O.appendChild(l),function(){if(0===V.availabilitySlots.length)return;if(!q.data)return;const{currentYear:e,currentMonth:t}=q.data,n=new Date(e,t,1).getTime(),o=new Date(e,t,(0,g.MX)(e,t),23,59).getTime(),i=[],r=new Map;for(const e of V.availabilitySlots){if(e.slot_start_timestamp<n||e.slot_start_timestamp>o)continue;const t=new Date(e.slot_start_timestamp).getDate();if(i.some((n=>n.memberId===e.hangout_member_id&&n.date===t)))continue;i.push({memberId:e.hangout_member_id,date:t});const s=r.get(t);r.set(t,s?s+1:1)}if(!m.F.data)return;const{hangoutMemberId:s,hangoutMembers:a}=m.F.data,d=document.querySelectorAll("button.date-cell");for(const e of d){const t=e.getAttribute("data-value");if(!t)continue;const n=r.get(+t);if(!n)continue;const o=n/a.length;let d="";d=o<.3?"low-availability":o>=.3&&o<=.6?"medium-availability":"high-availability",e.classList.add(d),i.some((e=>e.memberId===s))&&e.classList.add("self-availability")}}()}function R(e){e.target instanceof HTMLButtonElement&&("availability-calendar-backwards-btn"!==e.target.id?"availability-calendar-forwards-btn"===e.target.id&&function(){if(!q.data)return;const{currentMonth:e,currentYear:t,initialMonth:n,initialYear:o,conclusionDate:i}=q.data,s=new Date(t,e,i).getTime(),a=new Date(o,n+6,i).getTime();if(s>=a)return;if(11===e)return q.data.currentMonth=0,q.data.currentYear=t+1,s+30*r.x7>=a&&$("forwards"),N("backwards"),void P();q.data.currentMonth=e+1,s+31*r.x7>=a&&$("forwards"),N("backwards"),P()}():function(){if(!q.data)return;const{currentMonth:e,currentYear:t,initialMonth:n}=q.data;if(e===n)return;if(0===e)return q.data.currentMonth=11,q.data.currentYear=t-1,11===n&&$("backwards"),N("forwards"),void P();q.data.currentMonth=e-1,e-1===n&&$("backwards"),N("forwards"),P()}())}function $(e){const t=document.querySelector(`#availability-calendar-${e}-btn`);t&&t.classList.add("disabled")}function N(e){const t=document.querySelector(`#availability-calendar-${e}-btn`);t&&t.classList.remove("disabled")}function H(e){if(!(e.target instanceof HTMLButtonElement))return;const t=e.target.getAttribute("data-value");if(!t)return;const n=+t;if(!Number.isInteger(n))return;if(!q.data)return;const{currentYear:o,currentMonth:i}=q.data;E(new Date(o,i,n).getTime())}function j(e){const t=(0,a.Ux)("slot");return t.setAttribute("data-slotId",`${e.availability_slot_id}`),t.appendChild(U("Start",(0,p.CA)(e.slot_start_timestamp),"slot-start")),t.appendChild(U("End",(0,p.CA)(e.slot_end_timestamp),"slot-end")),t.appendChild(U("Total",(0,p.nW)(e.slot_start_timestamp,e.slot_end_timestamp),"slot-total")),t.appendChild(function(){const e=(0,a.Ux)("slot-btn-container"),t=(0,a.Pp)("delete-btn",null);t.setAttribute("title","Delete slot"),t.setAttribute("aria-label","Delete availability slot");const n=(0,a.FJ)(540,540),o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("fill-rule","evenodd"),o.setAttribute("clip-rule","evenodd"),o.setAttribute("d","M201 22C188.85 22 179 31.8497 179 44V47H75C61.1929 47 50 58.1929 50 72C50 85.8071 61.1929 97 75 97H465C478.807 97 490 85.8071 490 72C490 58.1929 478.807 47 465 47H362.333V44C362.333 31.8497 352.484 22 340.333 22H201ZM80 117L98.1421 477.113C99.2678 499.459 117.714 517 140.089 517H399.911C422.286 517 440.732 499.46 441.858 477.113L460 117H80ZM178 187C165.297 187 155 197.297 155 210V424C155 436.703 165.297 447 178 447C190.703 447 201 436.703 201 424V210C201 197.297 190.703 187 178 187ZM247 210C247 197.297 257.297 187 270 187C282.703 187 293 197.297 293 210V424C293 436.703 282.703 447 270 447C257.297 447 247 436.703 247 424V210ZM362 187C349.297 187 339 197.297 339 210V424C339 436.703 349.297 447 362 447C374.703 447 385 436.703 385 424V210C385 197.297 374.703 187 362 187Z"),n.appendChild(o),t.appendChild(n);const i=(0,a.Pp)("edit-btn",null);i.setAttribute("title","Edit slot"),i.setAttribute("aria-label","Edit availability slot");const r=(0,a.FJ)(640,640),s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d","M266.547 152.906C266.547 142.413 258.04 133.906 247.547 133.906H135C75.3533 133.906 27 182.259 27 241.906V505C27 564.647 75.3533 613 135 613H398.094C457.741 613 506.094 564.647 506.094 505V392.453C506.094 381.96 497.587 373.453 487.094 373.453H445.094C434.601 373.453 426.094 381.96 426.094 392.453V505C426.094 520.464 413.558 533 398.094 533H135C119.536 533 107 520.464 107 505V241.906C107 226.442 119.536 213.906 135 213.906H247.547C258.04 213.906 266.547 205.399 266.547 194.906V152.906Z");const d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d","M242.834 291.217L424.82 109.23L530.3 214.71L348.313 396.696C345.447 399.562 341.902 401.656 338.009 402.782L237.376 431.875C219.223 437.124 202.406 420.307 207.655 402.154L236.748 301.521C237.874 297.628 239.968 294.083 242.834 291.217Z");const l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("d","M472.203 62.8635L438.542 96.525L544.099 202.083L577.761 168.421C597.287 148.895 597.287 117.237 577.761 97.7107L542.914 62.8635C523.387 43.3373 491.729 43.3373 472.203 62.8635Z"),r.appendChild(s),r.appendChild(d),r.appendChild(l),i.appendChild(r),e.appendChild(t),e.appendChild(i),e}()),t}function U(e,t,n){const o=(0,a.Ux)(`slot-info ${n}`);return o.appendChild((0,a.no)(null,e)),o.appendChild((0,a.no)(null,t)),o}const V={isLoaded:!1,availabilitySlots:[]},W=document.querySelector("#add-availability-btn"),J=document.querySelector("#availability-slots-container"),G=document.querySelector("#clear-availability-slots-btn");function Y(){document.addEventListener("loadSection-availability",z),null==J||J.addEventListener("click",K),null==W||W.addEventListener("click",(()=>{if(!m.F.data)return void(0,u.A)("Something went wrong.","error");const{hangoutDetails:e,availabilitySlotsCount:t}=m.F.data;e.is_concluded?(0,u.A)("Hangout has already been concluded.","error"):t>=r.vJ?(0,u.A)(`Availability slot limit of ${r.vJ} already reached.`,"error"):(0,g.YU)("availabilitySlot")})),null==G||G.addEventListener("click",(()=>{s.u.display({title:"Are you sure you want to clear all your availability slots?",description:null,confirmBtnTitle:"Clear all slots",cancelBtnTitle:"Cancel",extraBtnTitle:null,isDangerousAction:!0}).addEventListener("click",(async e=>{if(e.target instanceof HTMLButtonElement)return"confirm-modal-confirm-btn"===e.target.id?(s.u.remove(),void await async function(){if(l.A.display(),!m.F.data)return(0,u.A)("Something went wrong.","error"),void l.A.remove();const{hangoutId:e,hangoutMemberId:t}=m.F.data,n={hangoutId:e,hangoutMemberId:t};try{await async function(e){const{hangoutId:t,hangoutMemberId:n}=e,i=`${c}/clear?hangoutId=${t}&hangoutMemberId=${n}`;return o.A.delete(i)}(n),m.F.data.availabilitySlotsCount=0,V.availabilitySlots.length=0,Z(),(0,u.A)("Availability slots cleared.","success"),l.A.remove()}catch(e){if(console.log(e),l.A.remove(),!o.A.isAxiosError(e))return void(0,u.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,u.A)("Something went wrong.","error");const n=t.status,s=t.response.data.message,a=t.response.data.reason;if(400===n)return void(0,u.A)("Something went wrong.","error");if((0,u.A)(s,"error"),403===n)return m.F.data.hangoutDetails.current_stage=r.wi,m.F.data.hangoutDetails.is_concluded=!0,void Z();if(404===n)return"hangoutNotFound"===a?void setTimeout((()=>window.location.reload()),1e3):(V.availabilitySlots.length=0,m.F.data.availabilitySlotsCount=r.vJ,void Z());if(401===n){if("authSessionExpired"===a)return void(0,i.g)();(0,i.E)()}}}()):void("confirm-modal-cancel-btn"===e.target.id&&s.u.remove())}))})),document.addEventListener("dateTimePicker-selection",(async e=>{if(!(0,g.yf)(e)||"availabilitySlot"!==e.detail.purpose)return;const t=e.detail;t.existingSlotId?await async function(e){if(!m.F.data||!e.existingSlotId)return(0,u.A)("Something went wrong.","error"),void l.A.remove();const{hangoutId:t,hangoutMemberId:n,hangoutDetails:s}=m.F.data;if(s.is_concluded)return(0,u.A)("Hangout has already been concluded.","success"),l.A.remove(),void(0,g.ik)();const a={hangoutId:t,hangoutMemberId:n,availabilitySlotId:e.existingSlotId,slotStartTimestamp:e.startTimestamp,slotEndTimestamp:e.endTimestamp};try{await async function(e){return o.A.patch(c,e)}(a);const t=V.availabilitySlots.find((t=>t.availability_slot_id===e.existingSlotId));t&&(t.slot_start_timestamp=e.startTimestamp,t.slot_end_timestamp=e.endTimestamp),V.availabilitySlots.sort(((e,t)=>e.slot_start_timestamp-t.slot_start_timestamp)),Z(),(0,g.ik)(),(0,u.A)("Availability slot updated.","success"),l.A.remove()}catch(t){if(console.log(t),l.A.remove(),!o.A.isAxiosError(t))return void(0,u.A)("Something went wrong.","error");const n=t;if(!n.status||!n.response)return void(0,u.A)("Something went wrong.","error");const s=n.status,a=n.response.data.message,d=n.response.data.reason,c=n.response.data.resData;if(400===s&&!d)return void(0,u.A)("Something went wrong.","error");if((0,u.A)(a,"error"),409===s)return"slotOverlap"===d?void Q(c):void(0,g.gJ)(a,"start");if(403===s)return m.F.data.hangoutDetails.current_stage=r.wi,m.F.data.hangoutDetails.is_concluded=!0,Z(),void(0,g.ik)();if(404===s)return"hangoutNotFound"===d?void setTimeout((()=>window.location.reload()),1e3):(V.availabilitySlots=V.availabilitySlots.filter((t=>t.availability_slot_id!==e.existingSlotId)),m.F.data.availabilitySlotsCount--,void Z());if(401===s)return"authSessionExpired"===d?void(0,i.g)():void(0,i.E)();400===s&&(0,u.A)(a,"error")}}(t):await async function(e){if(l.A.display(),!m.F.data)return(0,u.A)("Something went wrong.","error"),void l.A.remove();const{hangoutId:t,hangoutMemberId:n}=m.F.data,{startTimestamp:s,endTimestamp:a}=e,h={slotStartTimestamp:s,slotEndTimestamp:a},f=function(e,t){if(0===e.length)return null;for(const n of e){if(n.slot_start_timestamp>=t.slotStartTimestamp&&n.slot_start_timestamp<=t.slotEndTimestamp)return n;if(n.slot_end_timestamp>=t.slotStartTimestamp&&n.slot_end_timestamp<=t.slotEndTimestamp)return n;if(n.slot_start_timestamp<=t.slotStartTimestamp&&n.slot_end_timestamp>=t.slotEndTimestamp)return n}return null}(V.availabilitySlots,h);if(f){const e=(0,p.CA)(f.slot_start_timestamp),t=(0,p.CA)(f.slot_end_timestamp);return d.W.display({title:"Overlap detected.",description:`New availability slot overlaps with the following slot:\n${e} - ${t}.`,btnTitle:"Okay"},{simple:!0}),l.A.remove(),void(0,g.gJ)("Slot overlap detected.")}const v={hangoutId:t,hangoutMemberId:n,slotStartTimestamp:s,slotEndTimestamp:a};try{const e={availability_slot_id:(await async function(e){return o.A.post(c,e)}(v)).data.availabilitySlotId,hangout_member_id:n,slot_start_timestamp:s,slot_end_timestamp:a};V.availabilitySlots.push(e),V.availabilitySlots.sort(((e,t)=>e.slot_start_timestamp-t.slot_start_timestamp)),m.F.data.availabilitySlotsCount++,Z(),(0,g.ik)(),(0,u.A)("Availability slot added.","success"),l.A.remove()}catch(e){if(console.log(e),l.A.remove(),!o.A.isAxiosError(e))return void(0,u.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,u.A)("Something went wrong.","error");const n=t.status,s=t.response.data.message,a=t.response.data.reason,d=t.response.data.resData;if(400===n&&!a)return void(0,u.A)("Something went wrong.","error");if((0,u.A)(s,"error"),401===n)return"authSessionExpired"===a?void(0,i.g)():void(0,i.E)();if(403===n)return m.F.data.hangoutDetails.current_stage=r.wi,m.F.data.hangoutDetails.is_concluded=!0,Z(),void(0,g.ik)();if(409===n)return"slotOverlap"===a?void Q(d):"invalidStart"===a?void(0,g.gJ)(s,"start"):(m.F.data.availabilitySlotsCount=r.vJ,void(0,g.ik)());if(404===n)return l.A.display(),void setTimeout((()=>window.location.reload()),1e3);400===n&&((0,g.gJ)(s,"start"),(0,g.gJ)(s,"end"))}}(t)}))}async function z(){V.isLoaded?Z():m.F.data?(l.A.display(),await async function(){if(V.isLoaded)return;if(!m.F.data)return void(0,u.A)("Failed to load availability slots.","error");try{const{hangoutId:e,hangoutMemberId:t}=m.F.data,n=(await async function(e,t){return o.A.get(`${c}?hangoutId=${e}&hangoutMemberId=${t}`)}(e,t)).data.availabilitySlots;V.availabilitySlots=n,V.isLoaded=!0}catch(e){if(console.log(e),!o.A.isAxiosError(e))return void(0,u.A)("Failed to load availability slots.","error");const t=e;if(!t.status||!t.response)return void(0,u.A)("Failed to load availability slots.","error");const n=t.status,r=t.response.data.message,s=t.response.data.reason;if(400===n)return void(0,u.A)("Failed to load availability slots.","error");if((0,u.A)(r,"error"),401===n){if("authSessionExpired"===s)return void(0,i.g)();l.A.display(),setTimeout((()=>window.location.reload()),1e3)}}}(),function(){if(q.hasBeenInitiated)return;if(!m.F.data)return void(0,u.A)("Something went wrong.","error");const e=new Date(m.F.data.conclusionTimestamp);q={hasBeenInitiated:!0,data:{conclusionDate:e.getDate(),initialMonth:e.getMonth(),initialYear:e.getFullYear(),currentMonth:e.getMonth(),currentYear:e.getFullYear()}},P(),null==B||B.addEventListener("click",R),null==O||O.addEventListener("click",H)}(),Z(),l.A.remove()):(0,u.A)("Failed to load availability slots.","error")}function Z(){!function(){var e;if(!m.F.data)return;const t=document.querySelector("#availability-slots");if(!t||!J)return void(0,u.A)("Failed to load your availability slots.","error");const n=(0,a.Ux)(null);let o=!1;for(const e of V.availabilitySlots)e.hangout_member_id===m.F.data.hangoutMemberId&&(n.appendChild(j(e)),o=!0);if(!o)return void t.classList.add("hidden");null===(e=J.firstElementChild)||void 0===e||e.remove(),J.appendChild(n),t.classList.remove("hidden")}(),function(){if(!m.F.data)return;const e=m.F.data.availabilitySlotsCount,t=r.vJ-e,n=document.querySelector("#availability-section-slots-remaining");n&&(n.textContent=`${t}`)}(),P()}async function K(e){if(!(e.target instanceof HTMLButtonElement))return;const t=function(e){if(!(e.target instanceof HTMLButtonElement))return null;const t=e.target.closest(".slot");if(!(t instanceof HTMLDivElement))return null;const n=t.getAttribute("data-slotId");if(!n)return null;const o=+n;if(!Number.isInteger(o))return null;return o}(e);t&&(e.target.classList.contains("edit-btn")?(0,g.YU)("availabilitySlot",t):e.target.classList.contains("delete-btn")&&await async function(e){if(l.A.display(),!m.F.data)return(0,u.A)("Something went wrong.","error"),void l.A.remove();const{hangoutId:t,hangoutMemberId:n}=m.F.data,s={hangoutId:t,hangoutMemberId:n,availabilitySlotId:e};try{await async function(e){const{hangoutId:t,hangoutMemberId:n,availabilitySlotId:i}=e,r=`${c}?hangoutId=${t}&hangoutMemberId=${n}&availabilitySlotId=${i}`;return o.A.delete(r)}(s),V.availabilitySlots=V.availabilitySlots.filter((t=>t.availability_slot_id!==e)),Z(),(0,u.A)("Availability slot deleted.","success"),l.A.remove()}catch(t){if(console.log(t),l.A.remove(),!o.A.isAxiosError(t))return void(0,u.A)("Something went wrong.","error");const n=t;if(!n.status||!n.response)return void(0,u.A)("Something went wrong.","error");const s=n.status,a=n.response.data.message,d=n.response.data.reason;if(400===s)return void(0,u.A)("Something went wrong.","error");if((0,u.A)(a,"error"),403===s)return m.F.data.hangoutDetails.current_stage=r.wi,m.F.data.hangoutDetails.is_concluded=!0,void Z();if(404===s)return"hangoutNotFound"===d?(l.A.display(),void setTimeout((()=>window.location.reload()),1e3)):(V.availabilitySlots=V.availabilitySlots.filter((t=>t.availability_slot_id!==e)),m.F.data.availabilitySlotsCount--,void Z());if(401===s){if("authSessionExpired"===d)return void(0,i.g)();(0,i.E)()}}}(t))}function Q(e){if("object"!=typeof e||null===e)return;if(!("overlappedSlotId"in e)||"number"!=typeof e.overlappedSlotId)return;const t=e.overlappedSlotId;if(!Number.isInteger(t))return;const n=V.availabilitySlots.find((e=>e.availability_slot_id===t));if(!n)return;const o=(0,p.CA)(n.slot_start_timestamp),i=(0,p.CA)(n.slot_end_timestamp);d.W.display({title:"Overlap detected.",description:`New availability slot overlaps with the following slot:\n${o} - ${i}.`,btnTitle:"Okay"},{simple:!0}),(0,g.gJ)("Slot overlap detected.")}},9100:(e,t,n)=>{n.d(t,{N3:()=>oe,PT:()=>ne,M_:()=>ee,Ew:()=>ie});var o=n(7536),i=n(3415),r=n(4803),s=n(2222),a=n(4153),d=n(6595),l=n(2079),u=n(1384),c=n(5671),g=n(5483),m=n(7130),p=n(1093),h=n(7107);o.A.defaults.withCredentials=!0;const f="localhost"===window.location.hostname?`http://${window.location.hostname}:5000/api/hangoutMembers`:`https://${window.location.hostname}/api/hangoutMembers`;var v=n(2484),A=n(9423),b=n(974);function y(e){const t=e.previousElementSibling;if(null==e?void 0:e.classList.contains("revealed"))return e.classList.remove("revealed"),void(null==t||t.setAttribute("type","password"));null==e||e.classList.add("revealed"),null==t||t.setAttribute("type","text")}const w=document.querySelector("#guest-sign-up-form"),S=document.querySelector("#hangout-password-input"),C=document.querySelector("#display-name-input"),E=document.querySelector("#username-input"),L=document.querySelector("#guest-password-input"),_=document.querySelector("#confirm-guest-password-input"),T=document.querySelector("#hangout-password-input-reveal-btn"),F=document.querySelector("#guest-password-input-reveal-btn"),x=document.querySelector("#confirm-guest-password-input-reveal-btn"),k=document.querySelector("#keep-signed-in-btn");let M=null;function D(e,t){M={hangoutId:e,isPasswordProtected:t,keepSignedIn:!1},function(){const e=document.querySelector("#guest-sign-up-section"),t=document.querySelector("#hangout-loading-skeleton");null==e||e.classList.remove("hidden"),null==t||t.classList.add("hidden"),(null==M?void 0:M.isPasswordProtected)&&(null==w||w.classList.add("is-password-protected"))}(),null==S||S.addEventListener("input",(()=>(0,a.Oj)(S))),null==C||C.addEventListener("input",(()=>(0,a.G4)(C))),null==E||E.addEventListener("input",(()=>(0,a.JL)(E))),null==L||L.addEventListener("input",(()=>{(0,a.yz)(L),_&&(0,a.C_)(L,L)})),null==_||_.addEventListener("input",(()=>{L&&(0,a.C_)(_,L)})),null==T||T.addEventListener("click",(()=>y(T))),null==F||F.addEventListener("click",(()=>y(F))),null==x||x.addEventListener("click",(()=>y(x))),null==k||k.addEventListener("click",q),null==w||w.addEventListener("submit",I)}async function I(e){if(e.preventDefault(),h.A.display(),!M)return(0,s.A)("Something went wrong.","error"),void h.A.remove();if(!function(){if(!(S&&C&&E&&L&&_))return!1;if([!(null==M?void 0:M.isPasswordProtected)||(0,a.Oj)(S),(0,a.G4)(C),(0,a.JL)(E),(0,a.yz)(L)].includes(!1))return!1;if(E.value===L.value)return m.A.display(L,"Your password can't be identical to your username."),!1;return!0}())return(0,s.A)("Invalid sign up details.","error"),void h.A.remove();if(!(S&&C&&E&&L))return(0,s.A)("Invalid sign up details.","error"),void h.A.remove();const t={hangoutId:M.hangoutId,hangoutPassword:S.value,username:E.value,password:L.value,displayName:C.value};try{const e=(await async function(e){return o.A.post(`${f}/joinHangout/guest`,e)}(t)).data.authSessionCreated;if((0,s.A)("Successfully joined hangout.","success"),h.A.remove(),!e){i.A.set("pendingSignInHangoutId",M.hangoutId);return void p.W.display({title:"Successfully joined hangout.",description:"You just have to sign in before proceeding.",btnTitle:"Okay"}).addEventListener("click",(e=>{e.target instanceof HTMLButtonElement&&"info-modal-btn"===e.target.id&&(window.location.href="sign-in")}))}!function(){const e=document.querySelector("#guest-sign-up-section"),t=document.querySelector("#hangout-loading-skeleton");null==e||e.classList.add("hidden"),null==t||t.classList.remove("hidden")}(),await oe()}catch(e){if(console.log(e),h.A.remove(),!o.A.isAxiosError(e))return void(0,s.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,s.A)("Something went wrong.","error");const n=t.status,i=t.response.data.message,r=t.response.data.reason;if(400===n&&!r)return void(0,s.A)("Something went wrong.","error");if((0,s.A)(i,"error"),403===n)return void B();if(404===n)return void P();if(401===n)return void m.A.display(S,i);if(409===n)return"usernameTaken"===r?void m.A.display(E,i):"passwordEqualsUsername"===r?void m.A.display(L,i):void R();if(400===n){const e={invalidHangoutPassword:S,invalidUsername:E,invalidUserPassword:L,usernamePasswordIdentical:L,invalidDisplayName:C}[`${r}`];e&&m.A.display(e,i)}}}function q(){M&&(M.keepSignedIn=!M.keepSignedIn,(null==k?void 0:k.classList.contains("checked"))?k.classList.remove("checked"):null==k||k.classList.add("checked"))}function O(){if("guest"===i.A.get("signedInAs"))return void function(){const e=i.A.get("guestHangoutId");if(!e||!(0,a.sg)(e))return void O();window.location.href=`${window.location.origin}/hangout?id=${e}`}();p.W.display({title:"Invalid hangout Link.",description:"The link you've entered doesn't contain a valid hangout ID.\nRequest a valid link from the hangout leader.",btnTitle:"Got to homepage"}).addEventListener("click",(e=>{e.target instanceof HTMLButtonElement&&"info-modal-btn"===e.target.id&&(window.location.href="home")}))}function B(){p.W.display({title:"Hangout has already been concluded.",description:"You're too late to join this one, but you can always create a new one.",btnTitle:"Go to homepage"}).addEventListener("click",(e=>{e.target instanceof HTMLButtonElement&&"info-modal-btn"===e.target.id&&(window.location.href="home")}))}function P(){p.W.display({title:"Hangout not found.",description:"Reach out to the hangout leader to request a valid link.",btnTitle:"Go to homepage"}).addEventListener("click",(e=>{e.target instanceof HTMLButtonElement&&"info-modal-btn"===e.target.id&&(window.location.href="home")}))}function R(){p.W.display({title:"Hangout is full.",description:"Reach out to the hangout leader to check if they can increase the member limit.",btnTitle:"Go to homepage"}).addEventListener("click",(e=>{e.target instanceof HTMLButtonElement&&("info-modal-btn"!==e.target.id||(window.location.href="home"))}))}function $(e){if(e<v.Cb||e>v.wi)return"Failed to load";return["Availability","Suggestions","Voting","Concluded"][e-1]||"Failed to load"}function N(){if(ee.nextStageTimerInitiated)return;const e=document.querySelector("#dashboard-next-stage-time");if(!e)return;const t=setInterval((()=>H(e,t)),v.pj/2);H(e,t),ee.nextStageTimerInitiated=!0}function H(e,t){if(!e)return void clearInterval(t);if(!l.F.data)return e.textContent="Failed to load",void clearInterval(t);const{current_stage:n,stage_control_timestamp:o,availability_period:i,suggestions_period:r,voting_period:s}=l.F.data.hangoutDetails;if(n===v.wi)return e.textContent="None",void clearInterval(t);const a=[i,r,s][n-1];if(!a)return;const d=a-(Date.now()-o);if(d<v.pj)return e.textContent="Less than a minute",void clearInterval(t);const u=`${Math.floor(d/v.x7)}D:${Math.floor(d/v.Hd%24)}H:${Math.floor(d/v.pj%60)}M`;e.textContent=u}function j(e){var t;const n=(0,A.Pp)("member-item",null);return n.setAttribute("data-memberId",`${e.hangout_member_id}`),n.setAttribute("title","View member details"),n.setAttribute("aria-label","View member details"),n.appendChild((0,A.vw)("display-name",e.display_name)),e.hangout_member_id===(null===(t=l.F.data)||void 0===t?void 0:t.hangoutMemberId)&&n.classList.add("user"),e.is_leader&&(n.classList.add("leader"),n.appendChild(function(){const e=(0,A.Ux)("leader-icon");e.setAttribute("title","Hangout leader");const t=(0,A.FJ)(540,540),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d","M286.748 168.173C297.072 162.086 304 150.852 304 138C304 118.67 288.33 103 269 103C249.67 103 234 118.67 234 138C234 151.04 241.131 162.415 251.707 168.436L196.5 273.376C193.977 278.174 188.09 280.087 183.227 277.689L74.1836 223.909C76.623 219.135 78 213.728 78 208C78 188.67 62.3301 173 43 173C23.6699 173 8 188.67 8 208C8 227.33 23.6699 243 43 243C44.2012 243 45.3887 242.939 46.5586 242.821L64.8477 419.064C65.9062 429.256 74.4941 437 84.7402 437H453.854C464.1 437 472.688 429.256 473.746 419.064L492.039 242.778C493.34 242.925 494.66 243 496 243C515.33 243 531 227.33 531 208C531 188.67 515.33 173 496 173C476.67 173 461 188.67 461 208C461 213.664 462.346 219.015 464.734 223.748L355.367 277.689C350.504 280.087 344.617 278.174 342.094 273.376L286.748 168.173Z"),t.appendChild(n),e.appendChild(t),e}())),n}function U(e){var t;const n=(0,A.Ux)("message"),o=null===(t=l.F.data)||void 0===t?void 0:t.hangoutMembersMap.get(e.hangout_member_id);n.appendChild((0,A.no)("message-sent-by",o||"Former member"));const i=(0,A.Ux)("message-content");for(const t of e.message_content.split("\r\n\r\n"))i.appendChild((0,A.vw)(null,t));return n.appendChild(i),n.appendChild((0,A.no)("message-sent-on",(0,b.CA)(e.message_timestamp))),n}function V(e){const t=(0,A.Ux)("event-item");return t.appendChild((0,A.no)("created-on",(0,b.CA)(e.event_timestamp))),t.appendChild((0,A.vw)("description",e.event_description)),t}function W(e,t,n,o,i,r){const s=(0,A.Ux)(null,"hangout-stage-description-container");s.appendChild((0,A.vw)(null,e));const a=(0,A.Ux)("inner-container");a.appendChild(J(`${t} added`,`${n}`)),a.appendChild(J("Remaining",`${o}`));const d=(0,A.Pp)("hangout-description-btn",i);return d.setAttribute("data-goTo",r),s.appendChild(a),s.appendChild(d),s}function J(e,t){const n=(0,A.Ux)(null);return n.appendChild((0,A.no)(null,e)),n.appendChild((0,A.no)(null,t)),n}function G(){const e=function(){const e=(0,A.Ux)(null,"join-hangout-form-container");e.setAttribute("tabindex","0");const t=function(){const e=document.createElement("form");return e.id="join-hangout-form",e}();return t.addEventListener("submit",Y),t.appendChild((0,A.vw)("title","Hangout password required.")),t.appendChild((0,A.vw)("description","Please contact the hangout leader to request the password.")),t.appendChild(function(){const e=(0,A.Ux)("form-group form-group-password relative"),t=document.createElement("label");t.setAttribute("for","join-hangout-password-input"),t.appendChild(document.createTextNode("Hangout password"));const n=document.createElement("input");n.setAttribute("type","password"),n.id="join-hangout-password-input",n.setAttribute("autocomplete","new-password"),n.addEventListener("input",(()=>(0,a.Oj)(n)));const o=(0,A.Pp)("password-icon svg w-2 h-2 group",null);o.id="join-hangout-password-input-reveal-btn",o.setAttribute("aria-label","Reveal guest password"),o.addEventListener("click",(()=>y(o))),o.appendChild(function(){const e=(0,A.FJ)(500,500),t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("class","fill-description dark:fill-description-dark group-hover:fill-cta dark:group-hover:fill-cta-dark"),t.setAttribute("fill-rule","evenodd"),t.setAttribute("clip-rule","evenodd"),t.setAttribute("d","M485.416 267.826C450.744 307.575 358.471 400 250.091 400C141.71 400 49.4376 307.575 14.7649 267.826C5.74504 257.485 5.74504 242.515 14.7649 232.174C49.4376 192.425 141.71 100 250.091 100C358.471 100 450.744 192.425 485.416 232.174C494.436 242.515 494.436 257.485 485.416 267.826ZM250.091 326C292.064 326 326.091 291.974 326.091 250C326.091 208.026 292.064 174 250.091 174C243.954 174 237.988 174.727 232.273 176.1C230.721 176.473 230.286 178.459 231.391 179.611C237.342 185.81 241 194.228 241 203.5C241 222.554 225.554 238 206.5 238C196.426 238 187.36 233.682 181.052 226.796C179.974 225.619 177.965 225.924 177.492 227.448C175.281 234.574 174.091 242.148 174.091 250C174.091 291.974 208.117 326 250.091 326ZM250.091 350C305.319 350 350.091 305.228 350.091 250C350.091 194.772 305.319 150 250.091 150C194.862 150 150.091 194.772 150.091 250C150.091 305.228 194.862 350 250.091 350Z"),e.appendChild(t),e}());const i=(0,A.no)("error-span","");return i.setAttribute("data-target","join-hangout-password-input"),e.appendChild(t),e.appendChild(n),e.appendChild(o),e.appendChild(i),e}()),t.appendChild(function(){const e=(0,A.Ux)("btn-container"),t=(0,A.Pp)("submit-btn","Join hangout");t.setAttribute("type","submit");const n=(0,A.Pp)("cancel-btn","Go to homepage");return n.addEventListener("click",(()=>window.location.href="home")),e.appendChild(t),e.appendChild(n),e}()),e.appendChild(t),document.body.appendChild(e),e}();e.focus(),requestAnimationFrame((()=>{requestAnimationFrame((()=>{e.classList.add("revealed")}))}))}async function Y(e){e.preventDefault(),h.A.display();const t=document.querySelector("#join-hangout-password-input");if(!t)return(0,s.A)("Something went wrong.","error"),void h.A.remove();(0,a.Oj)(t)?await Z():h.A.remove()}let z=null;async function Z(){if(h.A.display(),!z)return(0,s.A)("Something went wrong.","error"),void setTimeout((()=>window.location.reload()),1e3);const e=document.querySelector("#join-hangout-password-input"),t=e?e.value:null,n={hangoutId:z.hangoutId,hangoutPassword:t};try{await async function(e){return o.A.post(`${f}/joinHangout/account`,e)}(n),function(){const e=document.querySelector("#join-hangout-form-container");null==e||e.remove()}(),(0,s.A)("Successfully joined hangout.","success"),h.A.remove(),await oe()}catch(t){if(console.log(t),h.A.remove(),!o.A.isAxiosError(t))return void(0,s.A)("Something went wrong.","error");const n=t;if(!n.status||!n.response)return void(0,s.A)("Something went wrong.","error");const i=n.status,a=n.response.data.message,d=n.response.data.reason;if((0,s.A)(a,"error"),401==i)return"hangoutPassword"===d?void(e&&m.A.display(e,a)):"authSessionExpired"===d?void(0,r.g)():void(0,r.E)();if(403===i)return"guestAccount"===d?void K():void B();if(409===i)return"alreadyJoined"===d?(h.A.display(),void setTimeout((()=>window.location.reload()),1e3)):"hangoutsLimitReached"===d?void function(e){const t=p.W.display({title:e,description:"To create or join a new hangout, wait for one of your current hangouts to conclude or leave one to make room.",btnTitle:"Go to my account"});t.addEventListener("click",(e=>{e.target instanceof HTMLButtonElement&&"info-modal-btn"===e.target.id&&(window.location.href="account")}))}(a):void R();if(404===i)return void P();if(400===i){if("invalidHangoutPassword"===d)return void(e&&m.A.display(e,a));O()}}}function K(){g.u.display({title:"You're signed in as a guest.",description:"This is not the hangout linked to your guest account.\nGuest accounts can only access the hangout they were created for.",confirmBtnTitle:"Create a new guest account",cancelBtnTitle:"Go to homepage",extraBtnTitle:null,isDangerousAction:!1}).addEventListener("click",(async e=>{if(e.target instanceof HTMLButtonElement)return"confirm-modal-confirm-btn"===e.target.id?z?void D(z.hangoutId,z.isPasswordProtected):((0,s.A)("Something went wrong.","error"),void setTimeout((()=>window.location.href="home"),1e3)):void("confirm-modal-cancel-btn"===e.target.id&&(window.location.href="home"))}))}function Q(e,t){(function(e){if("object"!=typeof e||null===e)return!1;if(!("type"in e)||"string"!=typeof e.type)return!1;if(!("reason"in e)||"string"!=typeof e.reason)return!1;if(!("data"in e)||"object"!=typeof e.data||null===typeof e.data)return!1;return!0})(e)&&("hangoutStageUpdate"===e.type&&function(e){if(!l.F.data)return;const{hangoutDetails:t}=l.F.data,{reason:n,data:o}=e;let i=Date.now();"object"==typeof o&&null!==o&&"stageControlTimestamp"in o&&"number"==typeof o.stageControlTimestamp&&(i=o.stageControlTimestamp);if("hangoutAutoProgressed"===n&&(t.current_stage++,4===t.current_stage)){const e={event_description:"Hangout has been concluded.",event_timestamp:i};ee.latestHangoutEvents.push(e)}if("noSuggestionConclusion"===n){t.current_stage=4;const e={event_description:"Hangout reached the voting stage without any suggestions and was therefore automatically concluded.",event_timestamp:i};ee.latestHangoutEvents.unshift(e)}t.stage_control_timestamp=i,ie(),N()}(e),"chatUpdate"!==e.type?"newData"!==e.type?"hangoutUtil"===e.type&&function(e,t){if("memberJoined"===e.reason)return;if("memberLeft"===e.reason);}(e):function(e,t){if("newAvailabilitySlot"===e.reason)return;if("newSuggestions"===e.reason)return;e.reason}(e):function(e,t){if("newMessage"===e.reason)return;e.reason}(e))}function X(e,t,n=0){if(n>=2)return l.F.hangoutWebSocket=null,l.F.webSocketConnected=!1,void p.W.display({title:"Server connection issues.",description:"Live server connection has been lost, and we couldn't reconnect you.\nThis may result in some hangout updates not being visible without a page reload.",btnTitle:"Okay"},{simple:!0});const o="localhost"===window.location.hostname?"ws://localhost:5000":`wss://${window.location.hostname}`,i=new WebSocket(`${o}?hangoutMemberId=${e}&hangoutId=${t}`);i.addEventListener("open",(()=>{l.F.hangoutWebSocket=i,l.F.webSocketConnected=!0,window.addEventListener("beforeunload",(()=>{var e;null===(e=l.F.hangoutWebSocket)||void 0===e||e.close(),l.F.hangoutWebSocket=null,l.F.webSocketConnected=!1}))})),i.addEventListener("message",(e=>{if(!e.data)return;const t=function(e){try{return JSON.parse(e)}catch(e){return null}}(e.data);null!==t&&(console.log(t),Q(t))})),i.addEventListener("close",(o=>{1e3!==o.code&&(console.log(`Websocket connection closed with code: ${o.code}`),setTimeout((()=>X(e,t,++n)),200))})),i.addEventListener("error",(e=>{console.log(e),1===i.readyState&&i.close(1011)}))}const ee={nextStageTimerInitiated:!1,latestHangoutEvents:[],latestChatMessages:[]},te=document.querySelector("#hangout-stage-description");async function ne(){await oe(),document.addEventListener("loadSection-dashboard",ie),null==te||te.addEventListener("click",(e=>{e.target instanceof HTMLButtonElement&&e.target.classList.contains("hangout-description-btn")&&(0,u._3)(e)})),function(){const e=sessionStorage.getItem("latestHangoutSection");if(!e)return;setTimeout((()=>(0,u.SQ)(e)),0)}()}async function oe(){const e=new URL(window.location.href).searchParams.get("id");if(!e||!(0,a.sg)(e))return void O();if(i.A.get("signedInAs"))try{const t=(await(0,d.oc)(e)).data,n=new Map;for(const e of t.hangoutMembers)n.set(e.hangout_member_id,e.display_name);l.F.data={hangoutId:e,hangoutMemberId:t.hangoutMemberId,hangoutMembers:t.hangoutMembers,hangoutMembersMap:n,isLeader:t.isLeader,isPasswordProtected:t.isPasswordProtected,decryptedHangoutPassword:t.decryptedHangoutPassword,availabilitySlotsCount:t.hangoutMemberCountables.availability_slots_count,suggestionsCount:t.hangoutMemberCountables.suggestions_count,votesCount:t.hangoutMemberCountables.votes_count,conclusionTimestamp:t.conclusionTimestamp,hangoutDetails:t.hangoutDetails},ee.latestChatMessages=t.latestChatMessages,ee.latestHangoutEvents=t.latestHangoutEvents,ie(),function(){const e=document.querySelector("#guest-sign-up-section"),t=document.querySelector("#hangout-loading-skeleton");null==e||e.remove(),null==t||t.classList.remove("hidden")}(),function(){var e,t;const n=document.querySelector("#hangout-desktop-nav"),o=document.querySelector("#dashboard-section"),i=document.querySelector("#hangout-loading-skeleton");null===(t=null===(e=null==n?void 0:n.parentElement)||void 0===e?void 0:e.parentElement)||void 0===t||t.classList.remove("hidden"),null==o||o.classList.remove("hidden"),null==i||i.remove()}(),X(t.hangoutMemberId,e)}catch(t){if(console.log(t),!o.A.isAxiosError(t))return(0,s.A)("Failed to load hangout data.","error"),void setTimeout((()=>window.location.href="home"),1e3);const n=t;if(!n.status||!n.response)return(0,s.A)("Failed to load hangout data.","error"),void setTimeout((()=>window.location.href="home"),1e3);const a=n.status,d=n.response.data.message,l=n.response.data.reason,u=n.response.data.resData;if(401===a)return"authSessionExpired"===l?void(0,r.g)(`hangout${window.location.search}`):void function(e,t){if(!function(e){return"object"==typeof e&&null!==e&&("isConcluded"in e&&"boolean"==typeof e.isConcluded&&("isPasswordProtected"in e&&"boolean"==typeof e.isPasswordProtected&&("isFull"in e&&("boolean"==typeof e.isFull||null===e.isFull))))}(e))return(0,s.A)("Something went wrong.","error"),void setTimeout((()=>window.location.href="home"),1e3);if(e.isConcluded)return void B();if(z={hangoutId:t,isPasswordProtected:e.isPasswordProtected,isFull:e.isFull},"guest"===i.A.get("signedInAs"))return void K();if(e.isPasswordProtected)return void G();if(e.isFull)return void R();g.u.display({title:"Confirm access.",description:"It looks like you're not a member of this hangout.\nWould you like to join?",confirmBtnTitle:"Join hangout",cancelBtnTitle:"Go to my account",extraBtnTitle:null,isDangerousAction:!1}).addEventListener("click",(async e=>{if(e.target instanceof HTMLButtonElement)return"confirm-modal-confirm-btn"===e.target.id?(g.u.remove(),void await Z()):void("confirm-modal-cancel-btn"===e.target.id&&(window.location.href="account"))}))}(u,e);if(404===a)return void P();if(400===a)return void O();(0,s.A)(d,"error"),setTimeout((()=>window.location.href="home"),1e3)}else await async function(e){h.A.display();let t=!1;try{t=(await(0,d.OU)(e)).data.isPasswordProtected,h.A.remove()}catch(e){if(console.log(e),h.A.remove(),!o.A.isAxiosError(e))return void(0,s.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,s.A)("Something went wrong.","error");const n=t.status,i=t.response.data.message;return(0,s.A)(i,"error"),403===n?void B():404===n?void P():400===n?void O():void 0}g.u.display({title:"Not signed in.",description:"You must be signed in to proceed.",confirmBtnTitle:"Sign in",cancelBtnTitle:"Go to homepage",extraBtnTitle:"Join as a guest",isDangerousAction:!1}).addEventListener("click",(n=>{if(n.target instanceof HTMLButtonElement)return"confirm-modal-confirm-btn"===n.target.id?(i.A.set("pendingSignInHangoutId",e),void(window.location.href="sign-in")):void("confirm-modal-cancel-btn"!==n.target.id?"confirm-modal-other-btn"===n.target.id&&(g.u.remove(),D(e,t)):window.location.href="home")}))}(e)}function ie(){!function(){if(!l.F.data)return void(0,c.WN)();const e=l.F.data.hangoutDetails,t=document.querySelector("#hangout-title");t&&(t.textContent=e.hangout_title);const n=document.querySelector("#dashboard-current-stage");n&&(n.textContent=$(e.current_stage));const o=document.querySelector("#dashboard-next-stage");o&&(o.textContent=(i=e.current_stage,i>=v.wi?"None":i===v.Gr?"Conclusion":$(i+1)));var i;const r=document.querySelector("#dashboard-conclusion-time");r&&(r.textContent=(0,b.CA)(l.F.data.conclusionTimestamp));const a=document.querySelector("#dashboard-members-limit");a&&(a.textContent=`${e.members_limit} members`);const d=document.querySelector("#dashboard-view-members-btn");null==d||d.addEventListener("click",u._3),N(),function(){if(!l.F.data)return;const{isLeader:e,isPasswordProtected:t,decryptedHangoutPassword:n}=l.F.data,o=document.querySelector("#dashboard-hangout-password-state"),i=document.querySelector("#dashboard-hangout-password-value"),r=document.querySelector("#dashboard-hangout-password-btn");if(!o||!i||!r)return;if(!e)return void(t&&(i.textContent="Yes"));if(o.textContent="Hangout password",t)return r.classList.remove("hidden"),i.textContent="*************",void r.addEventListener("click",(async()=>{n?await(0,c.lW)(n):(0,s.A)("Hangout is not password protected.","error")}));i.textContent="Not set"}()}(),function(){var e;if(!l.F.data)return;const{hangoutDetails:t,availabilitySlotsCount:n,suggestionsCount:o,votesCount:i}=l.F.data,r=document.querySelector("#hangout-stage-description");if(!r)return;const s=r.getAttribute("data-currentStage");if(s&&+s===t.current_stage)return;r.setAttribute("date-currentStage",`${t.current_stage}`);let a=null;if(t.current_stage===v.Cb&&(a=W("Add your availability slots and let everyone know when you're free.","Slots",n,v.vJ-n,"View availability slots","availability")),t.current_stage===v.c7&&(a=W("Share your suggestions with everyone.","Suggestions",o,v.fD-o,"View suggestions","suggestions")),t.current_stage===v.Gr&&(a=W("Vote for the suggestions you like best.","Suggestions",i,v.ZC-i,"View suggestions","suggestions")),t.current_stage===v.wi){a=(0,A.Ux)(null,"hangout-stage-description-container");const e=(0,A.Pp)("hangout-description-btn","Learn more");e.setAttribute("data-goTo","conclusion"),a.appendChild((0,A.vw)(null,"Hangout has been concluded!")),a.appendChild(e)}a&&(null===(e=r.firstElementChild)||void 0===e||e.remove(),r.appendChild(a))}(),function(){var e;if(0===ee.latestChatMessages.length)return;const t=document.querySelector("#dashboard-chat-container"),n=document.querySelector("#dashboard-chat-empty");if(!t||!n)return;const o=(0,A.Ux)(null,"dashboard-chat-container-inner");for(let e=0;e<2;e++){const t=ee.latestChatMessages[e];if(!t)break;o.insertAdjacentElement("afterbegin",U(t))}null===(e=t.firstElementChild)||void 0===e||e.remove(),t.insertAdjacentElement("afterbegin",o),t.classList.remove("hidden"),n.classList.add("hidden")}(),function(){var e;const t=document.querySelector("#dashboard-events");if(!t)return void(0,s.A)("Failed to load hangout events.","error");const n=(0,A.Ux)(null,"dashboard-events-container");for(const e of ee.latestHangoutEvents)n.appendChild(V(e));null===(e=t.firstElementChild)||void 0===e||e.remove(),t.appendChild(n)}(),function(){if(!l.F.data)return;const{hangoutDetails:e,hangoutMembers:t}=l.F.data,n=document.querySelector("#dashboard-current-members");n&&(n.textContent=`${t.length}`);const o=document.querySelector("#dashboard-members-limit");o&&(o.textContent=`${e.members_limit}`),function(){var e;if(!l.F.data)return;const t=l.F.data.hangoutMembers,n=document.querySelector("#dashboard-members");if(!n)return;!function(e){const t=e.findIndex((e=>{var t;return e.hangout_member_id===(null===(t=l.F.data)||void 0===t?void 0:t.hangoutMemberId)}));if(-1===t)return;const[n]=e.splice(t,1);if(n&&e.unshift(n),null==n?void 0:n.is_leader)return;const o=e.findIndex((e=>e.is_leader));if(-1===o)return;const[i]=e.splice(o,1);i&&e.splice(1,0,i)}(t);const o=(0,A.Ux)("dashboard-members-container");for(const e of t)o.appendChild(j(e));null===(e=n.firstElementChild)||void 0===e||e.remove(),n.appendChild(o)}()}()}},7902:(e,t,n)=>{n.d(t,{$4:()=>M,MX:()=>P,YU:()=>c,gJ:()=>$,ik:()=>T,pJ:()=>I,vK:()=>E,yf:()=>R});var o=n(2484),i=n(9423),r=n(7130),s=n(7107),a=n(2222),d=n(974),l=n(2079);let u={hasBeenInitiated:!1,isActive:!1,data:null};function c(e,t=null){if(!l.F.data)return void(0,a.A)("Something went wrong.","error");const n=l.F.data.conclusionTimestamp,o=document.querySelector("#date-time-picker");if(!o)return void(0,a.A)("Something went wrong.","error");const i=new Date(n),r=i.getDate(),s=i.getMonth(),d=i.getFullYear(),c=!1===u.hasBeenInitiated;u={hasBeenInitiated:!0,isActive:!0,data:{purpose:e,existingSlotId:t,conclusionDate:r,initialMonth:s,initialYear:d,currentMonth:s,currentYear:d,selectedDate:null,currentStage:"date",timeSlotExtended:!1}},k(),o.style.display="flex",o.focus(),requestAnimationFrame((()=>{requestAnimationFrame((()=>{o.classList.add("revealed")}))})),c&&(null==m||m.addEventListener("click",q),null==p||p.addEventListener("click",C),null==f||f.addEventListener("submit",S),null==h||h.addEventListener("click",T),null==y||y.addEventListener("click",T),null==b||b.addEventListener("click",_),null==w||w.addEventListener("click",F))}const g=document.querySelector("#date-time-picker"),m=document.querySelector("#date-picker-header"),p=document.querySelector("#date-picker-dates"),h=document.querySelector("#date-picker-cancel-btn"),f=document.querySelector("#time-picker-form"),v=document.querySelector("#time-picker-slot-start"),A=document.querySelector("#time-picker-slot-end"),b=document.querySelector("#time-picker-change-date-btn"),y=document.querySelector("#time-picker-cancel-btn"),w=document.querySelector("#extend-slot-end-btn");function S(e){if(e.preventDefault(),s.A.display(),!u.isActive)return void s.A.remove();if(!u.data)return(0,a.A)("Something went wrong.","error"),void s.A.remove();const{currentStage:t,currentYear:n,currentMonth:i,selectedDate:c,timeSlotExtended:g,purpose:m,existingSlotId:p}=u.data;if("time"!==t||!c)return(0,a.A)("Must provide a date first.","error"),s.A.remove(),void _();if(!v||!A)return(0,a.A)("Something went wrong.","error"),void s.A.remove();const h=x(v),f=x(A);if(!h||!f)return(0,a.A)("Invalid time slot.","error"),void s.A.remove();const b=v.value,y=A.value,w=b.split(":"),S=y.split(":"),C=w[0]?+w[0]:null,E=w[1]?+w[1]:null;if(null===C||null===E)return;const L=S[0]?+S[0]:null,F=S[1]?+S[1]:null;if(null===L||null===F)return;const k=new Date(n,i,c,C,E).getTime(),M=new Date(n,i,g?c+1:c,L,F).getTime();return function(e,t){if(!A)return!1;if(t<e)return r.A.display(A,"Time slot can't end before its start."),!1;if(t-e<o.Hd)return r.A.display(A,"Time slot can't be shorter than an hour."),!1;if(t-e>o.x7)return r.A.display(A,"Time slot can't be longer than 24 hours."),!1;return!0}(k,M)?function(e){if(!l.F.data)return!1;const t=l.F.data.conclusionTimestamp;if(e<=t){const e=(0,d.WB)(new Date(t));return v&&r.A.display(v,`Time slot must start after ${e} if added on the hangout conclusion date.`),!0}return!1}(k)?((0,a.A)("Invalid time slot start.","error"),void s.A.remove()):(document.dispatchEvent(new CustomEvent("dateTimePicker-selection",{detail:{purpose:m,existingSlotId:p,startTimestamp:k,endTimestamp:M}})),void("suggestionSlot"===m&&(T(),s.A.remove()))):((0,a.A)("Invalid time slot.","error"),void s.A.remove())}function C(e){if(!u.data)return;if(!(e.target instanceof HTMLButtonElement))return;if(e.target.classList.contains("forbidden"))return;const t=e.target.getAttribute("data-value");t&&function(e){if(!Number.isInteger(e))return!1;if(!u.data)return!1;const{currentYear:t,currentMonth:n,initialYear:o,initialMonth:i,conclusionDate:r}=u.data,s=new Date(o,i+6).getMonth()===n?new Date(o,i+6,r).getDate():null,a=n===i;if(s&&e>s||a&&e<r)return!1;if(!function(e,t,n){const o=P(e,t);if(n>o||n<1)return!1;return!0}(t,n,e))return!1;return!0}(+t)?(u.data.selectedDate=+t,L()):(0,a.A)("Invalid date.","error")}function E(e){if(c("availabilitySlot"),!u.data)return(0,a.A)("Something went wrong.","error"),void T();const t=new Date(e);u.data.currentMonth=t.getMonth(),u.data.currentYear=t.getFullYear(),u.data.selectedDate=t.getDate(),k(),L()}function L(){if(!u.data)return;const{currentYear:e,currentMonth:t,selectedDate:n}=u.data;if(!n)return;u.data.currentStage="time";const o=new Date(e,t),i=document.querySelector("#time-picker-selected-date");i&&(i.textContent=`${(0,d.Ge)(o)} ${n}${(0,d.Dr)(n)}, ${e}.`),null==g||g.setAttribute("data-stage","time")}function _(){u.data&&(u.data.currentStage="date",u.data.selectedDate=null,null==g||g.setAttribute("data-stage","date"))}function T(){u.isActive=!1,g&&(g.classList.remove("revealed"),setTimeout((()=>{g.style.display="none",function(){u.data=null,null==g||g.setAttribute("data-stage","date"),null==w||w.classList.remove("checked");const e=document.querySelector("#time-picker-selected-date");if(e&&(e.textContent=""),!v||!A)return;v.value="",A.value="",r.A.hide(v),r.A.hide(A)}()}),150))}function F(){u.data&&w&&(u.data.timeSlotExtended=!u.data.timeSlotExtended,w.classList.toggle("checked"))}function x(e){return t=e.value,/^(?:[01]\d|2[0-3]):[0-5]\d$/.test(t)?(r.A.hide(e),!0):(r.A.display(e,"Invalid 24-hour time format (HH:MM)."),!1);var t}function k(){var e;if(!u.data)return;const{currentYear:t,currentMonth:n}=u.data,o=new Date(t,n,1),r=o.getDay(),s=P(t,n),d=new Intl.DateTimeFormat("en-GB",{month:"long"}).format(o),l=document.querySelector("#date-picker-header-title");l&&(l.textContent=`${d} ${t}`);const c=document.querySelector("#date-picker-dates");if(!c)return u.data=null,void(0,a.A)("Something went wrong.","error");const g=(0,i.Ux)(null,"date-picker-dates-container");M(g,r),function(e,t){if(!u.data)return;const{currentMonth:n,initialYear:o,initialMonth:i,conclusionDate:r}=u.data,s=new Date(o,i+6).getMonth()===n,a=s?new Date(o,i+6,r).getDate():null,d=n===i;for(let n=1;n<=t;n++)a&&n>a||d&&n<r?e.appendChild(I(n,!0)):e.appendChild(I(n))}(g,s),null===(e=c.firstElementChild)||void 0===e||e.remove(),c.appendChild(g)}function M(e,t){if(0!==t)for(let n=0;n<t-1;n++)e.appendChild(D());else for(let t=0;t<6;t++)e.appendChild(D())}function D(){const e=document.createElement("span");return e.className="date-item empty",e}function I(e,t=!1){const n=(0,i.Pp)("date-cell",`${e}`);return n.setAttribute("data-value",`${e}`),t&&(n.classList.add("forbidden"),n.disabled=!0),n}function q(e){e.target instanceof HTMLButtonElement&&("date-picker-backwards-btn"!==e.target.id?"date-picker-forwards-btn"===e.target.id&&function(){if(!u.data)return;const{currentYear:e,currentMonth:t,initialYear:n,initialMonth:i,conclusionDate:r}=u.data,s=new Date(e,t,r).getTime(),a=new Date(n,i+6,r).getTime();if(s>=a)return;if(11===t)return u.data.currentMonth=0,u.data.currentYear=e+1,s+30*o.x7>=a&&O("forwards"),B("backwards"),void k();u.data.currentMonth=t+1,s+31*o.x7>=a&&O("forwards"),B("backwards"),k()}():function(){if(!u.data)return;const{currentYear:e,currentMonth:t,initialMonth:n}=u.data;if(t===n)return;if(0===t)return u.data.currentMonth=11,u.data.currentYear=e-1,11===n&&O("backwards"),B("forwards"),void k();u.data.currentMonth=t-1,t-1===n&&O("backwards"),B("forwards"),k()}())}function O(e){const t=document.querySelector(`#date-picker-${e}-btn`);t&&t.classList.add("disabled")}function B(e){const t=document.querySelector(`#date-picker-${e}-btn`);t&&t.classList.remove("disabled")}function P(e,t){if(1===t)return function(e){const t=e%4==0,n=e%100==0,o=e%400==0;if(t&&(!n||o))return 29;return 28}(e);return[3,5,8,10].includes(t)?30:31}function R(e){if(!(e instanceof CustomEvent))return!1;if(!("detail"in e)||"object"!=typeof e.detail||null===e.detail)return!1;if(!("purpose"in e.detail)||!("startTimestamp"in e.detail)||!("endTimestamp"in e.detail))return!1;const{purpose:t,startTimestamp:n,endTimestamp:o}=e.detail;return"string"==typeof t&&"number"==typeof n&&"number"==typeof o&&("availabilitySlot"===t||"suggestionSlot"===t)}function $(e,t="end"){if(!u.isActive)return;const n=document.querySelector(`#time-picker-slot-${t}`);n&&r.A.display(n,e)}},2079:(e,t,n)=>{n.d(t,{F:()=>o});const o={webSocketConnected:!1,hangoutWebSocket:null,data:null}},5671:(e,t,n)=>{n.d(t,{WN:()=>r,lW:()=>s});var o=n(5483),i=n(2222);n(2079);function r(){o.u.display({title:"Something went wrong.",description:"We ran into an unexpected error while fetching the data for you.",confirmBtnTitle:"Reload page",cancelBtnTitle:"Go to homepage",extraBtnTitle:null,isDangerousAction:!1}).addEventListener("click",(e=>{e.target instanceof HTMLButtonElement&&("confirm-modal-confirm-btn"!==e.target.id?"confirm-modal-cancel-btn"===e.target.id&&(window.location.href="home"):window.location.reload())}))}async function s(e){try{await navigator.clipboard.writeText(e),(0,i.A)("Copied to clipboard.","success")}catch(e){console.log(e),(0,i.A)("Failed to copy to clipboard.","error")}}},1384:(e,t,n)=>{n.d(t,{Ki:()=>l,SQ:()=>c,_3:()=>u});const o=document.querySelector("#hangout-desktop-nav"),i=document.querySelector("#hangout-phone-nav"),r=document.querySelector("#hangout-phone-nav-btn"),s=document.querySelector("#hangout-phone-nav-overlay"),a=document.querySelector("#hangout-phone-nav-menu"),d={selectedSection:"dashboard"};function l(){null==o||o.addEventListener("click",u),null==r||r.addEventListener("click",g),null==a||a.addEventListener("click",p)}function u(e){var t,n;if(!(e.target instanceof HTMLButtonElement))return;const r=e.target.getAttribute("data-goTo");r&&r!==d.selectedSection&&(null===(t=document.querySelector(`#${r}-section`))||void 0===t||t.classList.remove("hidden"),null===(n=document.querySelector(`#${d.selectedSection}-section`))||void 0===n||n.classList.add("hidden"),window.scrollTo({top:0}),d.selectedSection=r,sessionStorage.setItem("latestHangoutSection",r),null==o||o.setAttribute("data-selected",r),null==i||i.setAttribute("data-selected",r),m(),document.dispatchEvent(new CustomEvent(`loadSection-${r}`)))}function c(e){var t,n;e!==d.selectedSection&&(null===(t=document.querySelector(`#${e}-section`))||void 0===t||t.classList.remove("hidden"),null===(n=document.querySelector(`#${d.selectedSection}-section`))||void 0===n||n.classList.add("hidden"),window.scrollTo({top:0}),d.selectedSection=e,sessionStorage.setItem("latestHangoutSection",e),null==o||o.setAttribute("data-selected",e),null==i||i.setAttribute("data-selected",e),m(),"dashboard"!==e&&document.dispatchEvent(new CustomEvent(`loadSection-${e}`)))}function g(){null==s||s.classList.remove("hidden"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{null==s||s.classList.add("expanded")}))}))}function m(){requestAnimationFrame((()=>{requestAnimationFrame((()=>{null==s||s.classList.remove("expanded")}))})),setTimeout((()=>null==s?void 0:s.classList.add("hidden")),150)}function p(e){e.target instanceof HTMLButtonElement&&(e.target.classList.contains("close-menu-btn")?m():u(e))}},7776:(e,t,n)=>{n.d(t,{Q:()=>$,n:()=>M});var o=n(7536),i=n(4803),r=n(2484),s=n(5483),a=n(7130),d=n(1093),l=n(7107),u=n(2222);class c{constructor(e,t,n,o,i=n,r=!1){var s,a,d,l,u;this.inputId=e,this.keyword=t,this.disabled=r,n>=0&&o>n?(this.sliderMinValue=n,this.sliderMaxValue=o):(this.sliderMinValue=0,this.sliderMaxValue=1),this.actualInput=document.querySelector(`#${e}`),this.slider=document.querySelector(`[data-slider-target="${e}"]`),this.sliderThumb=null===(a=null===(s=this.slider)||void 0===s?void 0:s.firstElementChild)||void 0===a?void 0:a.firstElementChild,this.sliderTextSpan=document.querySelector(`[data-slider-text="${e}"]`),this.sliderDomRect=null===(d=this.slider)||void 0===d?void 0:d.getBoundingClientRect(),this.isDragging=!1,this.isTouchDevice=!1,this.sliderInitialValue=i,this.sliderValue=i,this.boundDragSlider=this.dragSlider.bind(this),this.boundStopDrag=this.stopDrag.bind(this),this.updateSliderWidth(),this.disabled?null===(u=null===(l=this.actualInput)||void 0===l?void 0:l.parentElement)||void 0===u||u.classList.add("disabled"):this.loadEventListeners()}get value(){return this.sliderValue}get initialValue(){return this.sliderInitialValue}updateValue(e){this.sliderValue=e,this.sliderInitialValue=e,this.updateSliderWidth(),this.updateSliderTextValue(),document.dispatchEvent(new CustomEvent(`${this.inputId}_valueChange`))}resetValues(){this.sliderValue=this.sliderInitialValue,this.updateSliderWidth(),this.updateSliderTextValue(),document.dispatchEvent(new CustomEvent(`${this.inputId}_valueChange`))}disable(){var e,t;this.disabled=!0,null===(t=null===(e=this.slider)||void 0===e?void 0:e.parentElement)||void 0===t||t.classList.add("disabled")}loadEventListeners(){var e,t,n;document.addEventListener("updateDOMRect",(()=>setTimeout((()=>this.updateSliderDomRect()),200))),window.addEventListener("resize",this.updateSliderDomRect.bind(this)),"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0&&(this.isTouchDevice=!0),this.isTouchDevice&&(null===(e=this.slider)||void 0===e||e.addEventListener("touchstart",this.startDrag.bind(this),{passive:!1})),null===(t=this.slider)||void 0===t||t.addEventListener("mousedown",this.startDrag.bind(this)),null===(n=this.slider)||void 0===n||n.addEventListener("keyup",this.handleSliderKeyEvents.bind(this))}startDrag(){var e;this.disabled||(this.isDragging=!0,document.body.style.userSelect="none",null===(e=this.sliderThumb)||void 0===e||e.classList.add("active"),this.isTouchDevice&&(document.body.addEventListener("touchmove",this.boundDragSlider,{passive:!1}),document.body.addEventListener("touchend",this.boundStopDrag,{passive:!1})),document.body.addEventListener("mousemove",this.boundDragSlider),document.body.addEventListener("mouseup",this.boundStopDrag))}dragSlider(e){if(this.disabled)return;if(!this.isDragging)return;if(!this.sliderDomRect)return;let t;if(e instanceof MouseEvent)t=e.clientX;else{e instanceof TouchEvent&&e.preventDefault();const n=e.touches[0];if(!n)return;t=n.clientX}const n=this.isTouchDevice?0:4,o=t-this.sliderDomRect.left,i=Math.min(o,this.sliderDomRect.width)/this.sliderDomRect.width*100+n|0;this.updateSliderValues(i)}stopDrag(){var e;this.disabled||(this.isDragging=!1,document.body.style.userSelect="auto",null===(e=this.sliderThumb)||void 0===e||e.classList.remove("active"),this.isTouchDevice&&(document.body.removeEventListener("touchmove",this.boundDragSlider),document.body.removeEventListener("touchend",this.boundStopDrag)),document.body.removeEventListener("mousemove",this.boundDragSlider),document.body.removeEventListener("mouseup",this.boundStopDrag),document.dispatchEvent(new CustomEvent(`${this.inputId}_valueChange`)))}updateSliderDomRect(){var e;this.sliderDomRect=null===(e=this.slider)||void 0===e?void 0:e.getBoundingClientRect()}updateSliderValues(e){var t;if(!(this.sliderThumb instanceof HTMLDivElement))return;this.sliderThumb.style.width=`${e}%`;const n=e/(100/this.sliderMaxValue)|0;this.sliderValue=Math.max(this.sliderMinValue,n),this.updateSliderTextValue(),null===(t=this.actualInput)||void 0===t||t.setAttribute("value",`${this.sliderValue}`)}updateSliderTextValue(){this.sliderTextSpan&&(1!==this.sliderValue?this.sliderTextSpan.textContent=`${this.sliderValue} ${this.keyword}s`:this.sliderTextSpan.textContent=`${this.sliderValue} ${this.keyword}`)}handleSliderKeyEvents(e){"ArrowLeft"===e.key&&this.stepBack(),"ArrowRight"===e.key&&this.stepForward()}stepBack(){this.sliderValue<=this.sliderMinValue||(this.sliderValue--,this.updateSliderWidth())}stepForward(){this.sliderValue>=this.sliderMaxValue||(this.sliderValue++,this.updateSliderWidth())}updateSliderWidth(){var e;const t=this.sliderValue*(100/this.sliderMaxValue);this.sliderThumb instanceof HTMLDivElement&&(this.sliderThumb.style.width=`${t}%`),null===(e=this.actualInput)||void 0===e||e.setAttribute("value",`${this.sliderValue}`),this.updateSliderTextValue()}}var g=n(4153),m=n(6595),p=n(2079),h=n(5671),f=n(1384),v=n(2458);const A=document.querySelector("#stages-settings-apply-btn"),b=document.querySelector("#stages-settings-reset-btn"),y=document.querySelector("#members-limit-settings-apply-btn"),w=document.querySelector("#members-limit-settings-reset-btn");function S(){if(!M.sliders)return;const{availabilityPeriodSlider:e,suggestionsPeriodSlider:t,votingPeriodSlider:n,membersLimitSlider:o}=M.sliders;e.value!==e.initialValue||t.value!==t.initialValue||n.value!==n.initialValue?(M.unsavedStageChanges=!0,C()):(M.unsavedStageChanges=!1,C()),o.value!==o.initialValue?(M.unsavedMembersLimitChanges=!0,E()):(M.unsavedMembersLimitChanges=!1,E())}function C(){if(A&&b){if(M.unsavedStageChanges)return A.classList.remove("disabled"),A.disabled=!1,void b.classList.remove("hidden");A.classList.add("disabled"),A.disabled=!0,b.classList.add("hidden")}}function E(){if(y&&w){if(M.unsavedMembersLimitChanges)return y.classList.remove("disabled"),y.disabled=!1,void w.classList.remove("hidden");y.classList.add("disabled"),y.disabled=!0,w.classList.add("hidden")}}function L(e,t,n){return e<t?Math.round(e/r.x7):t===e?Math.ceil((Date.now()-n)/r.x7):r.o4}function _(){T(),F()}function T(){M.sliders&&(M.sliders.availabilityPeriodSlider.resetValues(),M.sliders.suggestionsPeriodSlider.resetValues(),M.sliders.votingPeriodSlider.resetValues(),M.unsavedStageChanges=!1)}function F(){M.sliders&&(M.sliders.membersLimitSlider.resetValues(),M.unsavedMembersLimitChanges=!1)}function x(e){if(e<=0)return!1;if(e%r.x7!=0)return!1;const t=e/r.x7;return!(t<r.o4||t>r.kD)}function k(){d.W.display({title:"No suggestions added yet.",description:"You can't progress the hangout into the voting stage without any suggestions.",btnTitle:"Okay"},{simple:!0})}const M={isLoaded:!1,settingsSectionMutationObserverActive:!1,unsavedStageChanges:!1,unsavedMembersLimitChanges:!1,hangoutPassword:null,sliders:null},D=document.querySelector("#settings-section"),I=document.querySelector("#hangout-settings-password-form"),q=document.querySelector("#hangout-settings-password-input"),O=document.querySelector("#progress-hangout-btn"),B=document.querySelector("#settings-member-count-span"),P=document.querySelector("#settings-password-previewer"),R=document.querySelector("#delete-hangout-password-btn");function $(){document.addEventListener("loadSection-settings",N),null==D||D.addEventListener("click",V),null==I||I.addEventListener("submit",(async e=>{e.preventDefault(),W()}))}function N(){if(M.isLoaded)return void H();if(!p.F.data)return void(0,u.A)("Failed to load hangout settings.","error");l.A.display();const{hangoutDetails:e,isLeader:t,decryptedHangoutPassword:n}=p.F.data,{current_stage:o,stage_control_timestamp:i,availability_period:s,suggestions_period:a,voting_period:d,members_limit:m}=e;if(!t)return(0,u.A)("Only the hangout leader can edit the hangout.","error"),void(0,f.SQ)("dashboard");M.isLoaded=!0,M.hangoutPassword=n,M.sliders={availabilityPeriodSlider:new c("availability-step-input","day",L(s,o,i),r.kD,Math.ceil(s/r.x7),o>r.Cb),suggestionsPeriodSlider:new c("suggestions-step-input","day",L(a,o,i),r.kD,Math.ceil(a/r.x7),o>r.c7),votingPeriodSlider:new c("voting-step-input","day",L(d,o,i),r.kD,Math.ceil(d/r.x7),o>r.Gr),membersLimitSlider:new c("members-limit-input","member",r.Az,r.ku,m)},document.addEventListener("availability-step-input_valueChange",S),document.addEventListener("suggestions-step-input_valueChange",S),document.addEventListener("voting-step-input_valueChange",S),document.addEventListener("members-limit-input_valueChange",S),H(),null==q||q.addEventListener("keyup",(()=>(0,g.yz)(q))),l.A.remove()}function H(){!function(){if(!p.F.data||!M.sliders)return;const{availability_period:e,suggestions_period:t,voting_period:n,members_limit:o}=p.F.data.hangoutDetails,{availabilityPeriodSlider:i,suggestionsPeriodSlider:s,votingPeriodSlider:a,membersLimitSlider:d}=M.sliders;i.updateValue(Math.ceil(e/r.x7)),s.updateValue(Math.ceil(t/r.x7)),a.updateValue(Math.ceil(n/r.x7)),d.updateValue(o)}(),function(){if(!p.F.data||!M.sliders)return;const e=p.F.data.hangoutDetails.current_stage,{availabilityPeriodSlider:t,suggestionsPeriodSlider:n,votingPeriodSlider:o}=M.sliders;e>r.Cb&&t.disable(),e>r.c7&&n.disable(),e>r.Gr&&o.disable()}(),function(){if(!p.F.data||!O)return;const{current_stage:e,is_concluded:t}=p.F.data.hangoutDetails;if(e===r.Gr)return void(O.textContent="Conclude hangout");t&&O.classList.add("hidden")}(),j(),U(),M.settingsSectionMutationObserverActive||function(){if(!D)return;const e=new MutationObserver((t=>{for(const n of t)if("class"===n.attributeName&&D.classList.contains("hidden")){_(),M.settingsSectionMutationObserverActive=!1,e.disconnect();break}}));e.observe(D,{attributes:!0,attributeFilter:["class"],subtree:!1}),M.settingsSectionMutationObserverActive=!0}()}function j(){M.sliders&&B&&(B.textContent=`${M.sliders.membersLimitSlider.value}`)}function U(){if(!p.F.data||!P||!R)return;if(!p.F.data.decryptedHangoutPassword)return P.classList.add("empty"),P.firstElementChild&&(P.firstElementChild.textContent="Not set"),R.classList.add("disabled"),void(R.disabled=!0);P.classList.remove("empty"),P.firstElementChild&&(P.firstElementChild.textContent="*************"),R.classList.remove("disabled"),R.disabled=!1}async function V(e){e.target instanceof HTMLButtonElement&&("stages-settings-apply-btn"!==e.target.id?"stages-settings-reset-btn"!==e.target.id?"progress-hangout-btn"!==e.target.id?"members-limit-settings-apply-btn"!==e.target.id?"members-limit-settings-reset-btn"!==e.target.id?e.target.getAttribute("data-goTo")?(0,f._3)(e):"settings-password-copy-btn"!==e.target.id?"settings-password-reveal-btn"!==e.target.id?"hangout-settings-password-input-reveal-btn"!==e.target.id?"delete-hangout-password-btn"===e.target.id&&s.u.display({title:"Are you sure you want to remove the hangout password?",description:"This action will make your hangout less secure.",confirmBtnTitle:"Remove password",cancelBtnTitle:"Cancel",extraBtnTitle:null,isDangerousAction:!0}).addEventListener("click",(async e=>{if(e.target instanceof HTMLButtonElement)return"confirm-modal-confirm-btn"===e.target.id?(await W(!0),void s.u.remove()):void("confirm-modal-cancel-btn"===e.target.id&&s.u.remove())})):function(e){if(!e.previousElementSibling)return;if(e.classList.contains("revealed"))return e.classList.remove("revealed"),void e.previousElementSibling.setAttribute("type","password");e.classList.add("revealed"),e.previousElementSibling.setAttribute("type","text")}(e.target):function(){if(!p.F.data)return void(0,u.A)("Failed to reveal hangout password.","error");const{isLeader:e,decryptedHangoutPassword:t}=p.F.data;if(!e)return(0,u.A)("You're not the hangout leader.","error"),void(0,f.SQ)("dashboard");if(!t)return(0,u.A)("Hangout is not password protected.","error"),void U();d.W.display({title:"Hangout password is: ",description:t,btnTitle:"Hide"},{simple:!0})}():await async function(){if(!p.F.data)return void(0,u.A)("Failed to copy hangout password.","error");const{isLeader:e,decryptedHangoutPassword:t}=p.F.data;if(!e)return(0,u.A)("You're not the hangout leader.","error"),void(0,f.SQ)("dashboard");if(!t)return(0,u.A)("Hangout is not password protected.","error"),void U();await(0,h.lW)(t)}():F():await async function(){if(l.A.display(),!p.F.data||!M.sliders)return(0,u.A)("Something went wrong.","error"),void l.A.remove();const{hangoutId:e,hangoutMemberId:t,hangoutDetails:n,hangoutMembers:s}=p.F.data,a=s.length,d=n.members_limit,c=M.sliders.membersLimitSlider.value;if(n.is_concluded)return(0,u.A)("Hangout has already been concluded.","error"),void l.A.remove();if(c===d)return S(),(0,u.A)(`Members limit is already set to ${d}.`,"success"),void l.A.remove();if(c<a)return(0,u.A)("New members limit can't be lower than the number of existing members.","error"),void l.A.remove();try{await(0,m.DR)({hangoutId:e,hangoutMemberId:t,newMembersLimit:c}),n.members_limit=c,M.sliders.membersLimitSlider.updateValue(c),j(),(0,u.A)("Members limit updated.","success"),l.A.remove()}catch(e){if(console.log(e),l.A.remove(),!o.A.isAxiosError(e))return void(0,u.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,u.A)("Something went wrong.","error");const n=t.status,s=t.response.data.message,a=t.response.data.reason;if(400===n)return void(0,u.A)("Something went wrong/.","error");if((0,u.A)(s,"error"),403===n)return p.F.data.hangoutDetails.current_stage=r.wi,p.F.data.hangoutDetails.is_concluded=!0,void H();if(404===n)return l.A.display(),void setTimeout((()=>window.location.reload()),1e3);if(401===n){if("notHangoutLeader"===a)return p.F.data.isLeader=!1,void(0,f.SQ)("dashboard");if("authSessionExpired"===a)return void(0,i.g)();(0,i.E)()}}}():function(){if(!p.F.data)return void(0,u.A)("Something went wrong.","error");const{is_concluded:e,current_stage:t}=p.F.data.hangoutDetails;if(e)return;if(t===r.c7&&0===v.ob.suggestions.length)return void k();s.u.display({title:t===r.Gr?"Are you sure you want to conclude the hangout?":"Are you sure you want to progress the hangout?",description:"This action is irreversible.",confirmBtnTitle:"Confirm",cancelBtnTitle:"Cancel",extraBtnTitle:null,isDangerousAction:!1}).addEventListener("click",(async e=>{if(e.target instanceof HTMLButtonElement)return"confirm-modal-confirm-btn"===e.target.id?(await async function(){if(l.A.display(),!p.F.data||!M.sliders)return(0,u.A)("Something went wrong","error"),void l.A.remove();const{hangoutId:e,hangoutMemberId:t,isLeader:n,hangoutDetails:s}=p.F.data;if(!n)return(0,u.A)("You're not the hangout leader.","error"),void l.A.remove();if(s.is_concluded)return(0,u.A)("Hangout has already been concluded.","error"),void l.A.remove();try{const n=(await(0,m.VL)({hangoutId:e,hangoutMemberId:t})).data;p.F.data.conclusionTimestamp=n.conclusion_timestamp,s.availability_period=n.availability_period,s.suggestions_period=n.suggestions_period,s.voting_period=n.voting_period,s.stage_control_timestamp=n.stage_control_timestamp,s.current_stage=n.current_stage,s.is_concluded=n.is_concluded,H(),(0,u.A)(`Hangout ${s.is_concluded?"concluded":"progressed"}.`,"success"),l.A.remove()}catch(e){if(console.log(e),l.A.remove(),!o.A.isAxiosError(e))return void(0,u.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,u.A)("Something went wrong.","error");const n=t.status,a=t.response.data.message,d=t.response.data.reason;if(400===n)return void(0,u.A)("Something went wrong.","error");if((0,u.A)(a,"error"),409===n)return void k();if(403===n)return s.current_stage=r.wi,s.is_concluded=!0,void H();if(404===n)return l.A.display(),void setTimeout((()=>window.location.reload()),1e3);if(401===n){if("notHangoutLeader"===d)return p.F.data.isLeader=!1,void(0,f.SQ)("dashboard");if("authSessionExpired"===d)return void(0,i.g)();(0,i.E)()}}}(),void s.u.remove()):void("confirm-modal-cancel-btn"===e.target.id&&s.u.remove())}))}():T():await async function(){if(l.A.display(),!p.F.data||!M.sliders)return(0,u.A)("Something went wrong","error"),void l.A.remove();const{hangoutId:e,hangoutMemberId:t,isLeader:n,hangoutDetails:s}=p.F.data,{availability_period:a,suggestions_period:d,voting_period:c,current_stage:g,stage_control_timestamp:h,is_concluded:v}=s,{availabilityPeriodSlider:A,suggestionsPeriodSlider:b,votingPeriodSlider:y}=M.sliders,w=g>r.Cb?a:A.value*r.x7,S=g>r.c7?d:b.value*r.x7,E=y.value*r.x7;if(!n)return(0,u.A)("You're not the hangout leader.","error"),void l.A.remove();if(v)return(0,u.A)("Hangout has already been concluded.","error"),void l.A.remove();if(!function(e,t,n){for(let o=0;o<3;o++){const i=t[o],r=n[o];if(!r||!i)return!1;if(o+1<e.currentStage){if(r!==i)return!1}else{if(!x(r))return!1;if(o+1===e.currentStage&&r<=Date.now()-e.stageControlTimestamp)return!1}}return!0}({currentStage:g,stageControlTimestamp:h},[a,d,c],[w,S,E]))return(0,u.A)("Invalid new hangout stages configuration.","error"),void l.A.remove();const L={hangoutId:e,hangoutMemberId:t,newAvailabilityPeriod:w,newSuggestionsPeriod:S,newVotingPeriod:E};try{const e=(await(0,m.Wf)(L)).data.newConclusionTimestamp;p.F.data.conclusionTimestamp=e,M.unsavedStageChanges=!1,A.updateValue(Math.ceil(A.value)),b.updateValue(Math.ceil(b.value)),y.updateValue(Math.ceil(y.value)),C(),(0,u.A)("Hangout stages updated.","success"),l.A.remove()}catch(e){if(console.log(e),l.A.remove(),!o.A.isAxiosError(e))return void(0,u.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,u.A)("Something went wrong.","error");const n=t.status,s=t.response.data.message,a=t.response.data.reason;if(400===n)return void(0,u.A)("Something went wrong.","error");if((0,u.A)(s,"error"),409===n)return void H();if(403===n)return p.F.data.hangoutDetails.current_stage=r.wi,p.F.data.hangoutDetails.is_concluded=!0,void H();if(404===n)return l.A.display(),void setTimeout((()=>window.location.reload()),1e3);if(401===n){if("notHangoutLeader"===a)return p.F.data.isLeader=!1,void(0,f.SQ)("dashboard");if("authSessionExpired"===a)return void(0,i.g)();(0,i.E)()}}}())}async function W(e=!1){if(l.A.display(),!p.F.data||!q)return(0,u.A)("Something went wrong.","error"),void l.A.remove();const{hangoutId:t,hangoutMemberId:n,isLeader:s,hangoutDetails:d}=p.F.data;if(!s)return(0,u.A)("You're not the hangout leader.","error"),l.A.remove(),void(0,f.SQ)("dashboard");if(d.is_concluded)return(0,u.A)("Hangout has already been concluded.","error"),void l.A.remove();if(!(!!e||(0,g.Oj)(q)))return(0,u.A)("Invalid new hangout password.","error"),void l.A.remove();const c=e?null:q.value;try{await(0,m._g)({hangoutId:t,hangoutMemberId:n,newPassword:c}),p.F.data.decryptedHangoutPassword=c,function(){if(!q)return;q.blur(),a.A.hide(q),q.value=""}(),U(),(0,u.A)(e?"Password removed.":"Password updated.","success"),l.A.remove()}catch(e){if(console.log(e),l.A.remove(),!o.A.isAxiosError(e))return void(0,u.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,u.A)("Something went wrong.","error");const n=t.status,s=t.response.data.message,d=t.response.data.reason;if(400===n&&!d)return void(0,u.A)("Something went wrong.","error");if((0,u.A)(s,"error"),403===n)return p.F.data.hangoutDetails.current_stage=r.wi,p.F.data.hangoutDetails.is_concluded=!0,void H();if(400===n)return void a.A.display(q,s);if(404===n)return l.A.display(),void setTimeout((()=>window.location.reload()),1e3);if(401===n){if("notHangoutLeader"===d)return p.F.data.isLeader=!1,void(0,f.SQ)("dashboard");if("authSessionExpired"===d)return void(0,i.g)();(0,i.E)()}}}},2458:(e,t,n)=>{n.d(t,{ob:()=>de,G0:()=>pe,d_:()=>he});var o=n(7536),i=n(4803),r=n(2484),s=n(5483),a=n(9423),d=n(7107),l=n(2222);o.A.defaults.withCredentials=!0;const u="localhost"===window.location.hostname?`http://${window.location.hostname}:5000/api/suggestions`:`https://${window.location.hostname}/api/suggestions`;o.A.defaults.withCredentials=!0;const c="localhost"===window.location.hostname?`http://${window.location.hostname}:5000/api/votes`:`https://${window.location.hostname}/api/votes`;var g=n(3737),m=n(2079);var p=n(974);function h(e){const t=e.querySelector("button.like-suggestion-btn");if(!t)return;const n=t.classList.contains("liked");t.setAttribute("title",n?"Unlike suggestion":"Like suggestion"),t.setAttribute("aria-label",n?"Unlike suggestion":"Like suggestion")}function f(e){const t=e.querySelector(".rating-container span");if(!t)return;const n=t.textContent;if(!n||!Number.isInteger(+n))return;const o=+n;t.textContent=`${o+1}`,e.classList.remove("like-pending"),e.classList.add("liked")}function v(e,t,n){const o=e.querySelector(".votes-count-span"),i=e.querySelector(".toggle-vote-btn");if(o&&(o.textContent=`${t}`),i){if(n)return i.classList.add("danger"),void(i.textContent="Remove vote");i.classList.remove("danger"),i.textContent="Add vote"}}function A(e,t){var n;const o=(0,a.Ux)("suggestion");o.setAttribute("data-suggestionId",`${e.suggestion_id||0}`),e.hangout_member_id===(null===(n=m.F.data)||void 0===n?void 0:n.hangoutMemberId)&&o.classList.add("user");const i=de.memberLikesSet.has(e.suggestion_id);return i&&o.classList.add("liked"),o.appendChild(function(e,t,n){var o,i;const s=(0,a.Ux)("suggestion-details"),d=de.memberVotesSet.has(e.suggestion_id),l=(0,a.Ux)("suggestion-details-header");l.appendChild((0,a.vw)("suggestion-title",e.suggestion_title)),l.appendChild(function(e,t){const n=(0,a.Ux)("rating-container"),o=(0,a.Pp)("like-suggestion-btn",null);return o.setAttribute("title",t?"Unlike suggestion":"Like suggestion"),o.setAttribute("aria-label",t?"Unlike suggestion":"Like suggestion"),o.appendChild(function(){const e=(0,a.FJ)(500,500),t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("stroke-width","30"),t.setAttribute("d","M231.098 395.508L231.087 395.498L231.076 395.488C179.281 348.521 137.498 310.548 108.489 275.057C79.6444 239.768 65 208.769 65 176C65 122.502 106.666 81 160 81C190.265 81 219.562 95.1669 238.617 117.369L250 130.631L261.383 117.369C280.438 95.1669 309.735 81 340 81C393.334 81 435 122.502 435 176C435 208.769 420.356 239.768 391.511 275.057C362.502 310.548 320.719 348.521 268.924 395.488L268.913 395.498L268.902 395.508L250 412.715L231.098 395.508Z"),e.appendChild(t),e}()),o.appendChild((0,a.Ux)("like-spinner")),n.appendChild((0,a.no)("suggestion-likes-count",`${e}`)),n.appendChild(o),n}(e.likes_count,n));const u=(null===(o=m.F.data)||void 0===o?void 0:o.hangoutMemberId)===e.hangout_member_id;!t&&!u||(null===(i=m.F.data)||void 0===i?void 0:i.hangoutDetails.is_concluded)||l.appendChild(function(e){var t;const n=(0,a.Ux)("dropdown-menu"),o=(0,a.Pp)("dropdown-menu-btn",null);o.setAttribute("title","Expand suggestion options"),o.setAttribute("aria-label","Expand suggestion options"),o.appendChild(function(){const e=(0,a.FJ)(540,540),t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","M330 70C330 103.137 303.137 130 270 130C236.863 130 210 103.137 210 70C210 36.8629 236.863 10 270 10C303.137 10 330 36.8629 330 70Z");const n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d","M330 270C330 303.137 303.137 330 270 330C236.863 330 210 303.137 210 270C210 236.863 236.863 210 270 210C303.137 210 330 236.863 330 270Z");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d","M330 470C330 503.137 303.137 530 270 530C236.863 530 210 503.137 210 470C210 436.863 236.863 410 270 410C303.137 410 330 436.863 330 470Z"),e.appendChild(t),e.appendChild(n),e.appendChild(o),e}());const i=(0,a.Ux)("dropdown-menu-list");e&&i.appendChild((0,a.Pp)("edit-btn","Edit")),(null===(t=m.F.data)||void 0===t?void 0:t.hangoutDetails.current_stage)!==r.Gr&&i.appendChild((0,a.Pp)("delete-btn",e?"Delete":"Delete as leader"));return n.appendChild(o),n.appendChild(i),n}(u));return s.appendChild(l),s.appendChild(function(e){var t,n;const o=(0,a.Ux)("suggestion-details-container"),i=(0,a.Ux)(null);i.appendChild((0,a.no)(null,"Start")),i.appendChild((0,a.no)(null,(0,p.CA)(e.suggestion_start_timestamp)));const s=(0,a.Ux)(null);s.appendChild((0,a.no)(null,"End")),s.appendChild((0,a.no)(null,(0,p.CA)(e.suggestion_end_timestamp)));const d=(0,a.Ux)(null);d.appendChild((0,a.no)(null,"Suggested by"));const l=e.hangout_member_id?null===(t=m.F.data)||void 0===t?void 0:t.hangoutMembersMap.get(e.hangout_member_id):null;if(d.appendChild((0,a.no)(null,l||"Former member")),o.appendChild(i),o.appendChild(s),o.appendChild(d),(null===(n=m.F.data)||void 0===n?void 0:n.hangoutDetails.current_stage)===r.Gr){const t=(0,a.Ux)(null);t.appendChild((0,a.no)(null,"Votes count")),t.appendChild((0,a.no)("votes-count-span",`${e.votes_count}`)),o.appendChild(t)}return o}(e)),s.appendChild(function(e){const t=(0,a.Ux)("btn-container");t.appendChild((0,a.Pp)("view-suggestion-btn","View details"));const n=(0,a.Pp)("toggle-vote-btn","Add vote");e&&(n.classList.add("danger"),n.textContent="Remove vote");return t.insertAdjacentElement("afterbegin",n),t}(d)),e.is_edited&&s.appendChild((0,a.no)("is-edited-span","Edited")),s}(e,t,i)),o.appendChild((0,a.vw)("suggestion-description",e.suggestion_description)),o}function b(e,t,n,o){const i=(0,a.Ux)("filter-item"),r=(0,a.Pp)("checkbox-btn member-filter-btn "+(n?"checked":""),null);r.setAttribute("data-memberId",`${e}`),r.setAttribute("aria-label",`Filter out ${t}`);const s=(0,a.Ux)("svg");return s.appendChild(function(){const e=(0,a.FJ)(601,601),t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","M106.645 335.421C87.1184 315.895 87.1184 284.237 106.645 264.711C126.171 245.184 157.829 245.184 177.355 264.711L318.777 406.132L283.421 441.487C263.895 461.014 232.237 461.014 212.711 441.487L106.645 335.421Z");const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d","M177.355 406.132L424.843 158.645C444.369 139.118 476.027 139.118 495.553 158.645C515.08 178.171 515.08 209.829 495.553 229.355L283.421 441.487C263.895 461.014 232.237 461.014 212.711 441.487L177.355 406.132Z"),e.appendChild(t),e.appendChild(n),e}()),r.appendChild(s),i.appendChild(r),i.appendChild((0,a.vw)(null,o?`${t} (you)`:t)),i}const y={memberFiltersApplied:!1,filterByLiked:!1,filterByVotedFor:!1,mainFilteredMembersSet:new Set,tempFilteredMembersSet:new Set,sortingMode:"likes",searchQuery:""},w=document.querySelector("#suggestion-filters"),S=document.querySelector("#suggestions-members-filter-container"),C=document.querySelector("#suggestion-filters-apply-btn"),E=document.querySelector("#filter-by-liked-btn"),L=document.querySelector("#filter-by-voted-for-btn"),_=document.querySelector("#suggestions-sort"),T=document.querySelector("#suggestions-sort-container-btn"),F=document.querySelector("#suggestions-search-input");function x(){m.F.data&&(k(),null==w||w.addEventListener("click",M),null==F||F.addEventListener("keyup",R))}function k(){var e;if(!S||!m.F.data)return;const{hangoutMemberId:t,hangoutMembers:n}=m.F.data,o=(0,a.Ux)("filter-container");for(const e of n){const n=y.mainFilteredMembersSet.has(e.hangout_member_id),i=t===e.hangout_member_id;o.appendChild(b(e.hangout_member_id,e.display_name,n,i))}const i=y.mainFilteredMembersSet.has(0);o.appendChild(b(0,"Previous members",i,!1)),null===(e=S.firstElementChild)||void 0===e||e.remove(),S.appendChild(o)}function M(e){var t,n,o,i;if(e.target instanceof HTMLButtonElement)if("suggestion-filters-btn"!==e.target.id)if(e.target.classList.contains("checkbox-btn"))!function(e){const t=e.classList.contains("checked");if(e.classList.toggle("checked"),!e.classList.contains("member-filter-btn"))return void I();const n=e.getAttribute("data-memberId");if(!n||!Number.isInteger(+n))return;if(t)return y.tempFilteredMembersSet.delete(+n),void I();y.tempFilteredMembersSet.add(+n),I()}(e.target);else if("suggestion-filters-apply-btn"!==e.target.id){if("suggestion-filters-reset-btn"===e.target.id)return y.filterByLiked=!1,y.filterByVotedFor=!1,y.tempFilteredMembersSet.clear(),y.mainFilteredMembersSet.clear(),y.memberFiltersApplied=!1,d.A.display(),O(),E&&L&&(E.classList.remove("checked"),L.classList.remove("checked")),k(),he(),(0,l.A)("Filters reset.","success"),void d.A.remove();"suggestion-filters-cancel-btn"===e.target.id&&function(){const{utilityChangesFound:e,memberChangesFound:t}=I(),{filterByLiked:n,filterByVotedFor:o}=y;if(O(),!e&&!t)return;t&&k(),n?null==E||E.classList.add("checked"):null==E||E.classList.remove("checked"),o?null==L||L.classList.add("checked"):null==L||L.classList.remove("checked"),y.tempFilteredMembersSet=new Set(...[y.mainFilteredMembersSet]),I()}(),"suggestions-sort-container-btn"!==e.target.id?e.target.classList.contains("suggestions-sort-btn")&&function(e){var t;const n=null===(t=m.F.data)||void 0===t?void 0:t.hangoutDetails.current_stage,o=e.getAttribute("data-sortBy");if("likes"!==o&&"votes"!==o)return;if("likes"===o&&n===r.Cb)return(0,l.A)("No likes found to sort by.","error"),void P();if("votes"===o&&(n===r.Cb||n===r.c7))return(0,l.A)("No votes found to sort by.","error"),void P();d.A.display(),P(),(null==T?void 0:T.firstElementChild)&&(T.firstElementChild.textContent=`Most ${o}`),y.sortingMode=o,B(),he(),(0,l.A)(`Sorted by most ${o}.`,"success"),d.A.remove()}(e.target):null===(i=null===(o=e.target.parentElement)||void 0===o?void 0:o.parentElement)||void 0===i||i.classList.toggle("expanded")}else!function(){if(d.A.display(),function(){if(0!==y.tempFilteredMembersSet.size)return!1;const{filterByLiked:e,filterByVotedFor:t}=D();if(e||t)return!1;return!0}())return y.mainFilteredMembersSet.clear(),y.tempFilteredMembersSet.clear(),y.filterByLiked=!1,y.filterByVotedFor=!1,y.memberFiltersApplied=!1,q(!1),O(),he(),(0,l.A)("Filters removed.","success"),void d.A.remove();const{utilityChangesFound:e,memberChangesFound:t}=I();if(!e&&!t)return q(!1),O(),(0,l.A)("No changes to apply.","error"),void d.A.remove();const{filterByLiked:n,filterByVotedFor:o}=D();y.filterByLiked=n,y.filterByVotedFor=o,y.mainFilteredMembersSet=new Set(...[y.tempFilteredMembersSet]),0===y.mainFilteredMembersSet.size?y.memberFiltersApplied=!1:y.memberFiltersApplied=!0;q(!1),O(),he(),(0,l.A)("Filters applied.","success"),d.A.remove()}();else null===(n=null===(t=e.target.parentElement)||void 0===t?void 0:t.parentElement)||void 0===n||n.classList.toggle("expanded")}function D(){if(!E||!L)return{filterByLiked:!1,filterByVotedFor:!1};return{filterByLiked:E.classList.contains("checked"),filterByVotedFor:L.classList.contains("checked")}}function I(){const{mainFilteredMembersSet:e,tempFilteredMembersSet:t}=y,{filterByLiked:n,filterByVotedFor:o}=D();let i=!1,r=!1;return y.filterByLiked===n&&y.filterByVotedFor===o||(i=!0),e.size===t.size&&[...e].every((e=>t.has(e)))||(r=!0),q(!(!i&&!r)),{utilityChangesFound:i,memberChangesFound:r}}function q(e){if(C){if(!e)return C.classList.add("disabled"),void(C.disabled=!0);C.classList.remove("disabled"),C.disabled=!1}}function O(){null==w||w.classList.remove("expanded")}function B(){const e=y.sortingMode;de.suggestions.sort(((t,n)=>n[`${e}_count`]-t[`${e}_count`]))}function P(){null==_||_.classList.remove("expanded")}function R(){if(!F)return;const e=F.value;$(e)}const $=function(e,t){let n;return(...o)=>{clearTimeout(n),n=setTimeout((()=>e(...o)),t)}}((function(e){y.searchQuery=e.toLowerCase(),he()}),300);var N=n(7130),H=n(4153),j=n(7902),U=n(1384);const V={suggestionIdToEdit:null,suggestionEndTimestamp:null,suggestionStartTimestamp:null},W=document.querySelector("#suggestions-form"),J=document.querySelector("#suggestions-form-container"),G=document.querySelector("#suggestions-form-date-time-container"),Y=document.querySelector("#suggestion-title-input"),z=document.querySelector("#suggestion-description-textarea"),Z=document.querySelector("#suggestion-start-mock-input"),K=document.querySelector("#suggestion-end-mock-input");function Q(){null==W||W.addEventListener("submit",X),null==W||W.addEventListener("click",oe),null==G||G.addEventListener("click",(e=>{e.target instanceof HTMLParagraphElement&&e.target.classList.contains("mock-input")&&(0,j.YU)("suggestionSlot")})),null==G||G.addEventListener("keyup",(e=>{"Enter"===e.key&&(0,j.YU)("suggestionSlot")})),document.addEventListener("dateTimePicker-selection",(async e=>{(0,j.yf)(e)&&"suggestionSlot"===e.detail.purpose&&function(e){var t,n;V.suggestionStartTimestamp=e.startTimestamp,V.suggestionEndTimestamp=e.endTimestamp,e.existingSlotId&&(V.suggestionIdToEdit=e.existingSlotId),Z&&K&&(Z.textContent=(0,p.CA)(e.startTimestamp),K.textContent=(0,p.CA)(e.endTimestamp),Z.classList.remove("empty"),K.classList.remove("empty"),null===(t=Z.parentElement)||void 0===t||t.classList.remove("error"),null===(n=K.parentElement)||void 0===n||n.classList.remove("error"))}(e.detail)})),null==Y||Y.addEventListener("input",(()=>(0,H.Bn)(Y))),null==z||z.addEventListener("input",(()=>{(0,H.xf)(z),function(e){const t=62,n=400;e.style.height="0px";const o=Math.min(n,e.scrollHeight);e.style.height=o<t?`${t}px`:`${o}px`}(z),function(e){var t,n;const o=document.querySelector("#suggestion-description-character-count");if(!o)return;const i=e.value.length;o.textContent=`${i}`,i>500||i<10?null===(t=o.parentElement)||void 0===t||t.classList.add("error"):null===(n=o.parentElement)||void 0===n||n.classList.remove("error")}(z)}))}async function X(e){if(e.preventDefault(),m.F.data)if(m.F.data.hangoutDetails.is_concluded)(0,l.A)("Hangout has already been concluded.","error");else if(m.F.data.hangoutDetails.current_stage!==r.Cb){if(V.suggestionIdToEdit){const{hasFailed:e,isIdentical:n,isMajorChange:o}=function(){if(!V.suggestionIdToEdit)return{hasFailed:!0,isIdentical:!1,isMajorChange:!1};const e=de.suggestions.find((e=>e.suggestion_id===V.suggestionIdToEdit));if(!e)return m.F.data&&m.F.data.suggestionsCount--,he(),{hasFailed:!0,isIdentical:!1,isMajorChange:!1};if(!Y||!z)return{hasFailed:!0,isIdentical:!1,isMajorChange:!1};let t=!0,n=!1;const o=Y.value,i=z.value;e.suggestion_start_timestamp!==V.suggestionStartTimestamp&&(t=!1,n=!0);e.suggestion_end_timestamp!==V.suggestionEndTimestamp&&(t=!1,n=!0);e.suggestion_title!==o&&(t=!1,n=!0);e.suggestion_description!==i&&(t=!1);return{hasFailed:!1,isIdentical:t,isMajorChange:n}}();return e?((0,l.A)("Failed to update suggestion.","error"),void se()):n?void(0,l.A)("No suggestion changes found.","error"):o?(t=V.suggestionIdToEdit,void s.u.display({title:"Major suggestion changes detected.",description:"Changing the suggestion's title or time slots will remove any likes or votes it gained.\n Are you sure you want to continue?",confirmBtnTitle:"Update suggestion",cancelBtnTitle:"Cancel",extraBtnTitle:null,isDangerousAction:!1}).addEventListener("click",(async e=>{if(e.target instanceof HTMLButtonElement)return"confirm-modal-confirm-btn"===e.target.id?(s.u.remove(),void await te(t)):void("confirm-modal-cancel-btn"===e.target.id&&s.u.remove())}))):void await te(V.suggestionIdToEdit)}var t;await async function(){if(d.A.display(),!m.F.data)return(0,l.A)("Something went wrong.","error"),void d.A.remove();const{hangoutId:e,hangoutMemberId:t,hangoutDetails:n}=m.F.data;if(n.current_stage!==r.c7)return(0,l.A)("Hangout is not in suggestions stage.","error"),void d.A.remove();if(!(Z&&K&&Y&&z))return(0,l.A)("Something went wrong.","error"),void d.A.remove();const s=(0,H.Bn)(Y),a=(0,H.xf)(z),{suggestionStartTimestamp:c,suggestionEndTimestamp:g}=V;if(!c||!g)return N.A.display(Z,"Suggestion date and time required."),N.A.display(K,"Suggestion date and time required."),(0,l.A)("Invalid suggestion details.","error"),void d.A.remove();if(!s||!a)return(0,l.A)("Invalid suggestion details.","error"),void d.A.remove();const p={hangoutId:e,hangoutMemberId:t,suggestionTitle:Y.value,suggestionDescription:z.value,suggestionStartTimestamp:c,suggestionEndTimestamp:g};try{const e=(await(h=p,o.A.post(u,h))).data.suggestionId;de.suggestions.push({suggestion_id:e,hangout_member_id:t,suggestion_title:p.suggestionTitle,suggestion_description:p.suggestionDescription,suggestion_start_timestamp:c,suggestion_end_timestamp:g,is_edited:!1,likes_count:0,votes_count:0}),ne(),re(),B(),m.F.data.suggestionsCount++,he(),(0,l.A)("Suggestion added.","success"),d.A.remove()}catch(e){if(console.log(e),d.A.remove(),!o.A.isAxiosError(e))return void(0,l.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,l.A)("Something went wrong.","error");const n=t.status,s=t.response.data.message,a=t.response.data.reason;if(400===n&&!a)return void(0,l.A)("Something went wrong.","error");if((0,l.A)(s,"error"),409===n)return void(m.F.data.suggestionsCount=r.fD);if(403===n)return"hangoutConcluded"===a?(m.F.data.hangoutDetails.current_stage=r.wi,m.F.data.hangoutDetails.is_concluded=!0,void he()):"inAvailabilityStage"===a?(m.F.data.hangoutDetails.current_stage=r.Cb,void he()):void("inVotingStage"===a&&(m.F.data.hangoutDetails.current_stage=r.Gr,he()));if(401===n)return"authSessionExpired"===a?void(0,i.g)():void(0,i.E)();if(404===n)return d.A.display(),void setTimeout((()=>window.location.reload()),1e3);if(400===n){const e={title:Y,description:z,dateTime:Z}[`${a}`];e&&N.A.display(e,s)}}var h}()}else(0,l.A)("Hangout is not in suggestions stage yet.","error");else(0,l.A)("Something went wrong.","error")}function ee(e){V.suggestionIdToEdit=e.suggestion_id,V.suggestionStartTimestamp=e.suggestion_start_timestamp,V.suggestionEndTimestamp=e.suggestion_end_timestamp,function(e){if(!Y||!z)return;if(Y.value=e.suggestion_title,z.value=e.suggestion_description,!Z||!K)return;Z.textContent=(0,p.CA)(e.suggestion_start_timestamp),Z.classList.remove("empty"),K.textContent=(0,p.CA)(e.suggestion_end_timestamp),K.classList.remove("empty"),document.documentElement.scrollTo({top:0})}(e),ae(),ie(),null==Y||Y.focus()}async function te(e){if(d.A.display(),!m.F.data||!V.suggestionIdToEdit)return(0,l.A)("Something went wrong.","error"),void d.A.remove();const{hangoutId:t,hangoutMemberId:n,hangoutDetails:s}=m.F.data;if(s.is_concluded)return(0,l.A)("Hangout has already been concluded.","error"),void d.A.remove();if(s.current_stage===r.Cb)return(0,l.A)("Hangout is not in the suggestions stage yet.","error"),void d.A.remove();if(!(Z&&K&&Y&&z))return(0,l.A)("Something went wrong.","error"),void d.A.remove();const a=(0,H.Bn)(Y),c=(0,H.xf)(z),{suggestionStartTimestamp:g,suggestionEndTimestamp:p}=V;if(!g||!p)return N.A.display(Z,"Suggestion date and time required."),N.A.display(K,"Suggestion date and time required."),(0,l.A)("Invalid suggestion details.","error"),void d.A.remove();if(!a||!c)return(0,l.A)("Invalid suggestion details.","error"),void d.A.remove();const h=Y.value,f=z.value,v={hangoutId:t,hangoutMemberId:n,suggestionId:e,suggestionTitle:h,suggestionDescription:f,suggestionStartTimestamp:g,suggestionEndTimestamp:p};try{const t=(await(A=v,o.A.patch(u,A))).data.isMajorChange;de.suggestions=de.suggestions.map((n=>n.suggestion_id!==e?n:Object.assign(Object.assign({},n),{suggestion_title:h,suggestion_description:f,suggestion_start_timestamp:g,suggestion_end_timestamp:p,is_edited:!0,likes_count:t?0:n.likes_count,votes_count:t?0:n.votes_count}))),se(),t&&B(),he(),(0,l.A)("Suggestion updated.","success"),d.A.remove()}catch(t){if(console.log(t),d.A.remove(),!o.A.isAxiosError(t))return void(0,l.A)("Something went wrong.","error");const n=t;if(!n.status||!n.response)return void(0,l.A)("Something went wrong.","error");const s=n.status,a=n.response.data.message,u=n.response.data.reason;if(400===s&&!u)return void(0,l.A)("Something went wrong.","error");if((0,l.A)(a,"error"),404===s)return"hangoutNotFound"===u?(d.A.display(),void setTimeout((()=>window.location.reload()),100)):(m.F.data.suggestionsCount--,de.suggestions=de.suggestions.filter((t=>t.suggestion_id!==e)),se(),void he());if(403===s)return se(),"hangoutConcluded"===u?(m.F.data.hangoutDetails.current_stage=r.wi,m.F.data.hangoutDetails.is_concluded=!0,void he()):(m.F.data.hangoutDetails.current_stage=r.Cb,void he());if(401===s)return se(),"authSessionExpired"===u?void(0,i.g)():void(0,i.E)();if(400===s){const e={title:Y,description:z,dateTime:Z}[`${u}`];e&&N.A.display(e,a)}}var A}function ne(){V.suggestionIdToEdit=null,V.suggestionStartTimestamp=null,V.suggestionEndTimestamp=null,Y&&z&&(Y.value="",z.value="",Z&&K&&(Z.textContent="Click to set date and time",Z.classList.add("empty"),K.textContent="Click to set date and time",K.classList.add("empty")))}function oe(e){if(e.target instanceof HTMLButtonElement){if("suggestions-form-header-btn"===e.target.id){if(!m.F.data)return void(0,l.A)("Something went wrong.","error");const{hangoutDetails:e,suggestionsCount:t}=m.F.data;if(e.current_stage===r.Cb)return void(0,l.A)("Not in suggestions stage yet.","error");if(e.current_stage===r.Gr)return;return e.current_stage===r.wi?void(0,U.SQ)("conclusion"):t===r.fD?void(0,l.A)(`Suggestions limit of ${r.fD} reached.`,"error"):void ie()}"suggestions-form-collapse-btn"===e.target.id&&(re(),se())}}function ie(){J&&(J.style.display="block"),null==W||W.classList.add("expanded")}function re(){null==W||W.classList.remove("expanded"),J&&setTimeout((()=>J.style.display="none"),150)}function se(){V.suggestionIdToEdit&&(re(),ne(),ae())}function ae(){const e=document.querySelector("#suggestions-form-header"),t=document.querySelector("#suggestions-form-submit-btn"),n=document.querySelector("#suggestions-form-collapse-btn");if(e&&t&&n){if(V.suggestionIdToEdit)return e.style.display="none",t.textContent="Update suggestion",void(n.textContent="Cancel");e.style.display="block",t.textContent="Add suggestion",n.textContent="Collapse"}}const de={isLoaded:!1,suggestionsSectionMutationObserverActive:!1,suggestions:[],memberLikesSet:new Set,memberVotesSet:new Set,maxSuggestionsToRender:10,suggestionsRenderLimit:r.ku*r.fD},le=document.querySelector("#suggestions-container"),ue=document.querySelector("#suggestions-remaining-span"),ce=document.querySelector("#votes-remaining-span"),ge=document.querySelector("#suggestions-section"),me=document.querySelector("#render-more-suggestions-btn");function pe(){document.addEventListener("loadSection-suggestions",(async()=>{g.J8.isLoaded||await(0,g.Wf)(),async function(){de.isLoaded?he():m.F.data?(d.A.display(),await async function(){if(de.isLoaded)return;if(!m.F.data)return void(0,l.A)("Failed to load hangout suggestions.","error");const{hangoutId:e,hangoutMemberId:t}=m.F.data;try{const{suggestions:n,memberLikes:i,memberVotes:r}=(await function(e){const{hangoutMemberId:t,hangoutId:n}=e;return o.A.get(`${u}?hangoutMemberId=${t}&hangoutId=${n}`)}({hangoutId:e,hangoutMemberId:t})).data;de.suggestions=n,de.memberLikesSet=new Set(i),de.memberVotesSet=new Set(r),de.isLoaded=!0}catch(e){if(console.log(e),!o.A.isAxiosError(e))return void(0,l.A)("Failed to load hangout suggestions.","error");const t=e;if(!t.status||!t.response)return void(0,l.A)("Failed to load hangout suggestions.","error");const n=t.status,r=t.response.data.message,s=t.response.data.reason;if(400===n)return void(0,l.A)("Failed to load hangout suggestions.","error");if((0,l.A)(r,"error"),401===n){if("notHangoutMember"===s)return d.A.display(),void setTimeout((()=>window.location.reload()),1e3);(0,i.g)()}}}(),Q(),x(),B(),he(),d.A.remove()):(0,l.A)("Something went wrong.","error")}()})),null==le||le.addEventListener("click",Ae),null==me||me.addEventListener("click",ye)}function he(){fe(),function(){if(!m.F.data||!ue)return;const e=r.fD-m.F.data.suggestionsCount;ue.textContent=`${e}`}(),ve(),function(){if(!m.F.data)return;const e=m.F.data.hangoutDetails.current_stage;if(e<=r.c7)return;const t=document.querySelector("#suggestions-form-header"),n=null==t?void 0:t.getAttribute("data-currentStage");if(n&&e===+n)return;const o=null==t?void 0:t.querySelector(".title"),i=null==t?void 0:t.querySelector(".description"),s=null==t?void 0:t.querySelector("button.btn");if(t&&o&&i&&s){if(t.setAttribute("data-currentStage",`${e}`),i.classList.add("hidden"),e===r.Gr)return o.textContent="Vote on your favorite suggestions.",void s.classList.add("hidden");o.textContent="Hangout has been concluded!",s.textContent="View winning suggestion",s.classList.remove("hidden")}}(),de.suggestionsSectionMutationObserverActive||function(){if(!ge)return;const e=new MutationObserver((t=>{for(const n of t)if("class"===n.attributeName&&ge.classList.contains("hidden"))return de.maxSuggestionsToRender=10,de.suggestionsSectionMutationObserverActive=!1,void e.disconnect()}));e.observe(ge,{attributes:!0,attributeFilter:["class"],subtree:!1}),de.suggestionsSectionMutationObserverActive=!0}()}function fe(){var e,t,n;if(!le||!m.F.data)return void(null==me||me.classList.add("hidden"));if(0===de.suggestions.length)return null===(e=le.firstElementChild)||void 0===e||e.remove(),le.appendChild((0,a.vw)("no-suggestions","No suggestions found")),void(null==me||me.classList.add("hidden"));const o=(0,a.Ux)("suggestions-container-inner"),i=m.F.data.isLeader,{suggestions:s,maxSuggestionsToRender:d}=de,l=function(e){const{searchQuery:t,filterByLiked:n,filterByVotedFor:o,memberFiltersApplied:i,mainFilteredMembersSet:r}=y,{memberLikesSet:s,memberVotesSet:a}=de;return e.filter((e=>{if(!e.suggestion_title.toLowerCase().includes(t))return!1;if(i&&!r.has(e.hangout_member_id||0))return!1;if(!n&&!o)return!0;const d=s.has(e.suggestion_id),l=a.has(e.suggestion_id);return!(!d||!n)||!(!l||!o)}))}(s);if(0===l.length)return null===(t=le.firstElementChild)||void 0===t||t.remove(),le.appendChild((0,a.vw)("no-suggestions","No suggestions match these filters")),void(null==me||me.classList.add("hidden"));for(let e=0;e<d;e++){const t=l[e];t&&o.appendChild(A(t,i))}null===(n=le.firstElementChild)||void 0===n||n.remove(),le.appendChild(o);!function(e){if(!m.F.data||!le)return;m.F.data.hangoutDetails.current_stage===r.Gr&&le.classList.add("in-voting-stage");m.F.data.votesCount>=r.ZC?le.classList.add("votes-limit-reached"):le.classList.remove("votes-limit-reached");if(e)return void(null==me||me.classList.remove("hidden"));null==me||me.classList.add("hidden")}(d<l.length)}function ve(){if(!m.F.data||!ce)return;const e=r.ZC-m.F.data.votesCount;ce.textContent=`${e}`}async function Ae(e){var t,n,a;if(!(e.target instanceof HTMLButtonElement))return;if(!m.F.data)return;const g=e.target.closest(".suggestion");if(!(g&&g instanceof HTMLDivElement))return;const p=g.getAttribute("data-suggestionId");if(!p||!Number.isInteger(+p))return;const A=de.suggestions.find((e=>e.suggestion_id===+p));if(!A)return(0,l.A)("Suggestion not found.","error"),void he();if(e.target.classList.contains("view-suggestion-btn"))g.classList.toggle("expanded");else if(e.target.classList.contains("toggle-vote-btn"))await async function(e,t){const n=de.memberVotesSet.has(e.suggestion_id);if(!n)return void await async function(e,t){if(d.A.display(),!m.F.data)return(0,l.A)("Something went wrong.","error"),void d.A.remove();const{hangoutDetails:n,votesCount:s,hangoutId:a,hangoutMemberId:u}=m.F.data;if(n.current_stage!==r.Gr)return(0,l.A)("Not in voting stage.","error"),void d.A.remove();if(s>=r.ZC)return(0,l.A)(`Vote limit of ${r.ZC} reached.`,"error"),void d.A.remove();try{await async function(e){return o.A.post(c,e)}({suggestionId:e.suggestion_id,hangoutMemberId:u,hangoutId:a}),m.F.data.votesCount++,e.votes_count++,de.memberVotesSet.add(e.suggestion_id),v(t,e.votes_count,!0),ve(),(0,l.A)("Vote added.","success"),d.A.remove()}catch(t){if(console.log(t),d.A.remove(),!o.A.isAxiosError(t))return void(0,l.A)("Something went wrong.","error");const n=t;if(!n.status||!n.response)return void(0,l.A)("Something went wrong.","error");const s=n.status,a=n.response.data.message,u=n.response.data.reason;if(400===s)return void(0,l.A)("Something went wrong.","error");if((0,l.A)(a,"error"),403===s)return"inAvailabilityStage"===u?(m.F.data.hangoutDetails.current_stage=r.Cb,void he()):"inSuggestionStage"===u?(m.F.data.hangoutDetails.current_stage=r.c7,void he()):(m.F.data.hangoutDetails.current_stage=r.wi,m.F.data.hangoutDetails.is_concluded=!0,void he());if(409===s)return void(m.F.data.votesCount=r.ZC);if(404===s)return d.A.display(),"hangoutNotFound"===u?void setTimeout((()=>window.location.reload()),1e3):(de.suggestions=de.suggestions.filter((t=>t.suggestion_id!==e.suggestion_id)),he(),void d.A.remove());if(401===s){if("authSessionExpired"===u)return void(0,i.g)();(0,i.g)()}}}(e,t);await async function(e,t){if(d.A.display(),!m.F.data)return(0,l.A)("Something went wrong.","error"),void d.A.remove();const{hangoutDetails:n,hangoutId:s,hangoutMemberId:a}=m.F.data;if(n.current_stage!==r.Gr)return(0,l.A)("Not in voting stage.","error"),void d.A.remove();try{await async function(e){const{suggestionId:t,hangoutMemberId:n,hangoutId:i}=e;return o.A.delete(`${c}?suggestionId=${t}&hangoutMemberId=${n}&hangoutId=${i}`)}({suggestionId:e.suggestion_id,hangoutMemberId:a,hangoutId:s}),m.F.data.votesCount--,e.votes_count--,de.memberVotesSet.delete(e.suggestion_id),v(t,e.votes_count,!1),ve(),y.filterByVotedFor&&he(),(0,l.A)("Vote removed.","success"),d.A.remove()}catch(t){if(console.log(t),d.A.remove(),!o.A.isAxiosError(t))return void(0,l.A)("Something went wrong.","error");const n=t;if(!n.status||!n.response)return void(0,l.A)("Something went wrong.","error");const s=n.status,a=n.response.data.message,u=n.response.data.reason;if(400===s)return void(0,l.A)("Something went wrong.","error");if((0,l.A)(a,"error"),403===s)return"inAvailabilityStage"===u?(m.F.data.hangoutDetails.current_stage=r.Cb,void he()):"inSuggestionStage"===u?(m.F.data.hangoutDetails.current_stage=r.c7,void he()):(m.F.data.hangoutDetails.current_stage=r.wi,m.F.data.hangoutDetails.is_concluded=!0,void he());if(404===s)return d.A.display(),"hangoutNotFound"===u?void setTimeout((()=>window.location.reload()),1e3):(de.suggestions=de.suggestions.filter((t=>t.suggestion_id!==e.suggestion_id)),he(),void d.A.remove());if(401===s){if("authSessionExpired"===u)return void(0,i.g)();(0,i.g)()}}}(e,t)}(A,g);else{if(e.target.classList.contains("like-suggestion-btn")){if(g.classList.contains("like-pending"))return;return g.classList.contains("liked")?void async function(e,t){if(!m.F.data)return void(0,l.A)("Failed to like suggestion.","error");if(!de.memberLikesSet.has(e.suggestion_id))return;t.classList.add("like-pending");const{hangoutMemberId:n,hangoutId:r}=m.F.data;try{if(await function(e){const{suggestionId:t,hangoutMemberId:n,hangoutId:i}=e;return o.A.delete(`${u}/likes?suggestionId=${t}&hangoutMemberId=${n}&hangoutId=${i}`)}({suggestionId:e.suggestion_id,hangoutMemberId:n,hangoutId:r}),de.memberLikesSet.delete(e.suggestion_id),e.likes_count--,y.filterByLiked)return void he();!function(e){const t=e.querySelector(".rating-container span");if(!t)return;const n=t.textContent;if(!n||!Number.isInteger(+n))return;const o=+n;t.textContent=`${Math.max(o-1,0)}`,e.classList.remove("like-pending","liked")}(t),h(t)}catch(e){if(console.log(e),t.classList.remove("like-pending"),!o.A.isAxiosError(e))return void(0,l.A)("Failed to unlike suggestion.","error");const n=e;if(!n.status||!n.response)return void(0,l.A)("Failed to unlike suggestion.","error");const r=n.status,s=n.response.data.message,a=n.response.data.reason;if(400===r)return void(0,l.A)("Failed to unlike suggestion.","error");if((0,l.A)(s,"error"),401===r){if("notHangoutMember"===a)return d.A.display(),void setTimeout((()=>window.location.reload()),1e3);(0,i.g)()}}}(A,g):void await async function(e,t){if(!m.F.data)return void(0,l.A)("Failed to like suggestion.","error");if(de.memberLikesSet.has(e.suggestion_id))return;t.classList.add("like-pending");const{hangoutMemberId:n,hangoutId:r}=m.F.data;try{await(s={suggestionId:e.suggestion_id,hangoutMemberId:n,hangoutId:r},o.A.post(`${u}/likes`,s)),de.memberLikesSet.add(e.suggestion_id),e.likes_count++,f(t),h(t)}catch(n){if(console.log(n),t.classList.remove("like-pending"),!o.A.isAxiosError(n))return void(0,l.A)("Failed to like suggestion.","error");const r=n;if(!r.status||!r.response)return void(0,l.A)("Failed to like suggestion.","error");const s=r.status,a=r.response.data.message,u=r.response.data.reason;if(400===s)return void(0,l.A)("Failed to like suggestion.","error");if((0,l.A)(a,"error"),409===s)return de.memberLikesSet.add(e.suggestion_id),void f(t);if(404===s)return de.suggestions=de.suggestions.filter((t=>t.suggestion_id!==e.suggestion_id)),e.hangout_member_id===m.F.data.hangoutMemberId&&m.F.data.suggestionsCount--,void he();if(401===s){if("notHangoutMember"===u)return d.A.display(),void setTimeout((()=>window.location.reload()),1e3);(0,i.g)()}}var s}(A,g)}if(e.target.classList.contains("dropdown-menu-btn"))return null===(t=e.target.parentElement)||void 0===t||t.classList.toggle("expanded"),void function(e){var t;const n=e.querySelector("button.like-suggestion-btn");if(!n)return;const o=!0===(null===(t=n.parentElement)||void 0===t?void 0:t.classList.contains("expanded"));n.setAttribute("title",o?"Collapse suggestion options":"Expand suggestion options"),n.setAttribute("aria-label",o?"Collapse suggestion options":"Expand suggestion options")}(g);if(e.target.classList.contains("edit-btn")){const t=m.F.data.hangoutMemberId;return A.hangout_member_id!==t?void(0,l.A)("You can only edit your own suggestions.","error"):(null===(n=e.target.closest(".dropdown-menu"))||void 0===n||n.classList.remove("expanded"),void ee(A))}if(e.target.classList.contains("delete-btn")){null===(a=e.target.closest(".dropdown-menu"))||void 0===a||a.classList.remove("expanded");const{hangoutMemberId:t,isLeader:n}=m.F.data,c=A.hangout_member_id===t;if(!c&&!n)return void(0,l.A)("You're not the hangout leader.","error");s.u.display({title:"Are you sure you want to delete this suggestion?",description:"Any likes or votes associated with it will be permanently lost.",confirmBtnTitle:"Delete suggestion",cancelBtnTitle:"Cancel",extraBtnTitle:c?"Edit suggestion":null,isDangerousAction:!0}).addEventListener("click",(async e=>{if(e.target instanceof HTMLButtonElement)return"confirm-modal-confirm-btn"===e.target.id?(s.u.remove(),V.suggestionIdToEdit===A.suggestion_id&&se(),c?void await be(A,g):void await async function(e,t){if(d.A.display(),!m.F.data)return(0,l.A)("Something went wrong.","error"),void d.A.remove();const{hangoutMemberId:n,hangoutId:s,hangoutDetails:a,isLeader:c}=m.F.data,g=t.querySelector(".dropdown-menu");if(e.hangout_member_id===n)return void await be(e,t);if(!c)return(0,l.A)("You're not the hangout leader.","error"),void d.A.remove();if(a.current_stage===r.Cb)return(0,l.A)("Hangout has not reached the suggestions stage yet.","error"),void d.A.remove();if(a.current_stage===r.Gr)return(0,l.A)("Suggestions can't be deleted after the suggestions stage ends.","error"),void d.A.remove();if(a.is_concluded)return(0,l.A)("Hangout has already been concluded.","error"),void d.A.remove();try{await function(e){const{suggestionId:t,hangoutMemberId:n,hangoutId:i}=e;return o.A.delete(`${u}/leader?suggestionId=${t}&hangoutMemberId=${n}&hangoutId=${i}`)}({suggestionId:e.suggestion_id,hangoutMemberId:n,hangoutId:s}),de.suggestions=de.suggestions.filter((t=>t.suggestion_id!==e.suggestion_id)),de.memberLikesSet.delete(e.suggestion_id),de.memberVotesSet.delete(e.suggestion_id),he(),(0,l.A)("Suggestion deleted.","success"),d.A.remove()}catch(e){if(console.log(e),d.A.remove(),!o.A.isAxiosError(e))return void(0,l.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,l.A)("Something went wrong.","error");const n=t.status,s=t.response.data.message,a=t.response.data.reason;if(400===n)return(0,l.A)("Something went wrong.","error"),void(null==g||g.classList.remove("expanded"));if((0,l.A)(s,"error"),null==g||g.classList.remove("expanded"),404===n)return d.A.display(),void setTimeout((()=>window.location.reload()),1e3);if(403===n)return"inAvailabilityStage"===a?(m.F.data.hangoutDetails.current_stage=r.Cb,void he()):"inVotingStage"===a?(m.F.data.hangoutDetails.current_stage=r.Gr,void he()):(m.F.data.hangoutDetails.current_stage=r.wi,m.F.data.hangoutDetails.is_concluded=!0,void he());if(401===n){if("authSessionExpired"===a)return void(0,i.g)();"authSessionDestroyed"===a&&(0,i.E)()}}}(A,g)):void("confirm-modal-cancel-btn"!==e.target.id?"confirm-modal-other-btn"===e.target.id&&(s.u.remove(),ee(A)):s.u.remove())}))}else;}}async function be(e,t){if(d.A.display(),!m.F.data)return(0,l.A)("Something went wrong.","error"),void d.A.remove();const{hangoutMemberId:n,hangoutId:s,hangoutDetails:a}=m.F.data,c=t.querySelector(".dropdown-menu");if(a.current_stage===r.Cb)return(0,l.A)("Hangout has not reached the suggestions stage yet.","error"),void d.A.remove();if(a.current_stage===r.Gr)return(0,l.A)("Suggestions can't be deleted after the suggestions stage ends.","error"),void d.A.remove();if(a.is_concluded)return(0,l.A)("Hangout has already been concluded.","error"),void d.A.remove();try{await function(e){const{suggestionId:t,hangoutMemberId:n,hangoutId:i}=e;return o.A.delete(`${u}?suggestionId=${t}&hangoutMemberId=${n}&hangoutId=${i}`)}({suggestionId:e.suggestion_id,hangoutMemberId:n,hangoutId:s}),de.suggestions=de.suggestions.filter((t=>t.suggestion_id!==e.suggestion_id)),de.memberLikesSet.delete(e.suggestion_id),de.memberVotesSet.delete(e.suggestion_id),m.F.data.suggestionsCount--,he(),(0,l.A)("Suggestion deleted.","success"),d.A.remove()}catch(e){if(console.log(e),d.A.remove(),!o.A.isAxiosError(e))return void(0,l.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,l.A)("Something went wrong.","error");const n=t.status,s=t.response.data.message,a=t.response.data.reason;if(400===n)return(0,l.A)("Something went wrong.","error"),void(null==c||c.classList.remove("expanded"));if((0,l.A)(s,"error"),null==c||c.classList.remove("expanded"),404===n)return d.A.display(),void setTimeout((()=>window.location.reload()),1e3);if(403===n)return"inAvailabilityStage"===a?(m.F.data.hangoutDetails.current_stage=r.Cb,void he()):"inVotingStage"===a?(m.F.data.hangoutDetails.current_stage=r.Gr,void he()):(m.F.data.hangoutDetails.current_stage=r.wi,m.F.data.hangoutDetails.is_concluded=!0,void he());if(401===n){if("authSessionExpired"===a)return void(0,i.g)();(0,i.E)()}}}function ye(){const{maxSuggestionsToRender:e,suggestionsRenderLimit:t}=de;de.maxSuggestionsToRender=Math.min(t,e+20),fe()}},1889:(e,t,n)=>{n.d(t,{X:()=>r});var o=n(7536);o.A.defaults.withCredentials=!0;const i="localhost"===window.location.hostname?`http://${window.location.hostname}:5000/api/auth`:`https://${window.location.hostname}/api/auth`;async function r(){return o.A.post(`${i}/signOut`)}},6595:(e,t,n)=>{n.d(t,{DR:()=>s,OU:()=>l,VL:()=>d,Wf:()=>a,_g:()=>r,oc:()=>u});var o=n(7536);o.A.defaults.withCredentials=!0;const i="localhost"===window.location.hostname?`http://${window.location.hostname}:5000/api/hangouts`:`https://${window.location.hostname}/api/hangouts`;async function r(e){return o.A.patch(`${i}/details/updatePassword`,e)}async function s(e){return o.A.patch(`${i}/details/updateMembersLimit`,e)}async function a(e){return o.A.patch(`${i}/details/stages/update`,e)}async function d(e){return o.A.patch(`${i}/details/stages/progress`,e)}async function l(e){return o.A.get(`${i}/details/hangoutExists?hangoutId=${e}`)}async function u(e){return o.A.get(`${i}/details/initial?hangoutId=${e}`)}},6263:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(7275),i=n(3119),r=n(7013),s=n(7960),a=n(4062);const d={http:i.A,xhr:r.A,fetch:s.A};o.A.forEach(d,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const l=e=>`- ${e}`,u=e=>o.A.isFunction(e)||null===e||!1===e,c={getAdapter:e=>{e=o.A.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let o=0;o<t;o++){let t;if(n=e[o],i=n,!u(n)&&(i=d[(t=String(n)).toLowerCase()],void 0===i))throw new a.A(`Unknown adapter '${t}'`);if(i)break;r[t||"#"+o]=i}if(!i){const e=Object.entries(r).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(l).join("\n"):" "+l(e[0]):"as no adapter specified";throw new a.A("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i},adapters:d}},7960:(e,t,n)=>{n.d(t,{A:()=>S});var o=n(3820),i=n(7275),r=n(4062),s=n(2723),a=n(1791),d=n(7110),l=n(7837),u=n(8382),c=n(3853);const g="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,m=g&&"function"==typeof ReadableStream,p=g&&("function"==typeof TextEncoder?(h=new TextEncoder,e=>h.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var h;const f=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},v=m&&f((()=>{let e=!1;const t=new Request(o.A.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),A=m&&f((()=>i.A.isReadableStream(new Response("").body))),b={stream:A&&(e=>e.body)};var y;g&&(y=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!b[e]&&(b[e]=i.A.isFunction(y[e])?t=>t[e]():(t,n)=>{throw new r.A(`Response type '${e}' is not supported`,r.A.ERR_NOT_SUPPORT,n)})})));const w=async(e,t)=>{const n=i.A.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(i.A.isBlob(e))return e.size;if(i.A.isSpecCompliantForm(e)){const t=new Request(o.A.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return i.A.isArrayBufferView(e)||i.A.isArrayBuffer(e)?e.byteLength:(i.A.isURLSearchParams(e)&&(e+=""),i.A.isString(e)?(await p(e)).byteLength:void 0)})(t):n},S=g&&(async e=>{let{url:t,method:n,data:o,signal:g,cancelToken:m,timeout:p,onDownloadProgress:h,onUploadProgress:f,responseType:y,headers:S,withCredentials:C="same-origin",fetchOptions:E}=(0,u.A)(e);y=y?(y+"").toLowerCase():"text";let L,_=(0,s.A)([g,m&&m.toAbortSignal()],p);const T=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let F;try{if(f&&v&&"get"!==n&&"head"!==n&&0!==(F=await w(S,o))){let e,n=new Request(t,{method:"POST",body:o,duplex:"half"});if(i.A.isFormData(o)&&(e=n.headers.get("content-type"))&&S.setContentType(e),n.body){const[e,t]=(0,l.Vj)(F,(0,l.C1)((0,l.mM)(f)));o=(0,a.E9)(n.body,65536,e,t)}}i.A.isString(C)||(C=C?"include":"omit");const r="credentials"in Request.prototype;L=new Request(t,{...E,signal:_,method:n.toUpperCase(),headers:S.normalize().toJSON(),body:o,duplex:"half",credentials:r?C:void 0});let s=await fetch(L);const u=A&&("stream"===y||"response"===y);if(A&&(h||u&&T)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=i.A.toFiniteNumber(s.headers.get("content-length")),[n,o]=h&&(0,l.Vj)(t,(0,l.C1)((0,l.mM)(h),!0))||[];s=new Response((0,a.E9)(s.body,65536,n,(()=>{o&&o(),T&&T()})),e)}y=y||"text";let g=await b[i.A.findKey(b,y)||"text"](s,e);return!u&&T&&T(),await new Promise(((t,n)=>{(0,c.A)(t,n,{data:g,headers:d.A.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:L})}))}catch(t){if(T&&T(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new r.A("Network Error",r.A.ERR_NETWORK,e,L),{cause:t.cause||t});throw r.A.from(t,t&&t.code,e,L)}})},7013:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(7275),i=n(3853),r=n(807),s=n(4062),a=n(8458),d=n(5579),l=n(3820),u=n(7110),c=n(7837),g=n(8382);const m="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const m=(0,g.A)(e);let p=m.data;const h=u.A.from(m.headers).normalize();let f,v,A,b,y,{responseType:w,onUploadProgress:S,onDownloadProgress:C}=m;function E(){b&&b(),y&&y(),m.cancelToken&&m.cancelToken.unsubscribe(f),m.signal&&m.signal.removeEventListener("abort",f)}let L=new XMLHttpRequest;function _(){if(!L)return;const o=u.A.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),r={data:w&&"text"!==w&&"json"!==w?L.response:L.responseText,status:L.status,statusText:L.statusText,headers:o,config:e,request:L};(0,i.A)((function(e){t(e),E()}),(function(e){n(e),E()}),r),L=null}L.open(m.method.toUpperCase(),m.url,!0),L.timeout=m.timeout,"onloadend"in L?L.onloadend=_:L.onreadystatechange=function(){L&&4===L.readyState&&(0!==L.status||L.responseURL&&0===L.responseURL.indexOf("file:"))&&setTimeout(_)},L.onabort=function(){L&&(n(new s.A("Request aborted",s.A.ECONNABORTED,e,L)),L=null)},L.onerror=function(){n(new s.A("Network Error",s.A.ERR_NETWORK,e,L)),L=null},L.ontimeout=function(){let t=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded";const o=m.transitional||r.A;m.timeoutErrorMessage&&(t=m.timeoutErrorMessage),n(new s.A(t,o.clarifyTimeoutError?s.A.ETIMEDOUT:s.A.ECONNABORTED,e,L)),L=null},void 0===p&&h.setContentType(null),"setRequestHeader"in L&&o.A.forEach(h.toJSON(),(function(e,t){L.setRequestHeader(t,e)})),o.A.isUndefined(m.withCredentials)||(L.withCredentials=!!m.withCredentials),w&&"json"!==w&&(L.responseType=m.responseType),C&&([A,y]=(0,c.C1)(C,!0),L.addEventListener("progress",A)),S&&L.upload&&([v,b]=(0,c.C1)(S),L.upload.addEventListener("progress",v),L.upload.addEventListener("loadend",b)),(m.cancelToken||m.signal)&&(f=t=>{L&&(n(!t||t.type?new a.A(null,e,L):t),L.abort(),L=null)},m.cancelToken&&m.cancelToken.subscribe(f),m.signal&&(m.signal.aborted?f():m.signal.addEventListener("abort",f)));const T=(0,d.A)(m.url);T&&-1===l.A.protocols.indexOf(T)?n(new s.A("Unsupported protocol "+T+":",s.A.ERR_BAD_REQUEST,e)):L.send(p||null)}))}},7536:(e,t,n)=>{n.d(t,{A:()=>w});var o=n(7275),i=n(2125),r=n(5978),s=n(4662),a=n(6013),d=n(7887),l=n(8458),u=n(4874),c=n(9575),g=n(9888),m=n(665),p=n(4062),h=n(605),f=n(8562),v=n(7110),A=n(6263),b=n(7693);const y=function e(t){const n=new r.A(t),a=(0,i.A)(r.A.prototype.request,n);return o.A.extend(a,r.A.prototype,n,{allOwnKeys:!0}),o.A.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e((0,s.A)(t,n))},a}(a.A);y.Axios=r.A,y.CanceledError=l.A,y.CancelToken=u.A,y.isCancel=c.A,y.VERSION=g.x,y.toFormData=m.A,y.AxiosError=p.A,y.Cancel=y.CanceledError,y.all=function(e){return Promise.all(e)},y.spread=h.A,y.isAxiosError=f.A,y.mergeConfig=s.A,y.AxiosHeaders=v.A,y.formToJSON=e=>(0,d.A)(o.A.isHTMLForm(e)?new FormData(e):e),y.getAdapter=A.A.getAdapter,y.HttpStatusCode=b.A,y.default=y;const w=y},4874:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(8458);class i{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const o=new Promise((e=>{n.subscribe(e),t=e})).then(e);return o.cancel=function(){n.unsubscribe(t)},o},e((function(e,i,r){n.reason||(n.reason=new o.A(e,i,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new i((function(t){e=t})),cancel:e}}}const r=i},8458:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(4062);function i(e,t,n){o.A.call(this,null==e?"canceled":e,o.A.ERR_CANCELED,t,n),this.name="CanceledError"}n(7275).A.inherits(i,o.A,{__CANCEL__:!0});const r=i},9575:(e,t,n)=>{function o(e){return!(!e||!e.__CANCEL__)}n.d(t,{A:()=>o})},5978:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(7275),i=n(3967),r=n(7352),s=n(8683),a=n(4662),d=n(8262),l=n(3390),u=n(7110);const c=l.A.validators;class g{constructor(e){this.defaults=e,this.interceptors={request:new r.A,response:new r.A}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=(0,a.A)(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&l.A.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1),null!=i&&(o.A.isFunction(i)?t.paramsSerializer={serialize:i}:l.A.assertOptions(i,{encode:c.function,serialize:c.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let d=r&&o.A.merge(r.common,r[t.method]);r&&o.A.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=u.A.concat(d,r);const g=[];let m=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(m=m&&e.synchronous,g.unshift(e.fulfilled,e.rejected))}));const p=[];let h;this.interceptors.response.forEach((function(e){p.push(e.fulfilled,e.rejected)}));let f,v=0;if(!m){const e=[s.A.bind(this),void 0];for(e.unshift.apply(e,g),e.push.apply(e,p),f=e.length,h=Promise.resolve(t);v<f;)h=h.then(e[v++],e[v++]);return h}f=g.length;let A=t;for(v=0;v<f;){const e=g[v++],t=g[v++];try{A=e(A)}catch(e){t.call(this,e);break}}try{h=s.A.call(this,A)}catch(e){return Promise.reject(e)}for(v=0,f=p.length;v<f;)h=h.then(p[v++],p[v++]);return h}getUri(e){e=(0,a.A)(this.defaults,e);const t=(0,d.A)(e.baseURL,e.url);return(0,i.A)(t,e.params,e.paramsSerializer)}}o.A.forEach(["delete","get","head","options"],(function(e){g.prototype[e]=function(t,n){return this.request((0,a.A)(n||{},{method:e,url:t,data:(n||{}).data}))}})),o.A.forEach(["post","put","patch"],(function(e){function t(t){return function(n,o,i){return this.request((0,a.A)(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}g.prototype[e]=t(),g.prototype[e+"Form"]=t(!0)}));const m=g},4062:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(7275);function i(e,t,n,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}o.A.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:o.A.toJSONObject(this.config),code:this.code,status:this.status}}});const r=i.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{s[e]={value:e}})),Object.defineProperties(i,s),Object.defineProperty(r,"isAxiosError",{value:!0}),i.from=(e,t,n,s,a,d)=>{const l=Object.create(r);return o.A.toFlatObject(e,l,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),i.call(l,e.message,t,n,s,a),l.cause=e,l.name=e.name,d&&Object.assign(l,d),l};const a=i},7110:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(7275),i=n(3325);const r=Symbol("internals");function s(e){return e&&String(e).trim().toLowerCase()}function a(e){return!1===e||null==e?e:o.A.isArray(e)?e.map(a):String(e)}function d(e,t,n,i,r){return o.A.isFunction(i)?i.call(this,t,n):(r&&(t=n),o.A.isString(t)?o.A.isString(i)?-1!==t.indexOf(i):o.A.isRegExp(i)?i.test(t):void 0:void 0)}class l{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function d(e,t,n){const i=s(t);if(!i)throw new Error("header name must be a non-empty string");const d=o.A.findKey(r,i);(!d||void 0===r[d]||!0===n||void 0===n&&!1!==r[d])&&(r[d||t]=a(e))}const l=(e,t)=>o.A.forEach(e,((e,n)=>d(e,n,t)));if(o.A.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(o.A.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))l((0,i.A)(e),t);else if(o.A.isHeaders(e))for(const[t,o]of e.entries())d(o,t,n);else null!=e&&d(t,e,n);return this}get(e,t){if(e=s(e)){const n=o.A.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}(e);if(o.A.isFunction(t))return t.call(this,e,n);if(o.A.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=s(e)){const n=o.A.findKey(this,e);return!(!n||void 0===this[n]||t&&!d(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=s(e)){const r=o.A.findKey(n,e);!r||t&&!d(0,n[r],r,t)||(delete n[r],i=!0)}}return o.A.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,o=!1;for(;n--;){const i=t[n];e&&!d(0,this[i],i,e,!0)||(delete this[i],o=!0)}return o}normalize(e){const t=this,n={};return o.A.forEach(this,((i,r)=>{const s=o.A.findKey(n,r);if(s)return t[s]=a(i),void delete t[r];const d=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();d!==r&&delete t[r],t[d]=a(i),n[d]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return o.A.forEach(this,((n,i)=>{null!=n&&!1!==n&&(t[i]=e&&o.A.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[r]=this[r]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=s(e);t[i]||(!function(e,t){const n=o.A.toCamelCase(" "+t);["get","set","has"].forEach((o=>{Object.defineProperty(e,o+n,{value:function(e,n,i){return this[o].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[i]=!0)}return o.A.isArray(e)?e.forEach(i):i(e),this}}l.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),o.A.reduceDescriptors(l.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),o.A.freezeMethods(l);const u=l},7352:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(7275);const i=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){o.A.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}},8262:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(9034),i=n(6787);function r(e,t){return e&&!(0,o.A)(t)?(0,i.A)(e,t):t}},8683:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(9152),i=n(9575),r=n(6013),s=n(8458),a=n(7110),d=n(6263);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s.A(null,e)}function u(e){l(e),e.headers=a.A.from(e.headers),e.data=o.A.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return d.A.getAdapter(e.adapter||r.A.adapter)(e).then((function(t){return l(e),t.data=o.A.call(e,e.transformResponse,t),t.headers=a.A.from(t.headers),t}),(function(t){return(0,i.A)(t)||(l(e),t&&t.response&&(t.response.data=o.A.call(e,e.transformResponse,t.response),t.response.headers=a.A.from(t.response.headers))),Promise.reject(t)}))}},4662:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(7275),i=n(7110);const r=e=>e instanceof i.A?{...e}:e;function s(e,t){t=t||{};const n={};function i(e,t,n){return o.A.isPlainObject(e)&&o.A.isPlainObject(t)?o.A.merge.call({caseless:n},e,t):o.A.isPlainObject(t)?o.A.merge({},t):o.A.isArray(t)?t.slice():t}function s(e,t,n){return o.A.isUndefined(t)?o.A.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}function a(e,t){if(!o.A.isUndefined(t))return i(void 0,t)}function d(e,t){return o.A.isUndefined(t)?o.A.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function l(n,o,r){return r in t?i(n,o):r in e?i(void 0,n):void 0}const u={url:a,method:a,data:a,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:l,headers:(e,t)=>s(r(e),r(t),!0)};return o.A.forEach(Object.keys(Object.assign({},e,t)),(function(i){const r=u[i]||s,a=r(e[i],t[i],i);o.A.isUndefined(a)&&r!==l||(n[i]=a)})),n}},3853:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(4062);function i(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new o.A("Request failed with status code "+n.status,[o.A.ERR_BAD_REQUEST,o.A.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},9152:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(7275),i=n(6013),r=n(7110);function s(e,t){const n=this||i.A,s=t||n,a=r.A.from(s.headers);let d=s.data;return o.A.forEach(e,(function(e){d=e.call(n,d,a.normalize(),t?t.status:void 0)})),a.normalize(),d}},6013:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(7275),i=n(4062),r=n(807),s=n(665),a=n(1076),d=n(3820),l=n(7887);const u={transitional:r.A,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=o.A.isObject(e);r&&o.A.isHTMLForm(e)&&(e=new FormData(e));if(o.A.isFormData(e))return i?JSON.stringify((0,l.A)(e)):e;if(o.A.isArrayBuffer(e)||o.A.isBuffer(e)||o.A.isStream(e)||o.A.isFile(e)||o.A.isBlob(e)||o.A.isReadableStream(e))return e;if(o.A.isArrayBufferView(e))return e.buffer;if(o.A.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return(0,a.A)(e,this.formSerializer).toString();if((d=o.A.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return(0,s.A)(d?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(o.A.isString(e))try{return(t||JSON.parse)(e),o.A.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||u.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(o.A.isResponse(e)||o.A.isReadableStream(e))return e;if(e&&o.A.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw i.A.from(e,i.A.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:d.A.classes.FormData,Blob:d.A.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};o.A.forEach(["delete","get","head","post","put","patch"],(e=>{u.headers[e]={}}));const c=u},807:(e,t,n)=>{n.d(t,{A:()=>o});const o={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},9888:(e,t,n)=>{n.d(t,{x:()=>o});const o="1.7.7"},5267:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(665);function i(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function r(e,t){this._pairs=[],e&&(0,o.A)(e,this,t)}const s=r.prototype;s.append=function(e,t){this._pairs.push([e,t])},s.toString=function(e){const t=e?function(t){return e.call(this,t,i)}:i;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const a=r},7693:(e,t,n)=>{n.d(t,{A:()=>i});const o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(o).forEach((([e,t])=>{o[t]=e}));const i=o},2125:(e,t,n)=>{function o(e,t){return function(){return e.apply(t,arguments)}}n.d(t,{A:()=>o})},3967:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(7275),i=n(5267);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function s(e,t,n){if(!t)return e;const s=n&&n.encode||r,a=n&&n.serialize;let d;if(d=a?a(t,n):o.A.isURLSearchParams(t)?t.toString():new i.A(t,n).toString(s),d){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+d}return e}},6787:(e,t,n)=>{function o(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}n.d(t,{A:()=>o})},2723:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(8458),i=n(4062),r=n(7275);const s=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,s=new AbortController;const a=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;s.abort(t instanceof i.A?t:new o.A(t instanceof Error?t.message:t))}};let d=t&&setTimeout((()=>{d=null,a(new i.A(`timeout ${t} of ms exceeded`,i.A.ETIMEDOUT))}),t);const l=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:u}=s;return u.unsubscribe=()=>r.A.asap(l),u}}},9887:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(7275);const i=n(3820).A.hasStandardBrowserEnv?{write(e,t,n,i,r,s){const a=[e+"="+encodeURIComponent(t)];o.A.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),o.A.isString(i)&&a.push("path="+i),o.A.isString(r)&&a.push("domain="+r),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}}},7887:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(7275);const i=function(e){function t(e,n,i,r){let s=e[r++];if("__proto__"===s)return!0;const a=Number.isFinite(+s),d=r>=e.length;if(s=!s&&o.A.isArray(i)?i.length:s,d)return o.A.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a;i[s]&&o.A.isObject(i[s])||(i[s]=[]);return t(e,n,i[s],r)&&o.A.isArray(i[s])&&(i[s]=function(e){const t={},n=Object.keys(e);let o;const i=n.length;let r;for(o=0;o<i;o++)r=n[o],t[r]=e[r];return t}(i[s])),!a}if(o.A.isFormData(e)&&o.A.isFunction(e.entries)){const n={};return o.A.forEachEntry(e,((e,i)=>{t(function(e){return o.A.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,n,0)})),n}return null}},9034:(e,t,n)=>{function o(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}n.d(t,{A:()=>o})},8562:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(7275);function i(e){return o.A.isObject(e)&&!0===e.isAxiosError}},6305:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(7275),i=n(3820);const r=i.A.hasStandardBrowserEnv?function(){const e=i.A.navigator&&/(msie|trident)/i.test(i.A.navigator.userAgent),t=document.createElement("a");let n;function r(n){let o=n;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=o.A.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0}},3119:(e,t,n)=>{n.d(t,{A:()=>o});const o=null},3325:(e,t,n)=>{n.d(t,{A:()=>i});const o=n(7275).A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i=e=>{const t={};let n,i,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&o[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t}},5579:(e,t,n)=>{function o(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}n.d(t,{A:()=>o})},7837:(e,t,n)=>{n.d(t,{C1:()=>s,Vj:()=>a,mM:()=>d});var o=n(3873),i=n(66),r=n(7275);const s=(e,t,n=3)=>{let r=0;const s=(0,o.A)(50,250);return(0,i.A)((n=>{const o=n.loaded,i=n.lengthComputable?n.total:void 0,a=o-r,d=s(a);r=o;e({loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:d||void 0,estimated:d&&i&&o<=i?(i-o)/d:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},a=(e,t)=>{const n=null!=e;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},d=e=>(...t)=>r.A.asap((()=>e(...t)))},8382:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(3820),i=n(7275),r=n(6305),s=n(9887),a=n(8262),d=n(4662),l=n(7110),u=n(3967);const c=e=>{const t=(0,d.A)({},e);let n,{data:c,withXSRFToken:g,xsrfHeaderName:m,xsrfCookieName:p,headers:h,auth:f}=t;if(t.headers=h=l.A.from(h),t.url=(0,u.A)((0,a.A)(t.baseURL,t.url),e.params,e.paramsSerializer),f&&h.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),i.A.isFormData(c))if(o.A.hasStandardBrowserEnv||o.A.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(!1!==(n=h.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];h.setContentType([e||"multipart/form-data",...t].join("; "))}if(o.A.hasStandardBrowserEnv&&(g&&i.A.isFunction(g)&&(g=g(t)),g||!1!==g&&(0,r.A)(t.url))){const e=m&&p&&s.A.read(p);e&&h.set(m,e)}return t}},3873:(e,t,n)=>{n.d(t,{A:()=>o});const o=function(e,t){e=e||10;const n=new Array(e),o=new Array(e);let i,r=0,s=0;return t=void 0!==t?t:1e3,function(a){const d=Date.now(),l=o[s];i||(i=d),n[r]=a,o[r]=d;let u=s,c=0;for(;u!==r;)c+=n[u++],u%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),d-i<t)return;const g=l&&d-l;return g?Math.round(1e3*c/g):void 0}}},605:(e,t,n)=>{function o(e){return function(t){return e.apply(null,t)}}n.d(t,{A:()=>o})},66:(e,t,n)=>{n.d(t,{A:()=>o});const o=function(e,t){let n,o,i=0,r=1e3/t;const s=(t,r=Date.now())=>{i=r,n=null,o&&(clearTimeout(o),o=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-i;a>=r?s(e,t):(n=e,o||(o=setTimeout((()=>{o=null,s(n)}),r-a)))},()=>n&&s(n)]}},665:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(7275),i=n(4062),r=n(3119);function s(e){return o.A.isPlainObject(e)||o.A.isArray(e)}function a(e){return o.A.endsWith(e,"[]")?e.slice(0,-2):e}function d(e,t,n){return e?e.concat(t).map((function(e,t){return e=a(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const l=o.A.toFlatObject(o.A,{},null,(function(e){return/^is[A-Z]/.test(e)}));const u=function(e,t,n){if(!o.A.isObject(e))throw new TypeError("target must be an object");t=t||new(r.A||FormData);const u=(n=o.A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!o.A.isUndefined(t[e])}))).metaTokens,c=n.visitor||f,g=n.dots,m=n.indexes,p=(n.Blob||"undefined"!=typeof Blob&&Blob)&&o.A.isSpecCompliantForm(t);if(!o.A.isFunction(c))throw new TypeError("visitor must be a function");function h(e){if(null===e)return"";if(o.A.isDate(e))return e.toISOString();if(!p&&o.A.isBlob(e))throw new i.A("Blob is not supported. Use a Buffer instead.");return o.A.isArrayBuffer(e)||o.A.isTypedArray(e)?p&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function f(e,n,i){let r=e;if(e&&!i&&"object"==typeof e)if(o.A.endsWith(n,"{}"))n=u?n:n.slice(0,-2),e=JSON.stringify(e);else if(o.A.isArray(e)&&function(e){return o.A.isArray(e)&&!e.some(s)}(e)||(o.A.isFileList(e)||o.A.endsWith(n,"[]"))&&(r=o.A.toArray(e)))return n=a(n),r.forEach((function(e,i){!o.A.isUndefined(e)&&null!==e&&t.append(!0===m?d([n],i,g):null===m?n:n+"[]",h(e))})),!1;return!!s(e)||(t.append(d(i,n,g),h(e)),!1)}const v=[],A=Object.assign(l,{defaultVisitor:f,convertValue:h,isVisitable:s});if(!o.A.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!o.A.isUndefined(n)){if(-1!==v.indexOf(n))throw Error("Circular reference detected in "+i.join("."));v.push(n),o.A.forEach(n,(function(n,r){!0===(!(o.A.isUndefined(n)||null===n)&&c.call(t,n,o.A.isString(r)?r.trim():r,i,A))&&e(n,i?i.concat(r):[r])})),v.pop()}}(e),t}},1076:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(7275),i=n(665),r=n(3820);function s(e,t){return(0,i.A)(e,new r.A.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return r.A.isNode&&o.A.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}},1791:(e,t,n)=>{n.d(t,{E9:()=>r});const o=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let o,i=0;for(;i<n;)o=i+t,yield e.slice(i,o),i=o},i=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},r=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of i(e))yield*o(n,t)}(e,t);let a,d=0,l=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:o}=await s.next();if(t)return l(),void e.close();let i=o.byteLength;if(n){let e=d+=i;n(e)}e.enqueue(new Uint8Array(o))}catch(e){throw l(e),e}},cancel:e=>(l(e),s.return())},{highWaterMark:2})}},3390:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(9888),i=n(4062);const r={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const s={};r.transitional=function(e,t,n){function r(e,t){return"[Axios v"+o.x+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,a)=>{if(!1===e)throw new i.A(r(o," has been removed"+(t?" in "+t:"")),i.A.ERR_DEPRECATED);return t&&!s[o]&&(s[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,a)}};const a={assertOptions:function(e,t,n){if("object"!=typeof e)throw new i.A("options must be an object",i.A.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let r=o.length;for(;r-- >0;){const s=o[r],a=t[s];if(a){const t=e[s],n=void 0===t||a(t,s,e);if(!0!==n)throw new i.A("option "+s+" must be "+n,i.A.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i.A("Unknown option "+s,i.A.ERR_BAD_OPTION)}},validators:r}},6501:(e,t,n)=>{n.d(t,{A:()=>o});const o="undefined"!=typeof Blob?Blob:null},8556:(e,t,n)=>{n.d(t,{A:()=>o});const o="undefined"!=typeof FormData?FormData:null},139:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(5267);const i="undefined"!=typeof URLSearchParams?URLSearchParams:o.A},6847:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(139),i=n(8556),r=n(6501);const s={isBrowser:!0,classes:{URLSearchParams:o.A,FormData:i.A,Blob:r.A},protocols:["http","https","file","blob","url","data"]}},2569:(e,t,n)=>{n.r(t),n.d(t,{hasBrowserEnv:()=>o,hasStandardBrowserEnv:()=>r,hasStandardBrowserWebWorkerEnv:()=>s,navigator:()=>i,origin:()=>a});const o="undefined"!=typeof window&&"undefined"!=typeof document,i="object"==typeof navigator&&navigator||void 0,r=o&&(!i||["ReactNative","NativeScript","NS"].indexOf(i.product)<0),s="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,a=o&&window.location.href||"http://localhost"},3820:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(6847);const i={...n(2569),...o.A}},7275:(e,t,n)=>{n.d(t,{A:()=>G});var o=n(2125);const{toString:i}=Object.prototype,{getPrototypeOf:r}=Object,s=(a=Object.create(null),e=>{const t=i.call(e);return a[t]||(a[t]=t.slice(8,-1).toLowerCase())});var a;const d=e=>(e=e.toLowerCase(),t=>s(t)===e),l=e=>t=>typeof t===e,{isArray:u}=Array,c=l("undefined");const g=d("ArrayBuffer");const m=l("string"),p=l("function"),h=l("number"),f=e=>null!==e&&"object"==typeof e,v=e=>{if("object"!==s(e))return!1;const t=r(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},A=d("Date"),b=d("File"),y=d("Blob"),w=d("FileList"),S=d("URLSearchParams"),[C,E,L,_]=["ReadableStream","Request","Response","Headers"].map(d);function T(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let o,i;if("object"!=typeof e&&(e=[e]),u(e))for(o=0,i=e.length;o<i;o++)t.call(null,e[o],o,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),r=i.length;let s;for(o=0;o<r;o++)s=i[o],t.call(null,e[s],s,e)}}function F(e,t){t=t.toLowerCase();const n=Object.keys(e);let o,i=n.length;for(;i-- >0;)if(o=n[i],t===o.toLowerCase())return o;return null}const x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,k=e=>!c(e)&&e!==x;const M=(D="undefined"!=typeof Uint8Array&&r(Uint8Array),e=>D&&e instanceof D);var D;const I=d("HTMLFormElement"),q=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),O=d("RegExp"),B=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};T(n,((n,i)=>{let r;!1!==(r=t(n,i,e))&&(o[i]=r||n)})),Object.defineProperties(e,o)},P="abcdefghijklmnopqrstuvwxyz",R="0123456789",$={DIGIT:R,ALPHA:P,ALPHA_DIGIT:P+P.toUpperCase()+R};const N=d("AsyncFunction"),H=(j="function"==typeof setImmediate,U=p(x.postMessage),j?setImmediate:U?(V=`axios@${Math.random()}`,W=[],x.addEventListener("message",(({source:e,data:t})=>{e===x&&t===V&&W.length&&W.shift()()}),!1),e=>{W.push(e),x.postMessage(V,"*")}):e=>setTimeout(e));var j,U,V,W;const J="undefined"!=typeof queueMicrotask?queueMicrotask.bind(x):"undefined"!=typeof process&&process.nextTick||H,G={isArray:u,isArrayBuffer:g,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&p(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||p(e.append)&&("formdata"===(t=s(e))||"object"===t&&p(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&g(e.buffer),t},isString:m,isNumber:h,isBoolean:e=>!0===e||!1===e,isObject:f,isPlainObject:v,isReadableStream:C,isRequest:E,isResponse:L,isHeaders:_,isUndefined:c,isDate:A,isFile:b,isBlob:y,isRegExp:O,isFunction:p,isStream:e=>f(e)&&p(e.pipe),isURLSearchParams:S,isTypedArray:M,isFileList:w,forEach:T,merge:function e(){const{caseless:t}=k(this)&&this||{},n={},o=(o,i)=>{const r=t&&F(n,i)||i;v(n[r])&&v(o)?n[r]=e(n[r],o):v(o)?n[r]=e({},o):u(o)?n[r]=o.slice():n[r]=o};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&T(arguments[e],o);return n},extend:(e,t,n,{allOwnKeys:i}={})=>(T(t,((t,i)=>{n&&p(t)?e[i]=(0,o.A)(t,n):e[i]=t}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,o)=>{let i,s,a;const d={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],o&&!o(a,e,t)||d[a]||(t[a]=e[a],d[a]=!0);e=!1!==n&&r(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:d,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return-1!==o&&o===n},toArray:e=>{if(!e)return null;if(u(e))return e;let t=e.length;if(!h(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=n.next())&&!o.done;){const n=o.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const o=[];for(;null!==(n=e.exec(t));)o.push(n);return o},isHTMLForm:I,hasOwnProperty:q,hasOwnProp:q,reduceDescriptors:B,freezeMethods:e=>{B(e,((t,n)=>{if(p(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const o=e[n];p(o)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},o=e=>{e.forEach((e=>{n[e]=!0}))};return u(e)?o(e):o(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:F,global:x,isContextDefined:k,ALPHABET:$,generateString:(e=16,t=$.ALPHA_DIGIT)=>{let n="";const{length:o}=t;for(;e--;)n+=t[Math.random()*o|0];return n},isSpecCompliantForm:function(e){return!!(e&&p(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,o)=>{if(f(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[o]=e;const i=u(e)?[]:{};return T(e,((e,t)=>{const r=n(e,o+1);!c(r)&&(i[t]=r)})),t[o]=void 0,i}}return e};return n(e,0)},isAsyncFn:N,isThenable:e=>e&&(f(e)||p(e))&&p(e.then)&&p(e.catch),setImmediate:H,asap:J}}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return i[e](n,n.exports,s),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},s.a=(i,r,s)=>{var a;s&&((a=[]).d=-1);var d,l,u,c=new Set,g=i.exports,m=new Promise(((e,t)=>{u=t,l=e}));m[t]=g,m[e]=e=>(a&&e(a),c.forEach(e),m.catch((e=>{}))),i.exports=m,r((i=>{var r;d=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[e])return i;if(i.then){var r=[];r.d=0,i.then((e=>{s[t]=e,o(r)}),(e=>{s[n]=e,o(r)}));var s={};return s[e]=e=>e(r),s}}var a={};return a[e]=e=>{},a[t]=i,a})))(i);var s=()=>d.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(r=()=>t(s)).r=0;var n=e=>e!==a&&!c.has(e)&&(c.add(e),e&&!e.d&&(r.r++,e.push(r)));d.map((t=>t[e](n)))}));return r.r?l:s()}),(e=>(e?u(m[n]=e):l(g),o(a)))),a&&a.d<0&&(a.d=0)},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};s(6072)})();