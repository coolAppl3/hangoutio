(()=>{"use strict";function e(){!function(){setTimeout((()=>{var e;null===(e=document.querySelector("#transition-pause"))||void 0===e||e.remove()}),100);const e=localStorage.getItem("darkTheme");if(!e||!JSON.parse(e))return document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),void s("light");document.documentElement.classList.add("dark"),s("dark")}();const e=document.querySelector("#theme-switcher");null==e||e.addEventListener("click",n),null==e||e.addEventListener("keyup",t)}function t(e){"Enter"===e.key&&n()}function n(){const e=localStorage.getItem("darkTheme");if(!(e?JSON.parse(e):null))return document.documentElement.classList.add("dark"),localStorage.setItem("darkTheme",JSON.stringify(!0)),void s("dark");document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),s("light")}function s(e){const t=document.querySelector("#theme-switcher");"dark"!==e?null==t||t.classList.remove("dark-theme"):null==t||t.classList.add("dark-theme")}class a{static get(e){const t=this.createCookieMap().get(e);return t||null}static set(e,t,n){""!==e.trim()&&""!==t.trim()&&(document.cookie=n?`${e}=${t}; max-age=${n}; path=/; Secure`:`${e}=${t}; path=/; Secure`)}static remove(e){""!==e.trim()&&(document.cookie=`${e}=; max-age=0`)}static createCookieMap(){const e=document.cookie,t=new Map;if(!e)return t;const n=e.split("; ");for(const e of n){const n=e.split("=")[0],s=e.split("=")[1];t.set(n,s)}return t}}function o(e){if(e.length<34)return!1;if(!e.startsWith("a")&&!e.startsWith("g"))return!1;if("_"!==e[32])return!1;if(!Number.isInteger(+e.substring(33)))return!1;return/^[A-Za-z0-9_]{34,}$/.test(e)}const r=document.querySelector(".top-nav");const c=document.querySelector(".bot-nav"),i=document.querySelector("#account-list-btn"),u=document.querySelector("#account-list-container");function l(){if(null==i?void 0:i.classList.contains("expanded"))return setTimeout((()=>null==i?void 0:i.classList.remove("expanded")),150),void requestAnimationFrame((()=>{requestAnimationFrame((()=>{u&&(u.style.opacity="0")}))}));null==i||i.classList.add("expanded"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{u&&(u.style.opacity="1")}))}))}e(),function(){const e=a.get("authToken");e&&(o(e)?e.startsWith("g")?null==r||r.classList.add("guest-user"):null==r||r.classList.add("account-user"):a.remove("authToken"))}(),function(){const e=document.querySelector("#account-nav-container-btn");null==e||e.addEventListener("click",(t=>{t.preventDefault();const n=document.querySelector("#account-nav-container-links");if(null==n?void 0:n.classList.contains("expanded"))return e.classList.remove("expanded"),setTimeout((()=>n.classList.remove("expanded")),150),void requestAnimationFrame((()=>{requestAnimationFrame((()=>{n.style.opacity="0"}))}));e.classList.add("expanded"),null==n||n.classList.add("expanded"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{n&&(n.style.opacity="1")}))}))}))}(),function(e){const t=a.get("authToken");t&&(o(t)?t.startsWith("g")?null==e||e.classList.add("guest-user"):null==e||e.classList.add("account-user"):a.remove("authToken"))}(c),null==i||i.addEventListener("click",l)})();