(()=>{"use strict";var e,t,n,o,i={6072:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var o=n(5689),i=n(495),r=n(1384),a=n(1340),s=n(186),d=n(4064);(0,o.A)(),(0,i.A)(),(0,r.Ki)(),await(0,a.PT)(),(0,s.Cq)(),(0,d.G0)(),t()}catch(e){t(e)}}),1)},5483:(e,t,n)=>{n.d(t,{u:()=>o});class o{static display(e){const t=document.querySelector("#confirm-modal");null==t||t.remove();const n=this.createConfirmModal(e);return document.body.appendChild(n),n.focus(),requestAnimationFrame((()=>{requestAnimationFrame((()=>{n.classList.add("revealed")}))})),n}static remove(){const e=document.querySelector("#confirm-modal");null==e||e.classList.remove("revealed"),setTimeout((()=>null==e?void 0:e.remove()),150)}static createConfirmModal(e){const t=document.createElement("div");t.id="confirm-modal",t.setAttribute("tabindex","0"),e.description&&(t.className="has-description");const n=document.createElement("div");if(n.id="confirm-modal-container",n.appendChild(this.createModalTitle(e.title)),e.description){const t=this.createDescriptionContainer();for(const n of e.description.split("\n"))t.appendChild(this.createModalDescription(n));n.appendChild(t)}return n.appendChild(this.createBtnContainer(e)),t.appendChild(n),t}static createModalTitle(e){const t=document.createElement("p");return t.className="confirm-modal-title",t.appendChild(document.createTextNode(e)),t}static createDescriptionContainer(){const e=document.createElement("div");return e.className="description-container",e}static createModalDescription(e){const t=document.createElement("p");return t.className="confirm-modal-description",t.appendChild(document.createTextNode(e)),t}static createBtnContainer(e){const t=document.createElement("div");return t.className="btn-container",t.appendChild(this.createBtnElement("confirm-btn",e.confirmBtnTitle,e.isDangerousAction)),t.appendChild(this.createBtnElement("cancel-btn",e.cancelBtnTitle)),e.extraBtnTitle&&t.appendChild(this.createBtnElement("other-btn",e.extraBtnTitle)),t}static createBtnElement(e,t,n){const o=document.createElement("button");return o.id=`confirm-modal-${e}`,o.setAttribute("type","button"),o.appendChild(document.createTextNode(t)),n&&(o.className="danger"),o}}},3415:(e,t,n)=>{n.d(t,{A:()=>o});class o{static get(e){const t=this.createCookieMap().get(e);return t||null}static set(e,t,n){document.cookie=n?`${e}=${t}; max-age=${n}; path=/; Secure; SameSite=Strict`:`${e}=${t}; path=/; Secure; SameSite=Strict`}static remove(e){document.cookie=`${e}=; max-age=0`}static createCookieMap(){const e=document.cookie,t=new Map;if(""===e)return t;const n=e.split("; ");for(const e of n){const n=e.split("=")[0],o=e.split("=")[1];t.set(n,o)}return t}}},7130:(e,t,n)=>{n.d(t,{A:()=>o});class o{static display(e,t){o.hide(e);const n=document.querySelector(`[data-target="${e.id}"]`);n&&(n.textContent=t);const i=e.parentElement;null==i||i.classList.add("error")}static hide(e){const t=e.parentElement;if(!(null==t?void 0:t.classList.contains("error")))return;null==t||t.classList.remove("error");const n=document.querySelector(`[data-target="${e.id}"]`);n&&(n.textContent="")}}},1093:(e,t,n)=>{n.d(t,{W:()=>o});class o{static display(e,t){const n=document.querySelector("#info-modal");null==n||n.remove();const o=this.createInfoModal(e);return document.body.appendChild(o),o.focus(),requestAnimationFrame((()=>{requestAnimationFrame((()=>{o.classList.add("revealed")}))})),(null==t?void 0:t.simple)&&this.addSimpleClosingEventListener(o),o}static remove(){const e=document.querySelector("#info-modal");e&&(e.classList.remove("revealed"),setTimeout((()=>e.remove()),150))}static addSimpleClosingEventListener(e){e.addEventListener("click",(e=>{e.target instanceof HTMLElement&&"info-modal-btn"===e.target.id&&o.remove()}))}static createInfoModal(e){const t=document.createElement("div");t.id="info-modal",t.setAttribute("tabindex","0"),e.description&&(t.className="has-description");const n=document.createElement("div");if(n.id="info-modal-container",n.appendChild(this.createModalTitle(e.title)),e.description){const t=this.createDescriptionContainer();for(const n of e.description.split("\n"))t.appendChild(this.createModalDescription(n));n.appendChild(t)}return n.appendChild(this.createModalBtn(e.btnTitle)),t.appendChild(n),t}static createModalTitle(e){const t=document.createElement("p");return t.className="info-modal-title",t.appendChild(document.createTextNode(e)),t}static createDescriptionContainer(){const e=document.createElement("div");return e.className="description-container",e}static createModalDescription(e){const t=document.createElement("p");return t.className="info-modal-description",t.appendChild(document.createTextNode(e)),t}static createModalBtn(e){const t=document.createElement("button");return t.id="info-modal-btn",t.setAttribute("type","button"),t.appendChild(document.createTextNode(e)),t}}},7107:(e,t,n)=>{n.d(t,{A:()=>o});class o{static display(){if(document.querySelector("#loading-modal"))return;const e=this.createModal();document.body.appendChild(e)}static remove(){const e=document.querySelector("#loading-modal");null==e||e.remove()}static createModal(){const e=document.createElement("div");return e.id="loading-modal",e.appendChild(this.createModalSpinner()),e}static createModalSpinner(){const e=document.createElement("div");return e.className="spinner",e}}},4803:(e,t,n)=>{n.d(t,{E:()=>a,g:()=>r});var o=n(5483),i=n(3415);function r(e=window.location.href){s(),document.dispatchEvent(new CustomEvent("signedOut"));o.u.display({title:"Sign in session expired.",description:"Please sign back in to continue.",confirmBtnTitle:"Sign back in",cancelBtnTitle:"Go to homepage",extraBtnTitle:null,isDangerousAction:!1}).addEventListener("click",(t=>{if(t.target instanceof HTMLElement)return"confirm-modal-confirm-btn"===t.target.id?(i.A.set("afterAuthRedirectHref",e),void(window.location.href="sign-in")):void("confirm-modal-cancel-btn"===t.target.id&&(window.location.href="home"))}))}function a(e=window.location.href){s(),dispatchEvent(new CustomEvent("signedOut"));o.u.display({title:"Invalid sign in credentials detected.",description:"You've been signed out as a result. Please sign back in to continue.",confirmBtnTitle:"Sign back in",cancelBtnTitle:"Go to homepage",extraBtnTitle:null,isDangerousAction:!1}).addEventListener("click",(t=>{if(t.target instanceof HTMLElement)return"confirm-modal-confirm-btn"===t.target.id?(i.A.set("afterAuthRedirectHref",e),void(window.location.href="sign-in")):void("confirm-modal-cancel-btn"===t.target.id&&(window.location.href="home"))}))}function s(){i.A.remove("signedInAs"),i.A.remove("guestHangoutId")}},495:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(5483),i=n(3415),r=n(7107),a=n(9103);const s=document.querySelector(".bot-nav"),d=document.querySelector("#account-list-btn"),l=document.querySelector("#account-list-container");function c(){m(),null==d||d.addEventListener("click",p),null==s||s.addEventListener("click",u),document.addEventListener("signedOut",m)}function u(e){e.target instanceof HTMLEmbedElement&&e.target.classList.contains("sign-out-btn")&&(e.preventDefault(),o.u.display({title:"Are you sure you want to sign out of your account?",description:null,confirmBtnTitle:"Sign out",cancelBtnTitle:"Cancel",extraBtnTitle:null,isDangerousAction:!0}).addEventListener("click",(async e=>{if(e.target instanceof HTMLElement)return"confirm-modal-confirm-btn"===e.target.id?(o.u.remove(),await(0,a.C)(),r.A.display(),void setTimeout((()=>window.location.reload()),1e3)):void("confirm-modal-cancel-btn"===e.target.id&&o.u.remove())})))}function m(){const e=i.A.get("signedInAs");e?"guest"!==e?null==s||s.classList.add("account-user"):null==s||s.classList.add("guest-user"):null==s||s.classList.remove("guest-user","account-user")}function p(){if(null==d?void 0:d.classList.contains("expanded"))return setTimeout((()=>null==d?void 0:d.classList.remove("expanded")),150),void requestAnimationFrame((()=>{requestAnimationFrame((()=>{l&&(l.style.opacity="0")}))}));null==d||d.classList.add("expanded"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{l&&(l.style.opacity="1")}))}))}},2484:(e,t,n)=>{n.d(t,{Cb:()=>a,Gr:()=>d,Hd:()=>i,c7:()=>s,fD:()=>c,pj:()=>o,vJ:()=>u,wi:()=>l,x7:()=>r});const o=6e4,i=60*o,r=24*i,a=1,s=2,d=3,l=4,c=3,u=10},974:(e,t,n)=>{n.d(t,{CA:()=>i,Dr:()=>d,Ge:()=>r,WB:()=>a,nW:()=>s});var o=n(2484);function i(e){const t=new Date(e),n=t.getDate(),o=d(n);return`${r(t)} ${n}${o}, ${a(t)}`}function r(e){return new Intl.DateTimeFormat("en-GB",{month:"long"}).format(e)}function a(e){return new Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit"}).format(e)}function s(e,t){const n=t-e,i=Math.floor(n/o.Hd),r=Math.floor(n/o.pj%60);let a="";1===r?a=", 1 minute":r>1&&(a=`, ${r} minutes`);return(1===i?"1 hour":`${i} hours`)+a}function d(e){return e%10==1?"st":e%10==2?"nd":e%10==3?"rd":"th"}},9423:(e,t,n)=>{function o(e,t=null){const n=document.createElement("div");return e&&(n.className=e),t&&(n.id=t),n}function i(e,t){const n=document.createElement("p");return e&&(n.className=e),n.appendChild(document.createTextNode(t)),n}function r(e,t){const n=document.createElement("span");return e&&(n.className=e),n.appendChild(document.createTextNode(t)),n}function a(e,t){const n=document.createElement("button");return e&&(n.className=e),t&&n.appendChild(document.createTextNode(t)),n.setAttribute("type","button"),n}function s(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("width",`${e}`),n.setAttribute("height",`${t}`),n.setAttribute("viewBox",`0 0 ${e} ${t}`),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n}n.d(t,{FJ:()=>s,Pp:()=>a,Ux:()=>o,no:()=>r,vw:()=>i})},2222:(e,t,n)=>{function o(e,t,n=2e3){(""===e.trim()||n&&n<=0)&&(n=2e3);const o=document.querySelector("#popup");o&&o.remove();const i=function(e){const t=document.createElement("div");return t.id="popup",t.className=e,t}(t);i.appendChild(function(e){const t=document.createElement("span");return t.appendChild(document.createTextNode(e)),t}(e)),document.body.appendChild(i),requestAnimationFrame((()=>{requestAnimationFrame((()=>{i.classList.add("in-view")}))})),setTimeout((()=>{i.classList.remove("in-view"),setTimeout((()=>i.remove()),150)}),n||2e3)}n.d(t,{A:()=>o})},9103:(e,t,n)=>{n.d(t,{C:()=>d});var o=n(7536),i=n(1889),r=n(3415),a=n(7107),s=n(2222);async function d(){a.A.display();try{return await(0,i.X)(),l(),document.dispatchEvent(new CustomEvent("signedOut")),(0,s.A)("Signed out.","success"),void a.A.remove()}catch(e){if(console.log(e),a.A.remove(),!o.A.isAxiosError(e))return void(0,s.A)("Something went wrong.","error");const t=e;if(!t.status)return void(0,s.A)("Something went wrong.","error");return 409===t.status?((0,s.A)("Not signed in.","error"),document.dispatchEvent(new CustomEvent("signedOut")),void l()):void(0,s.A)("Something went wrong.","error")}}function l(){r.A.remove("signedInAs"),r.A.remove("guestHangoutId")}},442:(e,t,n)=>{function o(){!function(){setTimeout((()=>{var e;null===(e=document.querySelector("#transition-pause"))||void 0===e||e.remove()}),100);const e=localStorage.getItem("darkTheme");if(!e||!JSON.parse(e))return document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),void a("light");document.documentElement.classList.add("dark"),a("dark")}();const e=document.querySelector("#theme-switcher");null==e||e.addEventListener("click",r),null==e||e.addEventListener("keyup",i),setTimeout((()=>document.documentElement.classList.remove("loading")),0)}function i(e){"Enter"===e.key&&r()}function r(){const e=localStorage.getItem("darkTheme");if(!(e?JSON.parse(e):null))return document.documentElement.classList.add("dark"),localStorage.setItem("darkTheme",JSON.stringify(!0)),void a("dark");document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),a("light")}function a(e){const t=document.querySelector("#theme-switcher");"dark"!==e?null==t||t.classList.remove("dark-theme"):null==t||t.classList.add("dark-theme")}n.d(t,{A:()=>o})},5689:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(442),i=n(9103),r=n(3415),a=n(5483),s=n(7107);const d=document.querySelector(".top-nav"),l=document.querySelector("#account-nav-container-btn");function c(){(0,o.A)(),p(),null==l||l.addEventListener("click",m),null==d||d.addEventListener("click",u),document.addEventListener("signedOut",p)}function u(e){e.target instanceof HTMLElement&&e.target.classList.contains("sign-out-btn")&&(e.preventDefault(),a.u.display({title:"Are you sure you want to sign out of your account?",description:null,confirmBtnTitle:"Sign out",cancelBtnTitle:"Cancel",extraBtnTitle:null,isDangerousAction:!0}).addEventListener("click",(async e=>{if(e.target instanceof HTMLElement)return"confirm-modal-confirm-btn"===e.target.id?(a.u.remove(),await(0,i.C)(),s.A.display(),void setTimeout((()=>window.location.reload()),1e3)):void("confirm-modal-cancel-btn"===e.target.id&&a.u.remove())})))}function m(){const e=document.querySelector("#account-nav-container-links");if(null==e?void 0:e.classList.contains("expanded"))return null==l||l.classList.remove("expanded"),setTimeout((()=>e.classList.remove("expanded")),150),void requestAnimationFrame((()=>{requestAnimationFrame((()=>{e.style.opacity="0"}))}));null==l||l.classList.add("expanded"),null==e||e.classList.add("expanded"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{e&&(e.style.opacity="1")}))}))}function p(){const e=r.A.get("signedInAs");e?"guest"!==e?null==d||d.classList.add("account-user"):null==d||d.classList.add("guest-user"):null==d||d.classList.remove("guest-user","account-user")}},4153:(e,t,n)=>{n.d(t,{Bn:()=>l,C_:()=>a,G4:()=>d,JL:()=>s,Oj:()=>r,sg:()=>u,xf:()=>c,yz:()=>i});var o=n(7130);function i(e){const t=e.value;if(""===t)return o.A.display(e,"A valid password is required."),!1;if(t.includes(" "))return o.A.display(e,"Password must not contain whitespace."),!1;if(t.length<8)return o.A.display(e,"Password must contain at least 8 characters."),!1;if(t.length>40)return o.A.display(e,"Password must not exceed 40 characters."),!1;return/^[A-Za-z0-9._]{8,40}$/.test(t)?(o.A.hide(e),!0):(o.A.display(e,"Only English alphanumerical characters, dots, and underscores are allowed."),!1)}function r(e){const t=e.value;return""===t?(o.A.display(e,"A valid password is required"),!1):t.includes(" ")?(o.A.display(e,"Password must not contain whitespace."),!1):t.length>40?(o.A.display(e,"Password can not be longer than 40 characters."),!1):(o.A.hide(e),!0)}function a(e,t){return""===e.value.trim()?(o.A.display(e,"Password confirmation is required."),!1):e.value!==t.value?(o.A.display(e,"Passwords don't match."),!1):(o.A.hide(e),!0)}function s(e){const t=e.value;if(""===t)return o.A.display(e,"A valid username is required."),!1;if(t.includes(" "))return o.A.display(e,"Username must not contain whitespace."),!1;if(t.length<5)return o.A.display(e,"Username must be at least 5 characters long."),!1;if(t.length>25)return o.A.display(e,"Username must not exceed 25 characters."),!1;return/^[A-Za-z0-9_.]{5,25}$/.test(t)?(o.A.hide(e),!0):(o.A.display(e,"Only English alphanumerical characters, dots, and underscores are allowed."),!1)}function d(e){const t=e.value;if(""===t)return o.A.display(e,"A valid display name is required."),!1;if(t.trim()!==t)return o.A.display(e,"Whitespace must not exist at either ends of the display name."),!1;if(t.length>25)return o.A.display(e,"Display name must not exceed 25 characters."),!1;const n=t.split(" ").filter((e=>""!==e)).join(" ");if(t!==n)return o.A.display(e,"Only one whitespace is allowed between words."),!1;return/^[A-Za-z ]{1,25}$/.test(t)?(o.A.hide(e),!0):(o.A.display(e,"Only English letters and a single space between words are allowed."),!1)}function l(e){const t=e.value;if(""===t)return o.A.display(e,"A valid suggestion title is required."),!1;if(t.trim()!==t)return o.A.display(e,"Whitespace must not exist at either ends of the display name."),!1;if(t.length<3)return o.A.display(e,"Title must be at least 3 characters long."),!1;if(t.length>40)return o.A.display(e,"Title must not exceed 40 characters."),!1;const n=t.split(" ").filter((e=>""!==e)).join(" ");if(t!==n)return o.A.display(e,"Only one whitespace is allowed between words."),!1;return/^[-A-Za-z0-9 ()!?.]{3,40}$/.test(t)?(o.A.hide(e),!0):(o.A.display(e,"Only letters, numbers, whitespace, and the following symbols are allowed: ()!?."),!1)}function c(e){const t=e.value;if(""===t)return o.A.display(e,"A suggestion description is required."),!1;if(t.length<10)return o.A.display(e,"Description must be at least 10 characters long."),!1;if(t.length>500)return o.A.display(e,"Description must not exceed 500 characters."),!1;if(t.trim()!==t)return o.A.display(e,"Description must not start or end with whitespace or line breaks."),!1;return/^[ -~\r\n]{10,500}$/.test(t)?(o.A.hide(e),!0):(o.A.display(e,"Only English letters, numbers, and common symbols are allowed."),!1)}function u(e){if(46!==e.length)return!1;if(!e.startsWith("h"))return!1;if("_"!==e[32])return!1;if(13!==e.substring(33).length||!function(e){const t=13;if(!Number.isInteger(e))return!1;if(e.toString().length!==t)return!1;if(e<0)return!1;return!0}(+e.substring(33)))return!1;return/^[A-Za-z0-9_]{46,}$/.test(e)}},2185:(e,t,n)=>{n.d(t,{S:()=>s,o:()=>a});var o=n(9423),i=n(2079),r=n(974);function a(){if(!i.F.data)return null;const{created_on_timestamp:e,availability_period:t,suggestions_period:n,voting_period:o}=i.F.data.hangoutDetails;return e+t+n+o}function s(e){const t=(0,o.Ux)("slot");return t.setAttribute("data-slotId",`${e.availability_slot_id}`),t.appendChild(d("Start",(0,r.CA)(e.slot_start_timestamp),"slot-start")),t.appendChild(d("End",(0,r.CA)(e.slot_end_timestamp),"slot-end")),t.appendChild(d("Total",(0,r.nW)(e.slot_start_timestamp,e.slot_end_timestamp),"slot-total")),t.appendChild(function(){const e=(0,o.Ux)("slot-btn-container"),t=(0,o.Pp)("delete-btn",null);t.setAttribute("title","Delete slot"),t.setAttribute("aria-label","Delete availability slot");const n=(0,o.FJ)(540,540),i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("fill-rule","evenodd"),i.setAttribute("clip-rule","evenodd"),i.setAttribute("d","M201 22C188.85 22 179 31.8497 179 44V47H75C61.1929 47 50 58.1929 50 72C50 85.8071 61.1929 97 75 97H465C478.807 97 490 85.8071 490 72C490 58.1929 478.807 47 465 47H362.333V44C362.333 31.8497 352.484 22 340.333 22H201ZM80 117L98.1421 477.113C99.2678 499.459 117.714 517 140.089 517H399.911C422.286 517 440.732 499.46 441.858 477.113L460 117H80ZM178 187C165.297 187 155 197.297 155 210V424C155 436.703 165.297 447 178 447C190.703 447 201 436.703 201 424V210C201 197.297 190.703 187 178 187ZM247 210C247 197.297 257.297 187 270 187C282.703 187 293 197.297 293 210V424C293 436.703 282.703 447 270 447C257.297 447 247 436.703 247 424V210ZM362 187C349.297 187 339 197.297 339 210V424C339 436.703 349.297 447 362 447C374.703 447 385 436.703 385 424V210C385 197.297 374.703 187 362 187Z"),n.appendChild(i),t.appendChild(n);const r=(0,o.Pp)("edit-btn",null);r.setAttribute("title","Edit slot"),r.setAttribute("aria-label","Edit availability slot");const a=(0,o.FJ)(640,640),s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d","M266.547 152.906C266.547 142.413 258.04 133.906 247.547 133.906H135C75.3533 133.906 27 182.259 27 241.906V505C27 564.647 75.3533 613 135 613H398.094C457.741 613 506.094 564.647 506.094 505V392.453C506.094 381.96 497.587 373.453 487.094 373.453H445.094C434.601 373.453 426.094 381.96 426.094 392.453V505C426.094 520.464 413.558 533 398.094 533H135C119.536 533 107 520.464 107 505V241.906C107 226.442 119.536 213.906 135 213.906H247.547C258.04 213.906 266.547 205.399 266.547 194.906V152.906Z");const d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d","M242.834 291.217L424.82 109.23L530.3 214.71L348.313 396.696C345.447 399.562 341.902 401.656 338.009 402.782L237.376 431.875C219.223 437.124 202.406 420.307 207.655 402.154L236.748 301.521C237.874 297.628 239.968 294.083 242.834 291.217Z");const l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("d","M472.203 62.8635L438.542 96.525L544.099 202.083L577.761 168.421C597.287 148.895 597.287 117.237 577.761 97.7107L542.914 62.8635C523.387 43.3373 491.729 43.3373 472.203 62.8635Z"),a.appendChild(s),a.appendChild(d),a.appendChild(l),r.appendChild(a),e.appendChild(t),e.appendChild(r),e}()),t}function d(e,t,n){const i=(0,o.Ux)(`slot-info ${n}`);return i.appendChild((0,o.no)(null,e)),i.appendChild((0,o.no)(null,t)),i}},186:(e,t,n)=>{n.d(t,{Cq:()=>G,J8:()=>J,Wf:()=>z});var o=n(7536),i=n(4803),r=n(2484),a=n(5483),s=n(9423),d=n(1093),l=n(7107),c=n(2222);o.A.defaults.withCredentials=!0;const u="localhost"===window.location.hostname?`http://${window.location.hostname}:5000/api/availabilitySlots`:`https://${window.location.hostname}/api/availabilitySlots`;var m=n(7902),p=n(2079),g=n(974),f=n(2185);let h={hasBeenInitiated:!1,data:null};const v=document.querySelector("#availability-previewer"),A=document.querySelector("#availability-previewer-slots"),y=document.querySelector("#availability-previewer-header"),b=document.querySelector("#availability-previewer-header-title"),w=document.querySelector("#availability-previewer-backwards-btn"),S=document.querySelector("#availability-previewer-forwards-btn"),E=document.querySelector("#availability-previewer-add-btn"),C=document.querySelector("#availability-previewer-close-btn");function T(e){if(!v)return;const t=!1===h.hasBeenInitiated;h.hasBeenInitiated=!0,h.data={selectedDateTimestamp:e,previousDateTimestamp:_(e),nextDateTimestamp:x(e)},L(e),v.style.display="flex",requestAnimationFrame((()=>{requestAnimationFrame((()=>{v.classList.add("revealed")}))})),t&&(null==y||y.addEventListener("click",I),null==C||C.addEventListener("click",q),null==E||E.addEventListener("click",(()=>{h.data&&p.F.data&&(p.F.data.availabilitySlotsCount>=r.vJ?(q(),d.W.display({title:`Availability slot limit of ${r.vJ} has been reached.`,description:"Delete or edit one of your existing slots.",btnTitle:"Okay"}).addEventListener("click",(e=>{e.target instanceof HTMLElement&&"info-modal-btn"===e.target.id&&d.W.remove()}))):((0,m.vK)(h.data.selectedDateTimestamp),q()))})))}function L(e){var t;A&&(null===(t=A.firstElementChild)||void 0===t||t.remove(),A.appendChild(function(e){const t=(0,s.Ux)(null,"availability-previewer-slots-container");if(!p.F.data||0===J.availabilitySlots.length)return t.classList.add("empty"),t;const n=new Map,o=p.F.data.hangoutMembers;for(const e of o)n.set(e.hangout_member_id,{display_name:e.display_name,slots:[]});for(const t of J.availabilitySlots){const o=n.get(t.hangout_member_id);o&&(t.slot_start_timestamp<e||t.slot_start_timestamp-e>=r.x7||o.slots.push(t))}for(const e of n.values())0!==e.slots.length&&t.appendChild(k(e));t.firstElementChild||t.classList.add("empty");return t}(e)),M(e),D())}function _(e){const t=new Date(e).getDate();for(let n=J.availabilitySlots.length-1;n>=0;n--){const o=J.availabilitySlots[n];if(o.slot_start_timestamp>=e)continue;const i=new Date(o.slot_start_timestamp);if(!(i.getDate()===t&&Math.abs(o.slot_start_timestamp-e)<r.Hd))return i.setHours(0),i.setMinutes(0),i.getTime()}return null}function x(e){const t=new Date(e).getDate();for(let n=0;n<J.availabilitySlots.length;n++){const o=J.availabilitySlots[n];if(o.slot_start_timestamp<=e)continue;const i=new Date(o.slot_start_timestamp);if(!(i.getDate()===t&&Math.abs(o.slot_start_timestamp-e)<r.x7))return i.setHours(0),i.setMinutes(0),i.getTime()}return null}function k(e){const t=(0,s.Ux)("member");return t.setAttribute("data-member-id",`${e.slots[0].hangout_member_id}`),t.appendChild((0,s.vw)("member-name",e.display_name)),t.appendChild(function(e){const t=document.createElement("ul");t.className="member-slots";for(const n of e)t.appendChild(F(n.slot_start_timestamp,n.slot_end_timestamp));return t}(e.slots)),t}function F(e,t){const n=document.createElement("li");n.className="slot";const o=new Date(e),i=new Date(t),r=(0,g.WB)(o);let a=(0,g.WB)(i);return o.getDate()<i.getDate()&&(a+=" (next day)"),n.appendChild(document.createTextNode(`${r} - ${a}`)),n}function M(e){if(!b)return;const t=new Date(e),n=t.getFullYear(),o=(0,g.Ge)(t),i=t.getDate();b.textContent=`${o} ${i}, ${n}`}function D(){if(!h.data)return;if(!w||!S)return;const{previousDateTimestamp:e,nextDateTimestamp:t}=h.data;e?w.classList.remove("disabled"):w.classList.add("disabled"),t?S.classList.remove("disabled"):S.classList.add("disabled")}function I(e){e.target instanceof HTMLButtonElement&&(e.target.id.includes("backwards")?function(){if(!h.data)return;const{previousDateTimestamp:e,selectedDateTimestamp:t}=h.data;if(!e)return;const n=_(e);h.data.nextDateTimestamp=t,h.data.selectedDateTimestamp=e,h.data.previousDateTimestamp=n,L(h.data.selectedDateTimestamp),M(h.data.selectedDateTimestamp),D()}():e.target.id.includes("forwards")&&function(){if(!h.data)return;const{nextDateTimestamp:e,selectedDateTimestamp:t}=h.data;if(!e)return;const n=x(e);h.data.previousDateTimestamp=t,h.data.selectedDateTimestamp=e,h.data.nextDateTimestamp=n,L(h.data.selectedDateTimestamp),M(h.data.selectedDateTimestamp),D()}())}function q(){v&&(v.classList.remove("revealed"),setTimeout((()=>{v.style.display="none"}),150))}let O={hasBeenInitiated:!1,data:null};const R=document.querySelector("#availability-calendar-dates"),N=document.querySelector("#availability-calendar-header");function P(){var e;if(!O.data)return;const{currentMonth:t,currentYear:n}=O.data,o=new Date(n,t,1),i=o.getDay(),r=(0,m.MX)(n,t),a=new Intl.DateTimeFormat("en-GB",{month:"long"}).format(o),d=document.querySelector("#availability-calendar-title");if(d&&(d.textContent=`${a} ${n}`),!R)return O={hasBeenInitiated:!1,data:null},void(0,c.A)("Something went wrong.","error");const l=(0,s.Ux)(null,"availability-calendar-dates-container");(0,m.$4)(l,i),function(e,t){if(!O.data)return;const{currentMonth:n,initialMonth:o,initialYear:i,conclusionDate:r}=O.data,a=new Date(i,o+6).getMonth()===n,s=a?new Date(i,o+6,r).getDate():null,d=n===o;for(let n=1;n<=t;n++)s&&n>s||d&&n<r?e.appendChild((0,m.pJ)(n,!0)):e.appendChild((0,m.pJ)(n))}(l,r),null===(e=R.firstElementChild)||void 0===e||e.remove(),R.appendChild(l),function(){if(0===J.availabilitySlots.length)return;if(!O.data)return;const{currentYear:e,currentMonth:t}=O.data,n=new Date(e,t,1).getTime(),o=new Date(e,t,(0,m.MX)(e,t),23,59).getTime(),i=[],r=new Map;for(const e of J.availabilitySlots){if(e.slot_start_timestamp<n||e.slot_start_timestamp>o)continue;const t=new Date(e.slot_start_timestamp).getDate();if(i.some((n=>n.memberId===e.hangout_member_id&&n.date===t)))continue;i.push({memberId:e.hangout_member_id,date:t});const a=r.get(t);r.set(t,a?a+1:1)}if(!p.F.data)return;const{hangoutMemberId:a,hangoutMembers:s}=p.F.data,d=document.querySelectorAll("button.date-cell");for(const e of d){const t=e.getAttribute("data-value");if(!t)continue;const n=r.get(+t);if(!n)continue;const o=n/s.length;let d="";d=o<.3?"low-availability":o>=.3&&o<=.6?"medium-availability":"high-availability",e.classList.add(d),i.some((e=>e.memberId===a))&&e.classList.add("self-availability")}}()}function $(e){e.target instanceof HTMLElement&&("availability-calendar-backwards-btn"!==e.target.id?"availability-calendar-forwards-btn"===e.target.id&&function(){if(!O.data)return;const{currentMonth:e,currentYear:t,initialMonth:n,initialYear:o,conclusionDate:i}=O.data,a=new Date(t,e,i).getTime(),s=new Date(o,n+6,i).getTime();if(a>=s)return;if(11===e)return O.data.currentMonth=0,O.data.currentYear=t+1,a+30*r.x7>=s&&B("forwards"),j("backwards"),void P();O.data.currentMonth=e+1,a+31*r.x7>=s&&B("forwards"),j("backwards"),P()}():function(){if(!O.data)return;const{currentMonth:e,currentYear:t,initialMonth:n}=O.data;if(e===n)return;if(0===e)return O.data.currentMonth=11,O.data.currentYear=t-1,11===n&&B("backwards"),j("forwards"),void P();O.data.currentMonth=e-1,e-1===n&&B("backwards"),j("forwards"),P()}())}function B(e){const t=document.querySelector(`#availability-calendar-${e}-btn`);t&&t.classList.add("disabled")}function j(e){const t=document.querySelector(`#availability-calendar-${e}-btn`);t&&t.classList.remove("disabled")}function H(e){if(!(e.target instanceof HTMLButtonElement))return;const t=e.target.getAttribute("data-value");if(!t)return;const n=+t;if(!Number.isInteger(n))return;if(!O.data)return;const{currentYear:o,currentMonth:i}=O.data;T(new Date(o,i,n).getTime())}var U=n(1340);const J={isLoaded:!1,availabilitySlots:[]},W=document.querySelector("#add-availability-btn"),Y=document.querySelector("#availability-slots-container"),V=document.querySelector("#clear-availability-slots-btn");function G(){document.addEventListener("loadSection-availability",z),null==Y||Y.addEventListener("click",K),null==W||W.addEventListener("click",(()=>{if(!p.F.data)return void(0,c.A)("Something went wrong.","error");const{hangoutDetails:e,availabilitySlotsCount:t}=p.F.data;e.is_concluded?(0,c.A)("Hangout has already been concluded.","error"):t>=r.vJ?(0,c.A)(`Availability slot limit of ${r.vJ} already reached.`,"error"):(0,m.YU)("availabilitySlot")})),null==V||V.addEventListener("click",(()=>{a.u.display({title:"Are you sure you want to clear all your availability slots?",description:null,confirmBtnTitle:"Clear all slots",cancelBtnTitle:"Cancel",extraBtnTitle:null,isDangerousAction:!0}).addEventListener("click",(async e=>{if(e.target instanceof HTMLElement)return"confirm-modal-confirm-btn"===e.target.id?(a.u.remove(),void await async function(){if(l.A.display(),!p.F.data)return(0,c.A)("Something went wrong.","error"),void l.A.remove();const{hangoutId:e,hangoutMemberId:t}=p.F.data,n={hangoutId:e,hangoutMemberId:t};try{await async function(e){const{hangoutId:t,hangoutMemberId:n}=e,i=`${u}/clear?hangoutId=${t}&hangoutMemberId=${n}`;return o.A.delete(i)}(n),p.F.data.availabilitySlotsCount=0,J.availabilitySlots.length=0,(0,c.A)("Availability slots cleared.","success"),l.A.remove(),Z()}catch(e){if(console.log(e),l.A.remove(),!o.A.isAxiosError(e))return void(0,c.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,c.A)("Something went wrong.","error");const n=t.status,a=t.response.data.message,s=t.response.data.reason;if(400===n)return void(0,c.A)("Something went wrong.","error");if((0,c.A)(a,"error"),403===n)return p.F.data.hangoutDetails.current_stage=r.wi,void(0,U.Ew)();if(404===n)return"hangoutNotFound"===s?void setTimeout((()=>window.location.reload()),1e3):void("noSlotsFound"===s&&(J.availabilitySlots.length=0,p.F.data.availabilitySlotsCount=10,Z(),(0,U.Ew)()));if(401===n){if("authSessionExpired"===s)return void(0,i.g)();"authSessionDestroyed"===s&&(0,i.E)()}}}()):void("confirm-modal-cancel-btn"===e.target.id&&a.u.remove())}))})),document.addEventListener("dateTimePicker-selection",(async e=>{if(!(0,m.yf)(e)||"availabilitySlot"!==e.detail.purpose)return;const t=e.detail;t.existingSlotId?await async function(e){if(!p.F.data||!e.existingSlotId)return(0,c.A)("Something went wrong.","error"),void l.A.remove();const{hangoutId:t,hangoutMemberId:n,hangoutDetails:a}=p.F.data;if(a.is_concluded)return(0,c.A)("Hangout has already been concluded.","success"),l.A.remove(),void(0,m.ik)();const s={hangoutId:t,hangoutMemberId:n,availabilitySlotId:e.existingSlotId,slotStartTimestamp:e.startTimestamp,slotEndTimestamp:e.endTimestamp};try{await async function(e){return o.A.patch(u,e)}(s);const t=J.availabilitySlots.find((t=>t.availability_slot_id===e.existingSlotId));t&&(t.slot_start_timestamp=e.startTimestamp,t.slot_end_timestamp=e.endTimestamp),J.availabilitySlots.sort(((e,t)=>e.slot_start_timestamp-t.slot_start_timestamp)),(0,c.A)("Availability slot updated.","success"),l.A.remove(),(0,m.ik)(),Z()}catch(t){if(console.log(t),l.A.remove(),!o.A.isAxiosError(t))return void(0,c.A)("Something went wrong.","error");const n=t;if(!n.status||!n.response)return void(0,c.A)("Something went wrong.","error");const a=n.status,s=n.response.data.message,d=n.response.data.reason,u=n.response.data.resData;if(400===a)return"invalidSlot"===d?void(0,c.A)(s,"error"):void(0,c.A)("Something went wrong.","error");if((0,c.A)(s,"error"),409===a)return"slotOverlap"===d?void X(u):void("invalidStart"!==d&&"slotIdentical"!==d||(0,m.gJ)(s,"start"));if(403===a)return p.F.data.hangoutDetails.current_stage,r.wi,(0,U.Ew)(),void(0,m.ik)();if(404===a)return"hangoutNotFound"===d?void setTimeout((()=>window.location.reload()),1e3):void("slotNotFound"===d&&(J.availabilitySlots=J.availabilitySlots.filter((t=>t.availability_slot_id!==e.existingSlotId)),p.F.data.availabilitySlotsCount--,Z(),(0,U.Ew)()));if(401===a){if("authSessionExpired"===d)return void(0,i.g)();"authSessionDestroyed"===d&&(0,i.E)()}}}(t):await async function(e){if(l.A.display(),!p.F.data)return(0,c.A)("Something went wrong.","error"),void l.A.remove();const{hangoutId:t,hangoutMemberId:n}=p.F.data,{startTimestamp:a,endTimestamp:s}=e,f={slotStartTimestamp:a,slotEndTimestamp:s},h=function(e,t){if(0===e.length)return null;for(const n of e){if(n.slot_start_timestamp>=t.slotStartTimestamp&&n.slot_start_timestamp<=t.slotEndTimestamp)return n;if(n.slot_end_timestamp>=t.slotStartTimestamp&&n.slot_end_timestamp<=t.slotEndTimestamp)return n;if(n.slot_start_timestamp<=t.slotStartTimestamp&&n.slot_end_timestamp>=t.slotEndTimestamp)return n}return null}(J.availabilitySlots,f);if(h){const e=(0,g.CA)(h.slot_start_timestamp),t=(0,g.CA)(h.slot_end_timestamp);return d.W.display({title:"Overlap detected.",description:`New availability slot overlaps with the following slot:\n${e} - ${t}.`,btnTitle:"Okay"},{simple:!0}),l.A.remove(),void(0,m.gJ)("Slot overlap detected.")}const v={hangoutId:t,hangoutMemberId:n,slotStartTimestamp:a,slotEndTimestamp:s};try{const e={availability_slot_id:(await async function(e){return o.A.post(u,e)}(v)).data.availabilitySlotId,hangout_member_id:n,slot_start_timestamp:a,slot_end_timestamp:s};J.availabilitySlots.push(e),J.availabilitySlots.sort(((e,t)=>e.slot_start_timestamp-t.slot_start_timestamp)),p.F.data.availabilitySlotsCount++,Z(),(0,m.ik)(),(0,c.A)("Availability slot added.","success"),l.A.remove()}catch(e){if(console.log(e),l.A.remove(),!o.A.isAxiosError(e))return void(0,c.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,c.A)("Something went wrong.","error");const n=t.status,a=t.response.data.message,s=t.response.data.reason,d=t.response.data.resData;if(400===n)return"invalidSlot"===s?((0,m.gJ)(a,"start"),void(0,m.gJ)(a,"end")):void(0,c.A)("Something went wrong.","error");if((0,c.A)(a,"error"),401===n)return"authSessionExpired"===s?void(0,i.g)():void("authSessionDestroyed"===s&&(0,i.E)());if(403===n)return p.F.data.hangoutDetails.current_stage=r.wi,(0,U.Ew)(),void(0,m.ik)();if(409===n)return"slotOverlap"===s?void X(d):"invalidStart"===s?void(0,m.gJ)(a,"start"):void("slotLimitReached"===s&&(p.F.data.availabilitySlotsCount=r.vJ,(0,U.Ew)(),(0,m.ik)()));404===n&&(l.A.display(),setTimeout((()=>window.location.reload()),1e3))}}(t)}))}async function z(){J.isLoaded?Z():p.F.data?(l.A.display(),await async function(){if(J.isLoaded)return;if(!p.F.data)return void(0,c.A)("Failed to load availability slots.","error");try{const{hangoutId:e,hangoutMemberId:t}=p.F.data,n=(await async function(e,t){return o.A.get(`${u}?hangoutId=${e}&hangoutMemberId=${t}`)}(e,t)).data.availabilitySlots;J.availabilitySlots=n,J.isLoaded=!0}catch(e){if(console.log(e),!o.A.isAxiosError(e))return void(0,c.A)("Failed to load availability slots.","error");const t=e;if(!t.status||!t.response)return void(0,c.A)("Failed to load availability slots.","error");const n=t.status,r=t.response.data.message,a=t.response.data.reason;if(400===n)return void(0,c.A)("Failed to load availability slots.","error");if((0,c.A)(r,"error"),401===n){if("authSessionExpired"===a)return void(0,i.g)();"notHangoutMember"===a&&(l.A.display(),setTimeout((()=>window.location.reload()),1e3))}}}(),function(){if(O.hasBeenInitiated)return;const e=(0,f.o)();if(!e)return void(0,c.A)("Something went wrong.","error");const t=new Date(e);O={hasBeenInitiated:!0,data:{conclusionTimestamp:e,conclusionDate:t.getDate(),initialMonth:t.getMonth(),initialYear:t.getFullYear(),currentMonth:t.getMonth(),currentYear:t.getFullYear()}},P(),null==N||N.addEventListener("click",$),null==R||R.addEventListener("click",H)}(),Z(),l.A.remove()):(0,c.A)("Failed to load availability slots.","error")}function Z(){!function(){var e;const t=document.querySelector("#availability-slots");if(!t||!Y)return void(0,c.A)("Failed to load your availability slots.","error");if(0===J.availabilitySlots.length)return void t.classList.add("hidden");const n=(0,s.Ux)(null);for(const e of J.availabilitySlots)n.appendChild((0,f.S)(e));null===(e=Y.firstElementChild)||void 0===e||e.remove(),Y.appendChild(n),t.classList.remove("hidden")}(),function(){if(!p.F.data)return;const e=p.F.data.availabilitySlotsCount,t=r.vJ-e,n=document.querySelector("#availability-section-slots-remaining");n&&(n.textContent=`${t}`)}(),P()}async function K(e){if(!(e.target instanceof HTMLElement))return;const t=function(e){if(!(e.target instanceof HTMLElement))return null;if("BUTTON"!==e.target.nodeName)return null;const t=e.target.closest(".slot");if(!(t instanceof HTMLDivElement))return null;const n=t.getAttribute("data-slotId");if(!n)return null;const o=+n;if(!Number.isInteger(o))return null;return o}(e);t&&(e.target.classList.contains("edit-btn")?(0,m.YU)("availabilitySlot",t):e.target.classList.contains("delete-btn")&&await async function(e){if(l.A.display(),!p.F.data)return(0,c.A)("Something went wrong.","error"),void l.A.remove();const{hangoutId:t,hangoutMemberId:n}=p.F.data,a={hangoutId:t,hangoutMemberId:n,availabilitySlotId:e};try{await async function(e){const{hangoutId:t,hangoutMemberId:n,availabilitySlotId:i}=e,r=`${u}?hangoutId=${t}&hangoutMemberId=${n}&availabilitySlotId=${i}`;return o.A.delete(r)}(a),J.availabilitySlots=J.availabilitySlots.filter((t=>t.availability_slot_id!==e)),(0,c.A)("Availability slot deleted.","success"),l.A.remove(),Z()}catch(t){if(console.log(t),l.A.remove(),!o.A.isAxiosError(t))return void(0,c.A)("Something went wrong.","error");const n=t;if(!n.status||!n.response)return void(0,c.A)("Something went wrong.","error");const a=n.status,s=n.response.data.message,d=n.response.data.reason;if(400===a)return void(0,c.A)("Something went wrong.","error");if((0,c.A)(s,"error"),403===a)return p.F.data.hangoutDetails.current_stage=r.wi,void(0,U.Ew)();if(404===a)return"hangoutNotFound"===d?void setTimeout((()=>window.location.reload()),1e3):void("slotNotFound"===d&&(J.availabilitySlots=J.availabilitySlots.filter((t=>t.availability_slot_id!==e)),p.F.data.availabilitySlotsCount--,Z(),(0,U.Ew)()));if(401===a){if("authSessionExpired"===d)return void(0,i.g)();"authSessionDestroyed"===d&&(0,i.E)()}}}(t))}function X(e){if("object"!=typeof e||null===e)return;if(!("overlappedSlotId"in e)||"number"!=typeof e.overlappedSlotId)return;const t=e.overlappedSlotId;if(!Number.isInteger(t))return;const n=J.availabilitySlots.find((e=>e.availability_slot_id===t));if(!n)return;const o=(0,g.CA)(n.slot_start_timestamp),i=(0,g.CA)(n.slot_end_timestamp);d.W.display({title:"Overlap detected.",description:`New availability slot overlaps with the following slot:\n${o} - ${i}.`,btnTitle:"Okay"},{simple:!0}),(0,m.gJ)("Slot overlap detected.")}},1340:(e,t,n)=>{n.d(t,{N3:()=>ee,PT:()=>Q,M_:()=>X,Ew:()=>te});var o=n(7536),i=n(3415),r=n(4803),a=n(2484),s=n(2222),d=n(4153);o.A.defaults.withCredentials=!0;const l="localhost"===window.location.hostname?`http://${window.location.hostname}:5000/api/hangouts`:`https://${window.location.hostname}/api/hangouts`;var c=n(2079),u=n(1384),m=n(5483);var p=n(7130),g=n(1093),f=n(7107);o.A.defaults.withCredentials=!0;const h="localhost"===window.location.hostname?`http://${window.location.hostname}:5000/api/hangoutMembers`:`https://${window.location.hostname}/api/hangoutMembers`;var v=n(9423),A=n(974);function y(e){const t=e.previousElementSibling;if(null==e?void 0:e.classList.contains("revealed"))return e.classList.remove("revealed"),void(null==t||t.setAttribute("type","password"));null==e||e.classList.add("revealed"),null==t||t.setAttribute("type","text")}const b=document.querySelector("#guest-sign-up-form"),w=document.querySelector("#hangout-password-input"),S=document.querySelector("#display-name-input"),E=document.querySelector("#username-input"),C=document.querySelector("#guest-password-input"),T=document.querySelector("#confirm-guest-password-input"),L=document.querySelector("#hangout-password-input-reveal-btn"),_=document.querySelector("#guest-password-input-reveal-btn"),x=document.querySelector("#confirm-guest-password-input-reveal-btn"),k=document.querySelector("#keep-signed-in-btn");let F=null;function M(e,t){F={hangoutId:e,isPasswordProtected:t,keepSignedIn:!1},function(){const e=document.querySelector("#guest-sign-up-section"),t=document.querySelector("#hangout-loading-skeleton");null==e||e.classList.remove("hidden"),null==t||t.classList.add("hidden"),(null==F?void 0:F.isPasswordProtected)&&(null==b||b.classList.add("is-password-protected"))}(),null==w||w.addEventListener("input",(()=>(0,d.Oj)(w))),null==S||S.addEventListener("input",(()=>(0,d.G4)(S))),null==E||E.addEventListener("input",(()=>(0,d.JL)(E))),null==C||C.addEventListener("input",(()=>{(0,d.yz)(C),T&&(0,d.C_)(C,C)})),null==T||T.addEventListener("input",(()=>{C&&(0,d.C_)(T,C)})),null==L||L.addEventListener("click",(()=>y(L))),null==_||_.addEventListener("click",(()=>y(_))),null==x||x.addEventListener("click",(()=>y(x))),null==k||k.addEventListener("click",I),null==b||b.addEventListener("submit",D)}async function D(e){if(e.preventDefault(),f.A.display(),!F)return(0,s.A)("Something went wrong.","error"),void f.A.remove();if(!function(){if(!(w&&S&&E&&C&&T))return!1;if([!(null==F?void 0:F.isPasswordProtected)||(0,d.Oj)(w),(0,d.G4)(S),(0,d.JL)(E),(0,d.yz)(C)].includes(!1))return!1;if(E.value===C.value)return p.A.display(C,"Your password can't be identical to your username."),!1;return!0}())return(0,s.A)("Invalid sign up details.","error"),void f.A.remove();if(!(w&&S&&E&&C))return(0,s.A)("Invalid sign up details.","error"),void f.A.remove();const t={hangoutId:F.hangoutId,hangoutPassword:w.value,username:E.value,password:C.value,displayName:S.value};try{const e=(await async function(e){return o.A.post(`${h}/joinHangout/guest`,e)}(t)).data.authSessionCreated;if((0,s.A)("Successfully joined hangout.","success"),f.A.remove(),!e){i.A.set("pendingSignInHangoutId",F.hangoutId);return void g.W.display({title:"Successfully joined hangout.",description:"You just have to sign in before proceeding.",btnTitle:"Okay"}).addEventListener("click",(e=>{e.target instanceof HTMLElement&&"info-modal-btn"===e.target.id&&(window.location.href="sign-in")}))}!function(){const e=document.querySelector("#guest-sign-up-section"),t=document.querySelector("#hangout-loading-skeleton");null==e||e.classList.add("hidden"),null==t||t.classList.remove("hidden")}(),await ee()}catch(e){if(console.log(e),f.A.remove(),!o.A.isAxiosError(e))return void(0,s.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,s.A)("Something went wrong.","error");const n=t.status,i=t.response.data.message,r=t.response.data.reason;if((0,s.A)(i,"error"),403===n)return void O();if(404===n)return void R();if(401===n)return void p.A.display(w,i);if(409===n)return"hangoutFull"===r?void N():"usernameTaken"===r?void p.A.display(E,i):void("passwordEqualsUsername"===r&&p.A.display(C,i));if(400===n){const e={invalidHangoutPassword:w,invalidUsername:E,invalidUserPassword:C,usernamePasswordIdentical:C,invalidDisplayName:S}[`${r}`];e&&p.A.display(e,i)}}}function I(){F&&(F.keepSignedIn=!F.keepSignedIn,(null==k?void 0:k.classList.contains("checked"))?k.classList.remove("checked"):null==k||k.classList.add("checked"))}function q(){if("guest"===i.A.get("signedInAs"))return void function(){const e=i.A.get("guestHangoutId");if(!e||!(0,d.sg)(e))return void q();window.location.href=`${window.location.origin}/hangout?id=${e}`}();g.W.display({title:"Invalid hangout Link.",description:"The link you've entered doesn't contain a valid hangout ID.\nRequest a valid link from the hangout leader.",btnTitle:"Got to homepage"}).addEventListener("click",(e=>{e.target instanceof HTMLElement&&"info-modal-btn"===e.target.id&&(window.location.href="home")}))}function O(){g.W.display({title:"Hangout has already been concluded.",description:"You're too late to join this one, but you can always create a new one.",btnTitle:"Go to homepage"}).addEventListener("click",(e=>{e.target instanceof HTMLButtonElement&&"info-modal-btn"===e.target.id&&(window.location.href="home")}))}function R(){g.W.display({title:"Hangout not found.",description:"Reach out to the hangout leader to request a valid link.",btnTitle:"Go to homepage"}).addEventListener("click",(e=>{e.target instanceof HTMLElement&&"info-modal-btn"===e.target.id&&(window.location.href="home")}))}function N(){g.W.display({title:"Hangout is full.",description:"Reach out to the hangout leader to check if they can increase the member limit.",btnTitle:"Go to homepage"}).addEventListener("click",(e=>{e.target instanceof HTMLElement&&("info-modal-btn"!==e.target.id||(window.location.href="home"))}))}async function P(e){f.A.display();let t=!1;try{t=(await async function(e){return o.A.get(`${l}/details/hangoutExists?hangoutId=${e}`)}(e)).data.isPasswordProtected,f.A.remove()}catch(e){if(console.log(e),f.A.remove(),!o.A.isAxiosError(e))return void(0,s.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,s.A)("Something went wrong.","error");const n=t.status,i=t.response.data.message;return(0,s.A)(i,"error"),403===n?void O():404===n?void R():400===n?void q():void 0}m.u.display({title:"Not signed in.",description:"You must be signed in to proceed.",confirmBtnTitle:"Sign in",cancelBtnTitle:"Go to homepage",extraBtnTitle:"Join as a guest",isDangerousAction:!1}).addEventListener("click",(n=>{if(n.target instanceof HTMLElement)return"confirm-modal-confirm-btn"===n.target.id?(i.A.set("pendingSignInHangoutId",e),void(window.location.href="sign-in")):void("confirm-modal-cancel-btn"!==n.target.id?"confirm-modal-other-btn"===n.target.id&&(m.u.remove(),M(e,t)):window.location.href="home")}))}function $(e){return e<a.Cb||e>a.wi?"Failed to load":["Availability","Suggestions","Voting","Concluded"][e-1]}function B(){const e=document.querySelector("#dashboard-next-stage-time");if(!e)return;const t=setInterval((()=>j(e,t)),a.pj/2);j(e,t)}function j(e,t){if(!e)return void clearInterval(t);if(!c.F.data)return e.textContent="Failed to load",void clearInterval(t);const{current_stage:n,stage_control_timestamp:o,availability_period:i,suggestions_period:r,voting_period:s}=c.F.data.hangoutDetails;if(n===a.wi)return e.textContent="None",void clearInterval(t);const d=[i,r,s][n-1]-(Date.now()-o);if(d<a.pj)return e.textContent="Less than a minute",void clearInterval(t);const l=`${Math.floor(d/a.x7)}D:${Math.floor(d/a.Hd%24)}H:${Math.floor(d/a.pj%60)}M`;e.textContent=l}function H(e){var t;const n=(0,v.Pp)("member-item",null);return n.setAttribute("data-memberId",`${e.hangout_member_id}`),n.setAttribute("title","View member details"),n.setAttribute("aria-label","View member details"),n.appendChild((0,v.vw)("display-name",e.display_name)),e.hangout_member_id===(null===(t=c.F.data)||void 0===t?void 0:t.hangoutMemberId)&&n.classList.add("user"),e.is_leader&&(n.classList.add("leader"),n.appendChild(function(){const e=(0,v.Ux)("leader-icon");e.setAttribute("title","Hangout leader");const t=(0,v.FJ)(540,540),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d","M286.748 168.173C297.072 162.086 304 150.852 304 138C304 118.67 288.33 103 269 103C249.67 103 234 118.67 234 138C234 151.04 241.131 162.415 251.707 168.436L196.5 273.376C193.977 278.174 188.09 280.087 183.227 277.689L74.1836 223.909C76.623 219.135 78 213.728 78 208C78 188.67 62.3301 173 43 173C23.6699 173 8 188.67 8 208C8 227.33 23.6699 243 43 243C44.2012 243 45.3887 242.939 46.5586 242.821L64.8477 419.064C65.9062 429.256 74.4941 437 84.7402 437H453.854C464.1 437 472.688 429.256 473.746 419.064L492.039 242.778C493.34 242.925 494.66 243 496 243C515.33 243 531 227.33 531 208C531 188.67 515.33 173 496 173C476.67 173 461 188.67 461 208C461 213.664 462.346 219.015 464.734 223.748L355.367 277.689C350.504 280.087 344.617 278.174 342.094 273.376L286.748 168.173Z"),t.appendChild(n),e.appendChild(t),e}())),n}function U(e){var t;const n=(0,v.Ux)("message"),o=null===(t=c.F.data)||void 0===t?void 0:t.hangoutMembersMap.get(e.hangout_member_id);n.appendChild((0,v.no)("message-sent-by",o||"Former member"));const i=(0,v.Ux)("message-content");for(const t of e.message_content.split("\r\n\r\n"))i.appendChild((0,v.vw)(null,t));return n.appendChild(i),n.appendChild((0,v.no)("message-sent-on",(0,A.CA)(e.message_timestamp))),n}function J(e){const t=(0,v.Ux)("event-item");return t.appendChild((0,v.no)("created-on",(0,A.CA)(e.event_timestamp))),t.appendChild((0,v.vw)("description",e.event_description)),t}function W(){const e=function(){const e=(0,v.Ux)(null,"join-hangout-form-container");e.setAttribute("tabindex","0");const t=function(){const e=document.createElement("form");return e.id="join-hangout-form",e}();return t.addEventListener("submit",Y),t.appendChild((0,v.vw)("title","Hangout password required.")),t.appendChild((0,v.vw)("description","Please contact the hangout leader to request the password.")),t.appendChild(function(){const e=(0,v.Ux)("form-group form-group-password relative"),t=document.createElement("label");t.setAttribute("for","join-hangout-password-input"),t.appendChild(document.createTextNode("Hangout password"));const n=document.createElement("input");n.setAttribute("type","password"),n.id="join-hangout-password-input",n.setAttribute("autocomplete","new-password"),n.addEventListener("input",(()=>(0,d.Oj)(n)));const o=(0,v.Pp)("password-icon svg w-2 h-2 group",null);o.id="join-hangout-password-input-reveal-btn",o.setAttribute("aria-label","Reveal guest password"),o.addEventListener("click",(()=>y(o))),o.appendChild(function(){const e=(0,v.FJ)(500,500),t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("class","fill-description dark:fill-description-dark group-hover:fill-cta dark:group-hover:fill-cta-dark"),t.setAttribute("fill-rule","evenodd"),t.setAttribute("clip-rule","evenodd"),t.setAttribute("d","M485.416 267.826C450.744 307.575 358.471 400 250.091 400C141.71 400 49.4376 307.575 14.7649 267.826C5.74504 257.485 5.74504 242.515 14.7649 232.174C49.4376 192.425 141.71 100 250.091 100C358.471 100 450.744 192.425 485.416 232.174C494.436 242.515 494.436 257.485 485.416 267.826ZM250.091 326C292.064 326 326.091 291.974 326.091 250C326.091 208.026 292.064 174 250.091 174C243.954 174 237.988 174.727 232.273 176.1C230.721 176.473 230.286 178.459 231.391 179.611C237.342 185.81 241 194.228 241 203.5C241 222.554 225.554 238 206.5 238C196.426 238 187.36 233.682 181.052 226.796C179.974 225.619 177.965 225.924 177.492 227.448C175.281 234.574 174.091 242.148 174.091 250C174.091 291.974 208.117 326 250.091 326ZM250.091 350C305.319 350 350.091 305.228 350.091 250C350.091 194.772 305.319 150 250.091 150C194.862 150 150.091 194.772 150.091 250C150.091 305.228 194.862 350 250.091 350Z"),e.appendChild(t),e}());const i=(0,v.no)("error-span","");return i.setAttribute("data-target","join-hangout-password-input"),e.appendChild(t),e.appendChild(n),e.appendChild(o),e.appendChild(i),e}()),t.appendChild(function(){const e=(0,v.Ux)("btn-container"),t=(0,v.Pp)("submit-btn","Join hangout");t.setAttribute("type","submit");const n=(0,v.Pp)("cancel-btn","Go to homepage");return n.addEventListener("click",(()=>window.location.href="home")),e.appendChild(t),e.appendChild(n),e}()),e.appendChild(t),document.body.appendChild(e),e}();e.focus(),requestAnimationFrame((()=>{requestAnimationFrame((()=>{e.classList.add("revealed")}))}))}async function Y(e){e.preventDefault(),f.A.display();const t=document.querySelector("#join-hangout-password-input");if(!t)return(0,s.A)("Something went wrong.","error"),void f.A.remove();(0,d.Oj)(t)?await G():f.A.remove()}let V=null;async function G(){if(f.A.display(),!V)return(0,s.A)("Something went wrong.","error"),void setTimeout((()=>window.location.reload()),1e3);const e=document.querySelector("#join-hangout-password-input"),t=e?e.value:null,n={hangoutId:V.hangoutId,hangoutPassword:t};try{await async function(e){return o.A.post(`${h}/joinHangout/account`,e)}(n),function(){const e=document.querySelector("#join-hangout-form-container");null==e||e.remove()}(),(0,s.A)("Successfully joined hangout.","success"),f.A.remove(),await ee()}catch(t){if(console.log(t),f.A.remove(),!o.A.isAxiosError(t))return void(0,s.A)("Something went wrong.","error");const n=t;if(!n.status||!n.response)return void(0,s.A)("Something went wrong.","error");const i=n.status,a=n.response.data.message,d=n.response.data.reason;if((0,s.A)(a,"error"),401==i)return"authSessionExpired"===d?void(0,r.g)():"authSessionDestroyed"===d?void(0,r.E)():void("hangoutPassword"===d&&e&&p.A.display(e,a));if(403===i)return"guestAccount"===d?void z():void("hangoutConcluded"===d&&O());if(409===i)return"hangoutsLimitReached"===d?void function(e){const t=g.W.display({title:e,description:"To create or join a new hangout, wait for one of your current hangouts to conclude or leave one to make room.",btnTitle:"Go to my account"});t.addEventListener("click",(e=>{e.target instanceof HTMLElement&&"info-modal-btn"===e.target.id&&(window.location.href="account")}))}(a):"hangoutFull"===d?void N():void("alreadyJoined"===d&&(f.A.display(),setTimeout((()=>window.location.reload()),1e3)));if(404===i)return void R();if(400===i){if("invalidHangoutId"===d)return void q();"invalidHangoutPassword"===d&&e&&p.A.display(e,a)}}}function z(){m.u.display({title:"You're signed in as a guest.",description:"This is not the hangout linked to your guest account.\nGuest accounts can only access the hangout they were created for.",confirmBtnTitle:"Create a new guest account",cancelBtnTitle:"Go to homepage",extraBtnTitle:null,isDangerousAction:!1}).addEventListener("click",(async e=>{if(e.target instanceof HTMLElement)return"confirm-modal-confirm-btn"===e.target.id?V?void M(V.hangoutId,V.isPasswordProtected):((0,s.A)("Something went wrong.","error"),void setTimeout((()=>window.location.href="home"),1e3)):void("confirm-modal-cancel-btn"===e.target.id&&(window.location.href="home"))}))}function Z(e,t){(function(e){if("object"!=typeof e||null===e)return!1;if(!("type"in e)||"string"!=typeof e.type)return!1;if(!("reason"in e)||"string"!=typeof e.reason)return!1;if(!("data"in e)||"object"!=typeof e.data||null===typeof e.data)return!1;return!0})(e)&&("hangoutStageUpdate"===e.type&&function(e){if(!c.F.data)return;const{hangoutDetails:t}=c.F.data,{reason:n,data:o}=e;let i=Date.now();"object"==typeof o&&null!==o&&"stageControlTimestamp"in o&&"number"==typeof o.stageControlTimestamp&&(i=o.stageControlTimestamp);if("hangoutAutoProgressed"===n&&(t.current_stage++,4===t.current_stage)){const e={event_description:"Hangout has been concluded.",event_timestamp:i};X.latestHangoutEvents.push(e)}if("noSuggestionConclusion"===n){t.current_stage=4;const e={event_description:"Hangout reached the voting stage without any suggestions and was therefore automatically concluded.",event_timestamp:i};X.latestHangoutEvents.unshift(e)}t.stage_control_timestamp=i,te(),B()}(e),"chatUpdate"!==e.type?"newData"!==e.type?"hangoutUtil"===e.type&&function(e,t){if("memberJoined"===e.reason)return;if("memberLeft"===e.reason);}(e):function(e,t){if("newAvailabilitySlot"===e.reason)return;if("newSuggestions"===e.reason)return;e.reason}(e):function(e,t){if("newMessage"===e.reason)return;e.reason}(e))}function K(e,t,n=0){if(n>=2)return c.F.hangoutWebSocket=null,c.F.webSocketConnected=!1,void g.W.display({title:"Server connection issues.",description:"Live server connection has been lost, and we couldn't reconnect you.\nThis may result in some hangout updates not being visible without a page reload.",btnTitle:"Okay"},{simple:!0});const o="localhost"===window.location.hostname?"ws://localhost:5000":`wss://${window.location.hostname}`,i=new WebSocket(`${o}?hangoutMemberId=${e}&hangoutId=${t}`);i.addEventListener("open",(()=>{c.F.hangoutWebSocket=i,c.F.webSocketConnected=!0,window.addEventListener("beforeunload",(()=>{var e;null===(e=c.F.hangoutWebSocket)||void 0===e||e.close(),c.F.hangoutWebSocket=null,c.F.webSocketConnected=!1}))})),i.addEventListener("message",(e=>{if(!e.data)return;const t=function(e){try{return JSON.parse(e)}catch(e){return null}}(e.data);null!==t&&(console.log(t),Z(t))})),i.addEventListener("close",(o=>{1e3!==o.code&&(console.log(`Websocket connection closed with code: ${o.code}`),setTimeout((()=>K(e,t,++n)),200))})),i.addEventListener("error",(e=>{console.log(e),1===i.readyState&&i.close(1011)}))}const X={latestHangoutEvents:[],latestHangoutMessages:[]};async function Q(){await ee(),function(){const e=sessionStorage.getItem("latestHangoutSection");if(!e)return;setTimeout((()=>(0,u.SQ)(e)),0)}(),document.addEventListener("loadSection-dashboard",te)}async function ee(){const e=new URL(window.location.href).searchParams.get("id");if(!e||!(0,d.sg)(e))return void q();if(i.A.get("signedInAs"))try{const t=(await async function(e){return o.A.get(`${l}/details/initial?hangoutId=${e}`)}(e)).data,n=new Map;for(const e of t.hangoutMembers)n.set(e.hangout_member_id,e.display_name);c.F.data={hangoutId:e,hangoutMemberId:t.hangoutMemberId,hangoutMembers:t.hangoutMembers,hangoutMembersMap:n,isLeader:t.isLeader,isPasswordProtected:t.isPasswordProtected,decryptedHangoutPassword:t.decryptedHangoutPassword,availabilitySlotsCount:t.hangoutMemberCountables.availability_slots_count,suggestionsCount:t.hangoutMemberCountables.suggestions_count,votesCount:t.hangoutMemberCountables.votes_count,hangoutDetails:t.hangoutDetails},X.latestHangoutMessages=t.latestHangoutChats,X.latestHangoutEvents=t.latestHangoutEvents,te(),function(){const e=document.querySelector("#guest-sign-up-section"),t=document.querySelector("#hangout-loading-skeleton");null==e||e.remove(),null==t||t.classList.remove("hidden")}(),function(){var e,t;const n=document.querySelector("#hangout-desktop-nav"),o=document.querySelector("#dashboard-section"),i=document.querySelector("#hangout-loading-skeleton");null===(t=null===(e=null==n?void 0:n.parentElement)||void 0===e?void 0:e.parentElement)||void 0===t||t.classList.remove("hidden"),null==o||o.classList.remove("hidden"),null==i||i.remove()}(),K(t.hangoutMemberId,e)}catch(t){if(console.log(t),!o.A.isAxiosError(t))return(0,s.A)("Failed to load hangout data.","error"),void setTimeout((()=>window.location.href="home"),1e3);const n=t;if(!n.status||!n.response)return(0,s.A)("Failed to load hangout data.","error"),void setTimeout((()=>window.location.href="home"),1e3);const a=n.status,d=n.response.data.message,l=n.response.data.reason,c=n.response.data.resData;if(401===a)return"authSessionExpired"===l?void(0,r.g)(`hangout${window.location.search}`):void("notMember"===l&&function(e,t){if(!function(e){return"object"==typeof e&&null!==e&&("isConcluded"in e&&"boolean"==typeof e.isConcluded&&("isPasswordProtected"in e&&"boolean"==typeof e.isPasswordProtected&&("isFull"in e&&("boolean"==typeof e.isFull||null===e.isFull))))}(e))return(0,s.A)("Something went wrong.","error"),void setTimeout((()=>window.location.href="home"),1e3);if(e.isConcluded)return void O();if(V={hangoutId:t,isPasswordProtected:e.isPasswordProtected,isFull:e.isFull},"guest"===i.A.get("signedInAs"))return void z();if(e.isPasswordProtected)return void W();if(e.isFull)return void N();m.u.display({title:"Confirm access.",description:"It looks like you're not a member of this hangout.\nWould you like to join?",confirmBtnTitle:"Join hangout",cancelBtnTitle:"Go to my account",extraBtnTitle:null,isDangerousAction:!1}).addEventListener("click",(async e=>{if(e.target instanceof HTMLElement)return"confirm-modal-confirm-btn"===e.target.id?(m.u.remove(),void await G()):void("confirm-modal-cancel-btn"===e.target.id&&(window.location.href="account"))}))}(c,e));if(404===a)return void R();if(400===a)return void q();(0,s.A)(d,"error"),setTimeout((()=>window.location.href="home"),1e3)}else await P(e)}function te(){!function(){if(!c.F.data)return void m.u.display({title:"Something went wrong.",description:"We ran into an unexpected error while fetching the data for you.",confirmBtnTitle:"Reload page",cancelBtnTitle:"Go to homepage",extraBtnTitle:null,isDangerousAction:!1}).addEventListener("click",(e=>{e.target instanceof HTMLElement&&("confirm-modal-confirm-btn"!==e.target.id?"confirm-modal-cancel-btn"===e.target.id&&(window.location.href="home"):window.location.reload())}));const e=c.F.data.hangoutDetails,t=document.querySelector("#hangout-title");t&&(t.textContent=e.hangout_title);const n=document.querySelector("#dashboard-current-stage");n&&(n.textContent=$(e.current_stage));const o=document.querySelector("#dashboard-next-stage");o&&(o.textContent=(i=e.current_stage,i>=a.wi?"None":i===a.Gr?"Conclusion":$(i+1)));var i;const r=document.querySelector("#dashboard-conclusion-time");r&&(r.textContent=function(){if(!c.F.data)return"Failed to load";const{created_on_timestamp:e,availability_period:t,suggestions_period:n,voting_period:o}=c.F.data.hangoutDetails,i=e+t+n+o;return(0,A.CA)(i)}());const d=document.querySelector("#dashboard-member-limit");d&&(d.textContent=`${e.members_limit} members`);const l=document.querySelector("#dashboard-view-members-btn");null==l||l.addEventListener("click",u._3),B(),function(){if(!c.F.data)return;const{isLeader:e,isPasswordProtected:t,decryptedHangoutPassword:n}=c.F.data,o=document.querySelector("#dashboard-hangout-password-state"),i=document.querySelector("#dashboard-hangout-password-value"),r=document.querySelector("#dashboard-hangout-password-btn");if(!o||!i||!r)return;if(!e)return void(t&&(i.textContent="Yes"));if(o.textContent="Hangout password",t)return r.classList.remove("hidden"),i.textContent="*************",void r.addEventListener("click",(async()=>{n?await async function(e){try{await navigator.clipboard.writeText(e),(0,s.A)("Copied to clipboard.","success")}catch(e){console.log(e),(0,s.A)("Failed to copy to clipboard.","error")}}(n):(0,s.A)("Hangout is not password protected.","error")}));i.textContent="Not set"}()}(),function(){if(!c.F.data)return;const{hangoutDetails:e,availabilitySlotsCount:t,suggestionsCount:n,votesCount:o}=c.F.data,i=document.querySelector("#hangout-stage-description");null==i||i.setAttribute("data-hangoutStage",`${e.current_stage}`),null==i||i.addEventListener("click",(e=>{e.target instanceof HTMLElement&&e.target.hasAttribute("data-goTo")&&(0,u._3)(e)}));const r=document.querySelector("#dashboard-slots-added"),s=document.querySelector("#dashboard-slots-remaining");if(r&&s){r.textContent=1===t?"1 slot":`${t} slots`;const e=a.vJ-t;s.textContent=1===e?"1 slot":`${e} slots`}const d=document.querySelector("#dashboard-suggestions-added"),l=document.querySelector("#dashboard-suggestions-remaining");if(d&&l){d.textContent=1===n?"1 suggestion":`${n} suggestions`;const e=a.fD-n;l.textContent=1===e?"1 suggestion":`${e} suggestions`}const m=document.querySelector("#dashboard-votes-added"),p=document.querySelector("#dashboard-votes-remaining");if(m&&p){m.textContent=1===o?"1 vote":`${o} votes`;const e=a.fD-o;p.textContent=1===e?"1 vote":`${e} votes`}}(),function(){var e;if(0===X.latestHangoutMessages.length)return;const t=document.querySelector("#dashboard-chat-container"),n=document.querySelector("#dashboard-chat-empty");if(!t||!n)return;const o=(0,v.Ux)(null,"dashboard-chat-container-inner");for(let e=0;e<2&&X.latestHangoutMessages[e];e++)o.insertAdjacentElement("afterbegin",U(X.latestHangoutMessages[e]));null===(e=t.firstElementChild)||void 0===e||e.remove(),t.insertAdjacentElement("afterbegin",o),t.classList.remove("hidden"),n.classList.add("hidden")}(),function(){var e;const t=document.querySelector("#dashboard-events");if(!t)return void(0,s.A)("Failed to load hangout events.","error");const n=(0,v.Ux)(null,"dashboard-events-container");for(let e=0;e<2&&X.latestHangoutEvents[e];e++)n.insertAdjacentElement("afterbegin",J(X.latestHangoutEvents[e]));null===(e=t.firstElementChild)||void 0===e||e.remove(),t.appendChild(n)}(),function(){if(!c.F.data)return;const{hangoutDetails:e,hangoutMembers:t}=c.F.data,n=document.querySelector("#dashboard-current-members");n&&(n.textContent=`${t.length}`);const o=document.querySelector("#dashboard-members-limit");o&&(o.textContent=`${e.members_limit}`),function(){var e;if(!c.F.data)return;const t=c.F.data.hangoutMembers,n=document.querySelector("#dashboard-members");if(!n)return;!function(e){const t=e.findIndex((e=>{var t;return e.hangout_member_id===(null===(t=c.F.data)||void 0===t?void 0:t.hangoutMemberId)}));if(-1===t)return;const[n]=e.splice(t,1);if(e.unshift(n),n.is_leader)return;const o=e.findIndex((e=>e.is_leader));if(-1===o)return;const[i]=e.splice(o,1);e.splice(1,0,i)}(t);const o=(0,v.Ux)("dashboard-members-container");for(const e of t)o.appendChild(H(e));null===(e=n.firstElementChild)||void 0===e||e.remove(),n.appendChild(o)}()}()}},7902:(e,t,n)=>{n.d(t,{$4:()=>M,MX:()=>N,YU:()=>u,gJ:()=>$,ik:()=>_,pJ:()=>I,vK:()=>C,yf:()=>P});var o=n(2484),i=n(9423),r=n(7130),a=n(7107),s=n(2222),d=n(2185),l=n(974);let c={hasBeenInitiated:!1,isActive:!1,data:null};function u(e,t=null){const n=(0,d.o)(),o=document.querySelector("#date-time-picker");if(!n||!o)return void(0,s.A)("Something went wrong.","error");const i=new Date(n),r=i.getDate(),a=i.getMonth(),l=i.getFullYear(),u=!1===c.hasBeenInitiated;c={hasBeenInitiated:!0,isActive:!0,data:{purpose:e,existingSlotId:t,conclusionTimestamp:n,conclusionDate:r,initialMonth:a,initialYear:l,currentMonth:a,currentYear:l,selectedDate:null,currentStage:"date",timeSlotExtended:!1}},F(),o.style.display="flex",o.focus(),requestAnimationFrame((()=>{requestAnimationFrame((()=>{o.classList.add("revealed")}))})),u&&(null==p||p.addEventListener("click",q),null==g||g.addEventListener("click",E),null==h||h.addEventListener("submit",S),null==f||f.addEventListener("click",_),null==b||b.addEventListener("click",_),null==y||y.addEventListener("click",L),null==w||w.addEventListener("click",x))}const m=document.querySelector("#date-time-picker"),p=document.querySelector("#date-picker-header"),g=document.querySelector("#date-picker-dates"),f=document.querySelector("#date-picker-cancel-btn"),h=document.querySelector("#time-picker-form"),v=document.querySelector("#time-picker-slot-start"),A=document.querySelector("#time-picker-slot-end"),y=document.querySelector("#time-picker-change-date-btn"),b=document.querySelector("#time-picker-cancel-btn"),w=document.querySelector("#extend-slot-end-btn");function S(e){if(e.preventDefault(),a.A.display(),!c.isActive)return void a.A.remove();if(!c.data)return(0,s.A)("Something went wrong.","error"),void a.A.remove();const{currentStage:t,currentYear:n,currentMonth:i,selectedDate:d,timeSlotExtended:u,purpose:m,existingSlotId:p}=c.data;if("time"!==t||!d)return(0,s.A)("Must provide a date first.","error"),a.A.remove(),void L();if(!v||!A)return(0,s.A)("Something went wrong.","error"),void a.A.remove();const g=k(v),f=k(A);if(!g||!f)return(0,s.A)("Invalid time slot.","error"),void a.A.remove();const h=v.value,y=A.value,b=+h.split(":")[0],w=+h.split(":")[1],S=+y.split(":")[0],E=+y.split(":")[1],C=new Date(n,i,d,b,w).getTime(),T=new Date(n,i,u?d+1:d,S,E).getTime();return function(e,t){if(!A)return!1;if(t<e)return r.A.display(A,"Time slot can't end before its start."),!1;if(t-e<o.Hd)return r.A.display(A,"Time slot can't be shorter than an hour."),!1;if(t-e>o.x7)return r.A.display(A,"Time slot can't be longer than 24 hours."),!1;return!0}(C,T)?function(e){if(!c.data)return!1;const t=c.data.conclusionTimestamp,n=new Date(t),i=new Date(e);if(e-t<o.x7&&i.getDate()===n.getDate()){const e=(0,l.WB)(n);return v&&r.A.display(v,`Time slot must start after ${e} if added on the hangout conclusion date.`),!0}return!1}(C)?((0,s.A)("Invalid time slot start.","error"),void a.A.remove()):(document.dispatchEvent(new CustomEvent("dateTimePicker-selection",{detail:{purpose:m,existingSlotId:p,startTimestamp:C,endTimestamp:T}})),void("suggestionSlot"===m&&(_(),a.A.remove()))):((0,s.A)("Invalid time slot.","error"),void a.A.remove())}function E(e){if(!c.data)return;if(!(e.target instanceof HTMLButtonElement))return;if(e.target.classList.contains("forbidden"))return;const t=e.target.getAttribute("data-value");t&&function(e){if(!Number.isInteger(e))return!1;if(!c.data)return!1;const{currentYear:t,currentMonth:n,initialYear:o,initialMonth:i,conclusionDate:r}=c.data,a=new Date(o,i+6).getMonth()===n?new Date(o,i+6,r).getDate():null,s=n===i;if(a&&e>a||s&&e<r)return!1;if(!function(e,t,n){const o=N(e,t);if(n>o||n<1)return!1;return!0}(t,n,e))return!1;return!0}(+t)?(c.data.selectedDate=+t,T()):(0,s.A)("Invalid date.","error")}function C(e){if(u("availabilitySlot"),!c.data)return(0,s.A)("Something went wrong.","error"),void _();const t=new Date(e);c.data.currentMonth=t.getMonth(),c.data.currentYear=t.getFullYear(),c.data.selectedDate=t.getDate(),F(),T()}function T(){if(!c.data)return;const{currentYear:e,currentMonth:t,selectedDate:n}=c.data;if(!n)return;c.data.currentStage="time";const o=new Date(e,t),i=document.querySelector("#time-picker-selected-date");i&&(i.textContent=`${(0,l.Ge)(o)} ${n}${(0,l.Dr)(n)}, ${e}.`),null==m||m.setAttribute("data-stage","time")}function L(){c.data&&(c.data.currentStage="date",c.data.selectedDate=null,null==m||m.setAttribute("data-stage","date"))}function _(){c.isActive=!1,m&&(m.classList.remove("revealed"),setTimeout((()=>{m.style.display="none",function(){c.data=null,null==m||m.setAttribute("data-stage","date");const e=document.querySelector("#time-picker-selected-date");if(e&&(e.textContent=""),!v||!A)return;v.value="",A.value="",r.A.hide(v),r.A.hide(A)}()}),150))}function x(){c.data&&w&&(c.data.timeSlotExtended=!c.data.timeSlotExtended,w.classList.toggle("checked"))}function k(e){return t=e.value,/^(?:[01]\d|2[0-3]):[0-5]\d$/.test(t)?(r.A.hide(e),!0):(r.A.display(e,"Invalid 24-hour time format (HH:MM)."),!1);var t}function F(){var e;if(!c.data)return;const{currentYear:t,currentMonth:n}=c.data,o=new Date(t,n,1),r=o.getDay(),a=N(t,n),d=new Intl.DateTimeFormat("en-GB",{month:"long"}).format(o),l=document.querySelector("#date-picker-header-title");l&&(l.textContent=`${d} ${t}`);const u=document.querySelector("#date-picker-dates");if(!u)return c.data=null,void(0,s.A)("Something went wrong.","error");const m=(0,i.Ux)(null,"date-picker-dates-container");M(m,r),function(e,t){if(!c.data)return;const{currentMonth:n,initialYear:o,initialMonth:i,conclusionDate:r}=c.data,a=new Date(o,i+6).getMonth()===n,s=a?new Date(o,i+6,r).getDate():null,d=n===i;for(let n=1;n<=t;n++)s&&n>s||d&&n<r?e.appendChild(I(n,!0)):e.appendChild(I(n))}(m,a),null===(e=u.firstElementChild)||void 0===e||e.remove(),u.appendChild(m)}function M(e,t){if(0!==t)for(let n=0;n<t-1;n++)e.appendChild(D());else for(let t=0;t<6;t++)e.appendChild(D())}function D(){const e=document.createElement("span");return e.className="date-item empty",e}function I(e,t=!1){const n=(0,i.Pp)("date-cell",`${e}`);return n.setAttribute("data-value",`${e}`),t&&(n.classList.add("forbidden"),n.setAttribute("disabled","disabled")),n}function q(e){e.target instanceof HTMLElement&&("date-picker-backwards-btn"!==e.target.id?"date-picker-forwards-btn"===e.target.id&&function(){if(!c.data)return;const{currentYear:e,currentMonth:t,initialYear:n,initialMonth:i,conclusionDate:r}=c.data,a=new Date(e,t,r).getTime(),s=new Date(n,i+6,r).getTime();if(a>=s)return;if(11===t)return c.data.currentMonth=0,c.data.currentYear=e+1,a+30*o.x7>=s&&O("forwards"),R("backwards"),void F();c.data.currentMonth=t+1,a+31*o.x7>=s&&O("forwards"),R("backwards"),F()}():function(){if(!c.data)return;const{currentYear:e,currentMonth:t,initialMonth:n}=c.data;if(t===n)return;if(0===t)return c.data.currentMonth=11,c.data.currentYear=e-1,11===n&&O("backwards"),R("forwards"),void F();c.data.currentMonth=t-1,t-1===n&&O("backwards"),R("forwards"),F()}())}function O(e){const t=document.querySelector(`#date-picker-${e}-btn`);t&&t.classList.add("disabled")}function R(e){const t=document.querySelector(`#date-picker-${e}-btn`);t&&t.classList.remove("disabled")}function N(e,t){if(1===t)return function(e){const t=e%4==0,n=e%100==0,o=e%400==0;if(t&&(!n||o))return 29;return 28}(e);return[3,5,8,10].includes(t)?30:31}function P(e){if(!(e instanceof CustomEvent))return!1;if(!("detail"in e)||"object"!=typeof e.detail||null===e.detail)return!1;if(!("purpose"in e.detail)||!("startTimestamp"in e.detail)||!("endTimestamp"in e.detail))return!1;const{purpose:t,startTimestamp:n,endTimestamp:o}=e.detail;return"string"==typeof t&&"number"==typeof n&&"number"==typeof o&&("availabilitySlot"===t||"suggestionSlot"===t)}function $(e,t="end"){if(!c.isActive)return;const n=document.querySelector(`#time-picker-slot-${t}`);n&&r.A.display(n,e)}},2079:(e,t,n)=>{n.d(t,{F:()=>o});const o={webSocketConnected:!1,hangoutWebSocket:null,data:null}},1384:(e,t,n)=>{n.d(t,{Ki:()=>l,SQ:()=>u,_3:()=>c});const o=document.querySelector("#hangout-desktop-nav"),i=document.querySelector("#hangout-phone-nav"),r=document.querySelector("#hangout-phone-nav-btn"),a=document.querySelector("#hangout-phone-nav-overlay"),s=document.querySelector("#hangout-phone-nav-menu"),d={selectedSection:"dashboard"};function l(){null==o||o.addEventListener("click",c),null==r||r.addEventListener("click",m),null==s||s.addEventListener("click",g)}function c(e){var t,n;if(!(e.target instanceof HTMLElement))return;const r=e.target.getAttribute("data-goTo");r&&r!==d.selectedSection&&(null===(t=document.querySelector(`#${r}-section`))||void 0===t||t.classList.remove("hidden"),null===(n=document.querySelector(`#${d.selectedSection}-section`))||void 0===n||n.classList.add("hidden"),window.scrollTo({top:0}),d.selectedSection=r,sessionStorage.setItem("latestHangoutSection",r),null==o||o.setAttribute("data-selected",r),null==i||i.setAttribute("data-selected",r),p(),document.dispatchEvent(new CustomEvent(`loadSection-${r}`)))}function u(e){var t,n;e!==d.selectedSection&&(null===(t=document.querySelector(`#${e}-section`))||void 0===t||t.classList.remove("hidden"),null===(n=document.querySelector(`#${d.selectedSection}-section`))||void 0===n||n.classList.add("hidden"),window.scrollTo({top:0}),d.selectedSection=e,sessionStorage.setItem("latestHangoutSection",e),null==o||o.setAttribute("data-selected",e),null==i||i.setAttribute("data-selected",e),p(),"dashboard"!==e&&document.dispatchEvent(new CustomEvent(`loadSection-${e}`)))}function m(){null==a||a.classList.remove("hidden"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{null==a||a.classList.add("expanded")}))}))}function p(){requestAnimationFrame((()=>{requestAnimationFrame((()=>{null==a||a.classList.remove("expanded")}))})),setTimeout((()=>null==a?void 0:a.classList.add("hidden")),150)}function g(e){e.target instanceof HTMLElement&&(e.target.classList.contains("close-menu-btn")?p():c(e))}},4064:(e,t,n)=>{n.d(t,{ob:()=>M,G0:()=>q,d_:()=>O,AZ:()=>R});var o=n(7536),i=n(4803),r=n(2484),a=n(5483),s=n(9423),d=n(7107),l=n(2222);o.A.defaults.withCredentials=!0;const c="localhost"===window.location.hostname?`http://${window.location.hostname}:5000/api/suggestions`:`https://${window.location.hostname}/api/suggestions`;var u=n(186),m=n(1340),p=n(2079),g=n(7130),f=n(4153),h=n(7902),v=n(974);const A={suggestionIdToEdit:null,suggestionEndTimestamp:null,suggestionStartTimestamp:null},y=document.querySelector("#suggestions-form"),b=document.querySelector("#suggestions-form-container"),w=document.querySelector("#suggestions-form-date-time-container"),S=document.querySelector("#suggestion-title-input"),E=document.querySelector("#suggestion-description-textarea"),C=document.querySelector("#suggestion-start-mock-input"),T=document.querySelector("#suggestion-end-mock-input");function L(){null==y||y.addEventListener("submit",_),null==y||y.addEventListener("click",x),null==w||w.addEventListener("click",(e=>{e.target instanceof HTMLParagraphElement&&e.target.classList.contains("mock-input")&&(0,h.YU)("suggestionSlot")})),null==w||w.addEventListener("keyup",(e=>{"Enter"===e.key&&(0,h.YU)("suggestionSlot")})),document.addEventListener("dateTimePicker-selection",(async e=>{(0,h.yf)(e)&&"suggestionSlot"===e.detail.purpose&&function(e){var t,n;A.suggestionStartTimestamp=e.startTimestamp,A.suggestionEndTimestamp=e.endTimestamp,e.existingSlotId&&(A.suggestionIdToEdit=e.existingSlotId),C&&T&&(C.textContent=(0,v.CA)(e.startTimestamp),T.textContent=(0,v.CA)(e.endTimestamp),C.classList.remove("empty"),T.classList.remove("empty"),null===(t=C.parentElement)||void 0===t||t.classList.remove("error"),null===(n=T.parentElement)||void 0===n||n.classList.remove("error"))}(e.detail)})),null==S||S.addEventListener("input",(()=>(0,f.Bn)(S))),null==E||E.addEventListener("input",(()=>{(0,f.xf)(E),function(e){const t=62,n=400;e.style.height="0px";const o=Math.min(n,e.scrollHeight);e.style.height=o<t?`${t}px`:`${o}px`}(E),function(e){var t,n;const o=document.querySelector("#suggestion-description-character-count");if(!o)return;const i=e.value.length;o.textContent=`${i}`,i>500||i<10?null===(t=o.parentElement)||void 0===t||t.classList.add("error"):null===(n=o.parentElement)||void 0===n||n.classList.remove("error")}(E)}))}async function _(e){e.preventDefault(),p.F.data?p.F.data.hangoutDetails.current_stage===r.c7?A.suggestionIdToEdit?await async function(e){}(A.suggestionIdToEdit):await async function(){if(d.A.display(),!p.F.data)return(0,l.A)("Something went wrong.","error"),void d.A.remove();const{hangoutId:e,hangoutMemberId:t,hangoutDetails:n}=p.F.data;if(n.current_stage!==r.c7)return(0,l.A)("Hangout is not in suggestions stage.","error"),void d.A.remove();if(!(C&&T&&S&&E))return(0,l.A)("Something went wrong.","error"),void d.A.remove();const a=(0,f.Bn)(S),s=(0,f.xf)(E),{suggestionStartTimestamp:u,suggestionEndTimestamp:h}=A;if(!u||!h)return g.A.display(C,"Suggestion date and time required."),g.A.display(T,"Suggestion date and time required."),(0,l.A)("Invalid suggestion details.","error"),void d.A.remove();if(!a||!s)return(0,l.A)("Invalid suggestion details.","error"),void d.A.remove();const v={hangoutId:e,hangoutMemberId:t,suggestionTitle:S.value,suggestionDescription:E.value,suggestionStartTimestamp:u,suggestionEndTimestamp:h};try{const e=(await(y=v,o.A.post(c,y))).data.suggestionId;M.suggestions.push({suggestion_id:e,hangout_member_id:t,suggestion_title:v.suggestionTitle,suggestion_description:v.suggestionDescription,suggestion_start_timestamp:u,suggestion_end_timestamp:h,is_edited:!1,likes_count:0,votes_count:0}),R(),p.F.data.suggestionsCount++,function(){if(A.suggestionIdToEdit=null,A.suggestionStartTimestamp=null,A.suggestionEndTimestamp=null,S&&(S.value=""),E&&(E.value=""),!C||!T)return;C.textContent="Click to set date and time",C.classList.add("empty"),T.textContent="Click to set date and time",T.classList.add("empty")}(),k(),O(),(0,l.A)("Suggestion added.","success"),d.A.remove()}catch(e){if(console.log(e),d.A.remove(),!o.A.isAxiosError(e))return void(0,l.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,l.A)("Something went wrong.","error");const n=t.status,a=t.response.data.message,s=t.response.data.reason;if(400===n&&("hangoutId"===s||"hangoutMemberId"===s))return void(0,l.A)("Something went wrong.","error");if((0,l.A)(a,"error"),409===n)return"limitReached"===s?(p.F.data.suggestionsCount=r.fD,void(0,m.Ew)()):void 0;if(403===n)return"hangoutConcluded"===s?(p.F.data.hangoutDetails.current_stage=r.wi,void(0,m.Ew)()):"inAvailabilityStage"===s?(p.F.data.hangoutDetails.current_stage=r.Cb,void(0,m.Ew)()):void("inVotingStage"===s&&(p.F.data.hangoutDetails.current_stage=r.Gr,(0,m.Ew)()));if(401===n)return"authSessionExpired"===s?void(0,i.g)():void("authSessionDestroyed"===s&&(0,i.E)());if(404===n)return d.A.display(),void setTimeout((()=>window.location.reload()),1e3);if(400===n){const e={title:S,description:E,dateTime:C}[`${s}`];e&&g.A.display(e,a)}}var y}():(0,l.A)("Hangout is not in suggestions stage.","error"):(0,l.A)("Something went wrong.","error")}function x(e){if(e.target instanceof HTMLElement)return"suggestions-form-expand-btn"===e.target.id?p.F.data?p.F.data.hangoutDetails.current_stage!==r.c7?void(0,l.A)("Not in suggestions stage.","error"):p.F.data.suggestionsCount===r.fD?void(0,l.A)(`Suggestions limit of ${r.fD} reached.`,"error"):(b&&(b.style.display="block"),void(null==y||y.classList.add("expanded"))):void(0,l.A)("Something went wrong.","error"):void("suggestions-form-collapse-btn"===e.target.id&&k())}function k(){null==y||y.classList.remove("expanded"),b&&setTimeout((()=>b.style.display="none"),150)}function F(e,t){var n;const o=(0,s.Ux)("suggestion");o.setAttribute("data-suggestionId",`${e.suggestion_id||0}`),e.hangout_member_id===(null===(n=p.F.data)||void 0===n?void 0:n.hangoutMemberId)&&o.classList.add("user");return M.memberLikesSet.has(e.suggestion_id)&&o.classList.add("liked"),o.appendChild(function(e,t){var n;const o=(0,s.Ux)("suggestion-details"),i=M.memberVotesSet.has(e.suggestion_id),r=(0,s.Ux)("suggestion-details-header");r.appendChild((0,s.vw)("suggestion-title",e.suggestion_title)),r.appendChild(function(e){const t=(0,s.Ux)("rating-container"),n=(0,s.Pp)("like-suggestion-btn",null);return n.appendChild(function(){const e=(0,s.FJ)(500,500),t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("stroke-width","30"),t.setAttribute("d","M231.098 395.508L231.087 395.498L231.076 395.488C179.281 348.521 137.498 310.548 108.489 275.057C79.6444 239.768 65 208.769 65 176C65 122.502 106.666 81 160 81C190.265 81 219.562 95.1669 238.617 117.369L250 130.631L261.383 117.369C280.438 95.1669 309.735 81 340 81C393.334 81 435 122.502 435 176C435 208.769 420.356 239.768 391.511 275.057C362.502 310.548 320.719 348.521 268.924 395.488L268.913 395.498L268.902 395.508L250 412.715L231.098 395.508Z"),e.appendChild(t),e}()),n.appendChild((0,s.Ux)("like-spinner")),t.appendChild((0,s.no)("suggestion-likes-count",`${e}`)),t.appendChild(n),t}(e.likes_count));const a=(null===(n=p.F.data)||void 0===n?void 0:n.hangoutMemberId)===e.hangout_member_id;(t||a)&&r.appendChild(function(e){const t=(0,s.Ux)("dropdown-menu"),n=(0,s.Pp)("dropdown-menu-btn",null);n.appendChild(function(){const e=(0,s.FJ)(540,540),t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","M330 70C330 103.137 303.137 130 270 130C236.863 130 210 103.137 210 70C210 36.8629 236.863 10 270 10C303.137 10 330 36.8629 330 70Z");const n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d","M330 270C330 303.137 303.137 330 270 330C236.863 330 210 303.137 210 270C210 236.863 236.863 210 270 210C303.137 210 330 236.863 330 270Z");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d","M330 470C330 503.137 303.137 530 270 530C236.863 530 210 503.137 210 470C210 436.863 236.863 410 270 410C303.137 410 330 436.863 330 470Z"),e.appendChild(t),e.appendChild(n),e.appendChild(o),e}());const o=(0,s.Ux)("dropdown-menu-list");return e&&o.appendChild((0,s.Pp)("edit-btn","Edit")),o.appendChild((0,s.Pp)("delete-btn","Delete")),t.appendChild(n),t.appendChild(o),t}(a));return o.appendChild(r),o.appendChild(function(e){var t;const n=(0,s.Ux)("suggestion-details-container"),o=(0,s.Ux)(null);o.appendChild((0,s.no)(null,"Start")),o.appendChild((0,s.no)(null,(0,v.CA)(e.suggestion_start_timestamp)));const i=(0,s.Ux)(null);i.appendChild((0,s.no)(null,"End")),i.appendChild((0,s.no)(null,(0,v.CA)(e.suggestion_end_timestamp)));const r=(0,s.Ux)(null);r.appendChild((0,s.no)(null,"Suggested by"));const a=e.hangout_member_id?null===(t=p.F.data)||void 0===t?void 0:t.hangoutMembersMap.get(e.hangout_member_id):null;return r.appendChild((0,s.no)(null,a||"Former member")),n.appendChild(o),n.appendChild(i),n.appendChild(r),n}(e)),o.appendChild(function(e){const t=(0,s.Ux)("btn-container");return t.appendChild((0,s.Pp)("view-suggestion-btn","View details")),t.appendChild((0,s.Pp)("add-vote-btn",e?"Remove vote":"Add vote")),t}(i)),o}(e,t)),o.appendChild((0,s.vw)("suggestion-description",e.suggestion_description)),o}const M={isLoaded:!1,suggestions:[],memberLikesSet:new Set,memberVotesSet:new Set,pageCount:1,pageItemsCount:0,sortingMode:"likes"},D=document.querySelector("#suggestions-remaining-span"),I=document.querySelector("#suggestions-container");function q(){document.addEventListener("loadSection-suggestions",(async()=>{u.J8.isLoaded||await(0,u.Wf)(),async function(){M.isLoaded?O():p.F.data?(d.A.display(),await async function(){if(M.isLoaded)return;if(!p.F.data)return void(0,l.A)("Failed to load hangout suggestions.","error");const{hangoutId:e,hangoutMemberId:t}=p.F.data;try{const{suggestions:n,memberLikes:i,memberVotes:r}=(await function(e){const{hangoutMemberId:t,hangoutId:n}=e;return o.A.get(`${c}?hangoutMemberId=${t}&hangoutId=${n}`)}({hangoutId:e,hangoutMemberId:t})).data;M.suggestions=n,M.memberLikesSet=new Set(i),M.memberVotesSet=new Set(r),M.isLoaded=!0}catch(e){if(console.log(e),!o.A.isAxiosError(e))return void(0,l.A)("Failed to load hangout suggestions.","error");const t=e;if(!t.status||!t.response)return void(0,l.A)("Failed to load hangout suggestions.","error");const n=t.status,r=t.response.data.message,a=t.response.data.reason;if(400===n)return void(0,l.A)("Failed to load hangout suggestions.","error");if((0,l.A)(r,"error"),401===n){if("authSessionExpired"===a)return void(0,i.g)();"notHangoutMember"===a&&(setTimeout((()=>d.A.display()),0),setTimeout((()=>window.location.reload()),1e3))}}}(),L(),O(),d.A.remove()):(0,l.A)("Something went wrong.","error")}()})),null==I||I.addEventListener("click",N)}function O(){!function(){var e,t;if(!I||!p.F.data)return;if(0===M.suggestions.length)return null===(e=I.firstElementChild)||void 0===e||e.remove(),void I.appendChild((0,s.vw)("no-suggestions","No suggestions found"));const{isLeader:n,hangoutDetails:o}=p.F.data,i=M.pageCount,a=M.suggestions,d=(0,s.Ux)("suggestions-container-inner");for(let e=10*i-10;e<10*i&&!(e>=a.length);e++)d.appendChild(F(a[e],n)),M.pageItemsCount=(e+1)%10&&e+1;null===(t=I.firstElementChild)||void 0===t||t.remove(),I.appendChild(d),o.current_stage===r.Gr&&I.classList.add("in-voting-stage")}(),function(){if(!D||!p.F.data)return;const e=r.fD-p.F.data.suggestionsCount;D.textContent=`${e}`}()}function R(){const e=M.sortingMode;M.suggestions.sort(((t,n)=>t[`${e}_count`]-n[`${e}_count`]))}async function N(e){var t;if(!(e.target instanceof HTMLButtonElement))return;if(!p.F.data)return void(0,l.A)("Something went wrong.","error");const n=e.target.closest(".suggestion");if(!(n&&n instanceof HTMLDivElement))return;const s=n.getAttribute("data-suggestionId");if(!s||!Number.isInteger(+s))return;const u=M.suggestions.find((e=>e.suggestion_id===+s));if(!u)return(0,l.A)("Suggestion not found.","error"),d.A.display(),O(),void d.A.remove();if(e.target.classList.contains("view-suggestion-btn"))n.classList.toggle("expanded");else{if(e.target.classList.contains("like-suggestion-btn")){if(n.classList.contains("like-pending"))return;return n.classList.contains("liked")?void async function(e,t){if(!p.F.data)return void(0,l.A)("Failed to like suggestion.","error");if(!M.memberLikesSet.has(e.suggestion_id))return;t.classList.add("like-pending");const{hangoutMemberId:n,hangoutId:r}=p.F.data;try{await function(e){const{suggestionId:t,hangoutMemberId:n,hangoutId:i}=e;return o.A.delete(`${c}/likes?suggestionId=${t}&hangoutMemberId=${n}&hangoutId=${i}`)}({suggestionId:e.suggestion_id,hangoutMemberId:n,hangoutId:r}),M.memberLikesSet.delete(e.suggestion_id),e.likes_count--,R(),function(e){const t=e.querySelector(".rating-container span");if(!t)return;const n=t.textContent;if(!n||!Number.isInteger(+n))return;const o=+n;t.textContent=""+(o-1<0?0:o-1),e.classList.remove("like-pending","liked")}(t)}catch(e){if(console.log(e),t.classList.remove("like-pending"),!o.A.isAxiosError(e))return void(0,l.A)("Failed to unlike suggestion.","error");const n=e;if(!n.status||!n.response)return void(0,l.A)("Failed to unlike suggestion.","error");const r=n.status,a=n.response.data.message,s=n.response.data.reason;if(400===r)return void(0,l.A)("Failed to unlike suggestion.","error");if((0,l.A)(a,"error"),401===r){if("authSessionExpired"===s)return void(0,i.g)();"notHangoutMember"===s&&((0,l.A)(a,"error"),d.A.display(),setTimeout((()=>window.location.reload()),1e3))}}}(u,n):void await async function(e,t){if(!p.F.data)return void(0,l.A)("Failed to like suggestion.","error");if(M.memberLikesSet.has(e.suggestion_id))return;t.classList.add("like-pending");const{hangoutMemberId:n,hangoutId:r}=p.F.data;try{await(a={suggestionId:e.suggestion_id,hangoutMemberId:n,hangoutId:r},o.A.post(`${c}/likes`,a)),M.memberLikesSet.add(e.suggestion_id),e.likes_count++,R(),P(t)}catch(n){if(console.log(n),t.classList.remove("like-pending"),!o.A.isAxiosError(n))return void(0,l.A)("Failed to like suggestion.","error");const r=n;if(!r.status||!r.response)return void(0,l.A)("Failed to like suggestion.","error");const a=r.status,s=r.response.data.message,c=r.response.data.reason;if(400===a)return void(0,l.A)("Failed to like suggestion.","error");if((0,l.A)(s,"error"),409===a)return M.memberLikesSet.add(e.suggestion_id),void P(t);if(404===a)return M.suggestions=M.suggestions.filter((t=>t.suggestion_id!==e.suggestion_id)),e.hangout_member_id===p.F.data.hangoutMemberId&&p.F.data.suggestionsCount--,d.A.display(),O(),(0,m.Ew)(),void d.A.remove();if(401===a){if("authSessionExpired"===c)return void(0,i.g)();"notHangoutMember"===c&&((0,l.A)(s,"error"),d.A.display(),setTimeout((()=>window.location.reload()),1e3))}}var a}(u,n)}if(e.target.classList.contains("dropdown-menu-btn"))null===(t=e.target.parentElement)||void 0===t||t.classList.toggle("expanded");else if(e.target.classList.contains("delete-btn")){const{hangoutMemberId:e,isLeader:t}=p.F.data,s=u.hangout_member_id===e;if(!s&&!t)return void(0,l.A)("Can't delete other members' suggestions.","error");a.u.display({title:"Are you sure you want to delete this suggestion?",description:"Any likes or votes associated with it will be permanently lost.",confirmBtnTitle:"Delete suggestion",cancelBtnTitle:"Cancel",extraBtnTitle:s?"Edit suggestion":null,isDangerousAction:!0}).addEventListener("click",(async e=>{if(e.target instanceof HTMLButtonElement)return"confirm-modal-confirm-btn"===e.target.id?(a.u.remove(),s?void await async function(e,t){if(d.A.display(),!p.F.data)return(0,l.A)("Something went wrong.","error"),void d.A.remove();const{hangoutMemberId:n,hangoutId:a,hangoutDetails:s,suggestionsCount:u}=p.F.data,g=t.querySelector(".dropdown-menu");if(s.is_concluded)return(0,l.A)("Hangout has already been concluded.","error"),void d.A.remove();if(s.current_stage===r.Cb)return(0,l.A)("Hangout has not reached the suggestions stage yet.","error"),void d.A.remove();if(s.current_stage===r.wi)return(0,l.A)("Can't alter suggestions after hangout conclusion.","error"),void d.A.remove();try{await function(e){const{suggestionId:t,hangoutMemberId:n,hangoutId:i}=e;return o.A.delete(`${c}?suggestionId=${t}&hangoutMemberId=${n}&hangoutId=${i}`)}({suggestionId:e.suggestion_id,hangoutMemberId:n,hangoutId:a}),M.suggestions=M.suggestions.filter((t=>t.suggestion_id!==e.suggestion_id)),M.memberLikesSet.delete(e.suggestion_id),M.memberVotesSet.delete(e.suggestion_id),p.F.data.suggestionsCount=u-1<0?0:u-1,null==g||g.classList.remove("expanded"),O(),(0,l.A)("Suggestion deleted.","success"),d.A.remove()}catch(e){if(console.log(e),d.A.remove(),!o.A.isAxiosError(e))return void(0,l.A)("Something went wrong.","error");const t=e;if(!t.status||!t.response)return void(0,l.A)("Something went wrong.","error");const n=t.status,a=t.response.data.message,s=t.response.data.reason;if(400===n)return void(0,l.A)("Something went wrong.","error");if((0,l.A)(a,"error"),null==g||g.classList.remove("expanded"),404===n)return d.A.display(),void setTimeout((()=>window.location.reload()),1e3);if(409===n)return"inAvailabilityStage"===s?(p.F.data.hangoutDetails.current_stage=r.Cb,void(0,m.Ew)()):void("hangoutConcluded"===s&&(p.F.data.hangoutDetails.current_stage,r.wi,(0,m.Ew)()));if(401===n){if("authSessionExpired"===s)return void(0,i.g)();"authSessionDestroyed"===s&&(0,i.E)()}}}(u,n):void await async function(){}()):void("confirm-modal-cancel-btn"!==e.target.id?e.target.id:a.u.remove())}))}else;}}function P(e){const t=e.querySelector(".rating-container span");if(!t)return;const n=t.textContent;if(!n||!Number.isInteger(+n))return;const o=+n;t.textContent=`${o+1}`,e.classList.remove("like-pending"),e.classList.add("liked")}},1889:(e,t,n)=>{n.d(t,{X:()=>r});var o=n(7536);o.A.defaults.withCredentials=!0;const i="localhost"===window.location.hostname?`http://${window.location.hostname}:5000/api/auth`:`https://${window.location.hostname}/api/auth`;async function r(){return o.A.post(`${i}/signOut`)}},6263:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(7275),i=n(3119),r=n(7013),a=n(7960),s=n(4062);const d={http:i.A,xhr:r.A,fetch:a.A};o.A.forEach(d,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const l=e=>`- ${e}`,c=e=>o.A.isFunction(e)||null===e||!1===e,u={getAdapter:e=>{e=o.A.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let o=0;o<t;o++){let t;if(n=e[o],i=n,!c(n)&&(i=d[(t=String(n)).toLowerCase()],void 0===i))throw new s.A(`Unknown adapter '${t}'`);if(i)break;r[t||"#"+o]=i}if(!i){const e=Object.entries(r).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(l).join("\n"):" "+l(e[0]):"as no adapter specified";throw new s.A("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i},adapters:d}},7960:(e,t,n)=>{n.d(t,{A:()=>S});var o=n(3820),i=n(7275),r=n(4062),a=n(2723),s=n(1791),d=n(7110),l=n(7837),c=n(8382),u=n(3853);const m="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,p=m&&"function"==typeof ReadableStream,g=m&&("function"==typeof TextEncoder?(f=new TextEncoder,e=>f.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var f;const h=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},v=p&&h((()=>{let e=!1;const t=new Request(o.A.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),A=p&&h((()=>i.A.isReadableStream(new Response("").body))),y={stream:A&&(e=>e.body)};var b;m&&(b=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!y[e]&&(y[e]=i.A.isFunction(b[e])?t=>t[e]():(t,n)=>{throw new r.A(`Response type '${e}' is not supported`,r.A.ERR_NOT_SUPPORT,n)})})));const w=async(e,t)=>{const n=i.A.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(i.A.isBlob(e))return e.size;if(i.A.isSpecCompliantForm(e)){const t=new Request(o.A.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return i.A.isArrayBufferView(e)||i.A.isArrayBuffer(e)?e.byteLength:(i.A.isURLSearchParams(e)&&(e+=""),i.A.isString(e)?(await g(e)).byteLength:void 0)})(t):n},S=m&&(async e=>{let{url:t,method:n,data:o,signal:m,cancelToken:p,timeout:g,onDownloadProgress:f,onUploadProgress:h,responseType:b,headers:S,withCredentials:E="same-origin",fetchOptions:C}=(0,c.A)(e);b=b?(b+"").toLowerCase():"text";let T,L=(0,a.A)([m,p&&p.toAbortSignal()],g);const _=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let x;try{if(h&&v&&"get"!==n&&"head"!==n&&0!==(x=await w(S,o))){let e,n=new Request(t,{method:"POST",body:o,duplex:"half"});if(i.A.isFormData(o)&&(e=n.headers.get("content-type"))&&S.setContentType(e),n.body){const[e,t]=(0,l.Vj)(x,(0,l.C1)((0,l.mM)(h)));o=(0,s.E9)(n.body,65536,e,t)}}i.A.isString(E)||(E=E?"include":"omit");const r="credentials"in Request.prototype;T=new Request(t,{...C,signal:L,method:n.toUpperCase(),headers:S.normalize().toJSON(),body:o,duplex:"half",credentials:r?E:void 0});let a=await fetch(T);const c=A&&("stream"===b||"response"===b);if(A&&(f||c&&_)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=i.A.toFiniteNumber(a.headers.get("content-length")),[n,o]=f&&(0,l.Vj)(t,(0,l.C1)((0,l.mM)(f),!0))||[];a=new Response((0,s.E9)(a.body,65536,n,(()=>{o&&o(),_&&_()})),e)}b=b||"text";let m=await y[i.A.findKey(y,b)||"text"](a,e);return!c&&_&&_(),await new Promise(((t,n)=>{(0,u.A)(t,n,{data:m,headers:d.A.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:T})}))}catch(t){if(_&&_(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new r.A("Network Error",r.A.ERR_NETWORK,e,T),{cause:t.cause||t});throw r.A.from(t,t&&t.code,e,T)}})},7013:(e,t,n)=>{n.d(t,{A:()=>p});var o=n(7275),i=n(3853),r=n(807),a=n(4062),s=n(8458),d=n(5579),l=n(3820),c=n(7110),u=n(7837),m=n(8382);const p="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const p=(0,m.A)(e);let g=p.data;const f=c.A.from(p.headers).normalize();let h,v,A,y,b,{responseType:w,onUploadProgress:S,onDownloadProgress:E}=p;function C(){y&&y(),b&&b(),p.cancelToken&&p.cancelToken.unsubscribe(h),p.signal&&p.signal.removeEventListener("abort",h)}let T=new XMLHttpRequest;function L(){if(!T)return;const o=c.A.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),r={data:w&&"text"!==w&&"json"!==w?T.response:T.responseText,status:T.status,statusText:T.statusText,headers:o,config:e,request:T};(0,i.A)((function(e){t(e),C()}),(function(e){n(e),C()}),r),T=null}T.open(p.method.toUpperCase(),p.url,!0),T.timeout=p.timeout,"onloadend"in T?T.onloadend=L:T.onreadystatechange=function(){T&&4===T.readyState&&(0!==T.status||T.responseURL&&0===T.responseURL.indexOf("file:"))&&setTimeout(L)},T.onabort=function(){T&&(n(new a.A("Request aborted",a.A.ECONNABORTED,e,T)),T=null)},T.onerror=function(){n(new a.A("Network Error",a.A.ERR_NETWORK,e,T)),T=null},T.ontimeout=function(){let t=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded";const o=p.transitional||r.A;p.timeoutErrorMessage&&(t=p.timeoutErrorMessage),n(new a.A(t,o.clarifyTimeoutError?a.A.ETIMEDOUT:a.A.ECONNABORTED,e,T)),T=null},void 0===g&&f.setContentType(null),"setRequestHeader"in T&&o.A.forEach(f.toJSON(),(function(e,t){T.setRequestHeader(t,e)})),o.A.isUndefined(p.withCredentials)||(T.withCredentials=!!p.withCredentials),w&&"json"!==w&&(T.responseType=p.responseType),E&&([A,b]=(0,u.C1)(E,!0),T.addEventListener("progress",A)),S&&T.upload&&([v,y]=(0,u.C1)(S),T.upload.addEventListener("progress",v),T.upload.addEventListener("loadend",y)),(p.cancelToken||p.signal)&&(h=t=>{T&&(n(!t||t.type?new s.A(null,e,T):t),T.abort(),T=null)},p.cancelToken&&p.cancelToken.subscribe(h),p.signal&&(p.signal.aborted?h():p.signal.addEventListener("abort",h)));const _=(0,d.A)(p.url);_&&-1===l.A.protocols.indexOf(_)?n(new a.A("Unsupported protocol "+_+":",a.A.ERR_BAD_REQUEST,e)):T.send(g||null)}))}},7536:(e,t,n)=>{n.d(t,{A:()=>w});var o=n(7275),i=n(2125),r=n(5978),a=n(4662),s=n(6013),d=n(7887),l=n(8458),c=n(4874),u=n(9575),m=n(9888),p=n(665),g=n(4062),f=n(605),h=n(8562),v=n(7110),A=n(6263),y=n(7693);const b=function e(t){const n=new r.A(t),s=(0,i.A)(r.A.prototype.request,n);return o.A.extend(s,r.A.prototype,n,{allOwnKeys:!0}),o.A.extend(s,n,null,{allOwnKeys:!0}),s.create=function(n){return e((0,a.A)(t,n))},s}(s.A);b.Axios=r.A,b.CanceledError=l.A,b.CancelToken=c.A,b.isCancel=u.A,b.VERSION=m.x,b.toFormData=p.A,b.AxiosError=g.A,b.Cancel=b.CanceledError,b.all=function(e){return Promise.all(e)},b.spread=f.A,b.isAxiosError=h.A,b.mergeConfig=a.A,b.AxiosHeaders=v.A,b.formToJSON=e=>(0,d.A)(o.A.isHTMLForm(e)?new FormData(e):e),b.getAdapter=A.A.getAdapter,b.HttpStatusCode=y.A,b.default=b;const w=b},4874:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(8458);class i{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const o=new Promise((e=>{n.subscribe(e),t=e})).then(e);return o.cancel=function(){n.unsubscribe(t)},o},e((function(e,i,r){n.reason||(n.reason=new o.A(e,i,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new i((function(t){e=t})),cancel:e}}}const r=i},8458:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(4062);function i(e,t,n){o.A.call(this,null==e?"canceled":e,o.A.ERR_CANCELED,t,n),this.name="CanceledError"}n(7275).A.inherits(i,o.A,{__CANCEL__:!0});const r=i},9575:(e,t,n)=>{function o(e){return!(!e||!e.__CANCEL__)}n.d(t,{A:()=>o})},5978:(e,t,n)=>{n.d(t,{A:()=>p});var o=n(7275),i=n(3967),r=n(7352),a=n(8683),s=n(4662),d=n(8262),l=n(3390),c=n(7110);const u=l.A.validators;class m{constructor(e){this.defaults=e,this.interceptors={request:new r.A,response:new r.A}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=(0,s.A)(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&l.A.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1),null!=i&&(o.A.isFunction(i)?t.paramsSerializer={serialize:i}:l.A.assertOptions(i,{encode:u.function,serialize:u.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let d=r&&o.A.merge(r.common,r[t.method]);r&&o.A.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=c.A.concat(d,r);const m=[];let p=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(p=p&&e.synchronous,m.unshift(e.fulfilled,e.rejected))}));const g=[];let f;this.interceptors.response.forEach((function(e){g.push(e.fulfilled,e.rejected)}));let h,v=0;if(!p){const e=[a.A.bind(this),void 0];for(e.unshift.apply(e,m),e.push.apply(e,g),h=e.length,f=Promise.resolve(t);v<h;)f=f.then(e[v++],e[v++]);return f}h=m.length;let A=t;for(v=0;v<h;){const e=m[v++],t=m[v++];try{A=e(A)}catch(e){t.call(this,e);break}}try{f=a.A.call(this,A)}catch(e){return Promise.reject(e)}for(v=0,h=g.length;v<h;)f=f.then(g[v++],g[v++]);return f}getUri(e){e=(0,s.A)(this.defaults,e);const t=(0,d.A)(e.baseURL,e.url);return(0,i.A)(t,e.params,e.paramsSerializer)}}o.A.forEach(["delete","get","head","options"],(function(e){m.prototype[e]=function(t,n){return this.request((0,s.A)(n||{},{method:e,url:t,data:(n||{}).data}))}})),o.A.forEach(["post","put","patch"],(function(e){function t(t){return function(n,o,i){return this.request((0,s.A)(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}m.prototype[e]=t(),m.prototype[e+"Form"]=t(!0)}));const p=m},4062:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(7275);function i(e,t,n,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}o.A.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:o.A.toJSONObject(this.config),code:this.code,status:this.status}}});const r=i.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{a[e]={value:e}})),Object.defineProperties(i,a),Object.defineProperty(r,"isAxiosError",{value:!0}),i.from=(e,t,n,a,s,d)=>{const l=Object.create(r);return o.A.toFlatObject(e,l,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),i.call(l,e.message,t,n,a,s),l.cause=e,l.name=e.name,d&&Object.assign(l,d),l};const s=i},7110:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(7275),i=n(3325);const r=Symbol("internals");function a(e){return e&&String(e).trim().toLowerCase()}function s(e){return!1===e||null==e?e:o.A.isArray(e)?e.map(s):String(e)}function d(e,t,n,i,r){return o.A.isFunction(i)?i.call(this,t,n):(r&&(t=n),o.A.isString(t)?o.A.isString(i)?-1!==t.indexOf(i):o.A.isRegExp(i)?i.test(t):void 0:void 0)}class l{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function d(e,t,n){const i=a(t);if(!i)throw new Error("header name must be a non-empty string");const d=o.A.findKey(r,i);(!d||void 0===r[d]||!0===n||void 0===n&&!1!==r[d])&&(r[d||t]=s(e))}const l=(e,t)=>o.A.forEach(e,((e,n)=>d(e,n,t)));if(o.A.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(o.A.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))l((0,i.A)(e),t);else if(o.A.isHeaders(e))for(const[t,o]of e.entries())d(o,t,n);else null!=e&&d(t,e,n);return this}get(e,t){if(e=a(e)){const n=o.A.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}(e);if(o.A.isFunction(t))return t.call(this,e,n);if(o.A.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=a(e)){const n=o.A.findKey(this,e);return!(!n||void 0===this[n]||t&&!d(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=a(e)){const r=o.A.findKey(n,e);!r||t&&!d(0,n[r],r,t)||(delete n[r],i=!0)}}return o.A.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,o=!1;for(;n--;){const i=t[n];e&&!d(0,this[i],i,e,!0)||(delete this[i],o=!0)}return o}normalize(e){const t=this,n={};return o.A.forEach(this,((i,r)=>{const a=o.A.findKey(n,r);if(a)return t[a]=s(i),void delete t[r];const d=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();d!==r&&delete t[r],t[d]=s(i),n[d]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return o.A.forEach(this,((n,i)=>{null!=n&&!1!==n&&(t[i]=e&&o.A.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[r]=this[r]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=a(e);t[i]||(!function(e,t){const n=o.A.toCamelCase(" "+t);["get","set","has"].forEach((o=>{Object.defineProperty(e,o+n,{value:function(e,n,i){return this[o].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[i]=!0)}return o.A.isArray(e)?e.forEach(i):i(e),this}}l.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),o.A.reduceDescriptors(l.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),o.A.freezeMethods(l);const c=l},7352:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(7275);const i=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){o.A.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}},8262:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(9034),i=n(6787);function r(e,t){return e&&!(0,o.A)(t)?(0,i.A)(e,t):t}},8683:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(9152),i=n(9575),r=n(6013),a=n(8458),s=n(7110),d=n(6263);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a.A(null,e)}function c(e){l(e),e.headers=s.A.from(e.headers),e.data=o.A.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return d.A.getAdapter(e.adapter||r.A.adapter)(e).then((function(t){return l(e),t.data=o.A.call(e,e.transformResponse,t),t.headers=s.A.from(t.headers),t}),(function(t){return(0,i.A)(t)||(l(e),t&&t.response&&(t.response.data=o.A.call(e,e.transformResponse,t.response),t.response.headers=s.A.from(t.response.headers))),Promise.reject(t)}))}},4662:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(7275),i=n(7110);const r=e=>e instanceof i.A?{...e}:e;function a(e,t){t=t||{};const n={};function i(e,t,n){return o.A.isPlainObject(e)&&o.A.isPlainObject(t)?o.A.merge.call({caseless:n},e,t):o.A.isPlainObject(t)?o.A.merge({},t):o.A.isArray(t)?t.slice():t}function a(e,t,n){return o.A.isUndefined(t)?o.A.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}function s(e,t){if(!o.A.isUndefined(t))return i(void 0,t)}function d(e,t){return o.A.isUndefined(t)?o.A.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function l(n,o,r){return r in t?i(n,o):r in e?i(void 0,n):void 0}const c={url:s,method:s,data:s,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:l,headers:(e,t)=>a(r(e),r(t),!0)};return o.A.forEach(Object.keys(Object.assign({},e,t)),(function(i){const r=c[i]||a,s=r(e[i],t[i],i);o.A.isUndefined(s)&&r!==l||(n[i]=s)})),n}},3853:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(4062);function i(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new o.A("Request failed with status code "+n.status,[o.A.ERR_BAD_REQUEST,o.A.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},9152:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(7275),i=n(6013),r=n(7110);function a(e,t){const n=this||i.A,a=t||n,s=r.A.from(a.headers);let d=a.data;return o.A.forEach(e,(function(e){d=e.call(n,d,s.normalize(),t?t.status:void 0)})),s.normalize(),d}},6013:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(7275),i=n(4062),r=n(807),a=n(665),s=n(1076),d=n(3820),l=n(7887);const c={transitional:r.A,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=o.A.isObject(e);r&&o.A.isHTMLForm(e)&&(e=new FormData(e));if(o.A.isFormData(e))return i?JSON.stringify((0,l.A)(e)):e;if(o.A.isArrayBuffer(e)||o.A.isBuffer(e)||o.A.isStream(e)||o.A.isFile(e)||o.A.isBlob(e)||o.A.isReadableStream(e))return e;if(o.A.isArrayBufferView(e))return e.buffer;if(o.A.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return(0,s.A)(e,this.formSerializer).toString();if((d=o.A.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return(0,a.A)(d?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(o.A.isString(e))try{return(t||JSON.parse)(e),o.A.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||c.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(o.A.isResponse(e)||o.A.isReadableStream(e))return e;if(e&&o.A.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw i.A.from(e,i.A.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:d.A.classes.FormData,Blob:d.A.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};o.A.forEach(["delete","get","head","post","put","patch"],(e=>{c.headers[e]={}}));const u=c},807:(e,t,n)=>{n.d(t,{A:()=>o});const o={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},9888:(e,t,n)=>{n.d(t,{x:()=>o});const o="1.7.7"},5267:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(665);function i(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function r(e,t){this._pairs=[],e&&(0,o.A)(e,this,t)}const a=r.prototype;a.append=function(e,t){this._pairs.push([e,t])},a.toString=function(e){const t=e?function(t){return e.call(this,t,i)}:i;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const s=r},7693:(e,t,n)=>{n.d(t,{A:()=>i});const o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(o).forEach((([e,t])=>{o[t]=e}));const i=o},2125:(e,t,n)=>{function o(e,t){return function(){return e.apply(t,arguments)}}n.d(t,{A:()=>o})},3967:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(7275),i=n(5267);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function a(e,t,n){if(!t)return e;const a=n&&n.encode||r,s=n&&n.serialize;let d;if(d=s?s(t,n):o.A.isURLSearchParams(t)?t.toString():new i.A(t,n).toString(a),d){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+d}return e}},6787:(e,t,n)=>{function o(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}n.d(t,{A:()=>o})},2723:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(8458),i=n(4062),r=n(7275);const a=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const s=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;a.abort(t instanceof i.A?t:new o.A(t instanceof Error?t.message:t))}};let d=t&&setTimeout((()=>{d=null,s(new i.A(`timeout ${t} of ms exceeded`,i.A.ETIMEDOUT))}),t);const l=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:c}=a;return c.unsubscribe=()=>r.A.asap(l),c}}},9887:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(7275);const i=n(3820).A.hasStandardBrowserEnv?{write(e,t,n,i,r,a){const s=[e+"="+encodeURIComponent(t)];o.A.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),o.A.isString(i)&&s.push("path="+i),o.A.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}}},7887:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(7275);const i=function(e){function t(e,n,i,r){let a=e[r++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),d=r>=e.length;if(a=!a&&o.A.isArray(i)?i.length:a,d)return o.A.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!s;i[a]&&o.A.isObject(i[a])||(i[a]=[]);return t(e,n,i[a],r)&&o.A.isArray(i[a])&&(i[a]=function(e){const t={},n=Object.keys(e);let o;const i=n.length;let r;for(o=0;o<i;o++)r=n[o],t[r]=e[r];return t}(i[a])),!s}if(o.A.isFormData(e)&&o.A.isFunction(e.entries)){const n={};return o.A.forEachEntry(e,((e,i)=>{t(function(e){return o.A.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,n,0)})),n}return null}},9034:(e,t,n)=>{function o(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}n.d(t,{A:()=>o})},8562:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(7275);function i(e){return o.A.isObject(e)&&!0===e.isAxiosError}},6305:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(7275),i=n(3820);const r=i.A.hasStandardBrowserEnv?function(){const e=i.A.navigator&&/(msie|trident)/i.test(i.A.navigator.userAgent),t=document.createElement("a");let n;function r(n){let o=n;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=o.A.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0}},3119:(e,t,n)=>{n.d(t,{A:()=>o});const o=null},3325:(e,t,n)=>{n.d(t,{A:()=>i});const o=n(7275).A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i=e=>{const t={};let n,i,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&o[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t}},5579:(e,t,n)=>{function o(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}n.d(t,{A:()=>o})},7837:(e,t,n)=>{n.d(t,{C1:()=>a,Vj:()=>s,mM:()=>d});var o=n(3873),i=n(66),r=n(7275);const a=(e,t,n=3)=>{let r=0;const a=(0,o.A)(50,250);return(0,i.A)((n=>{const o=n.loaded,i=n.lengthComputable?n.total:void 0,s=o-r,d=a(s);r=o;e({loaded:o,total:i,progress:i?o/i:void 0,bytes:s,rate:d||void 0,estimated:d&&i&&o<=i?(i-o)/d:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},s=(e,t)=>{const n=null!=e;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},d=e=>(...t)=>r.A.asap((()=>e(...t)))},8382:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(3820),i=n(7275),r=n(6305),a=n(9887),s=n(8262),d=n(4662),l=n(7110),c=n(3967);const u=e=>{const t=(0,d.A)({},e);let n,{data:u,withXSRFToken:m,xsrfHeaderName:p,xsrfCookieName:g,headers:f,auth:h}=t;if(t.headers=f=l.A.from(f),t.url=(0,c.A)((0,s.A)(t.baseURL,t.url),e.params,e.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),i.A.isFormData(u))if(o.A.hasStandardBrowserEnv||o.A.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(!1!==(n=f.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];f.setContentType([e||"multipart/form-data",...t].join("; "))}if(o.A.hasStandardBrowserEnv&&(m&&i.A.isFunction(m)&&(m=m(t)),m||!1!==m&&(0,r.A)(t.url))){const e=p&&g&&a.A.read(g);e&&f.set(p,e)}return t}},3873:(e,t,n)=>{n.d(t,{A:()=>o});const o=function(e,t){e=e||10;const n=new Array(e),o=new Array(e);let i,r=0,a=0;return t=void 0!==t?t:1e3,function(s){const d=Date.now(),l=o[a];i||(i=d),n[r]=s,o[r]=d;let c=a,u=0;for(;c!==r;)u+=n[c++],c%=e;if(r=(r+1)%e,r===a&&(a=(a+1)%e),d-i<t)return;const m=l&&d-l;return m?Math.round(1e3*u/m):void 0}}},605:(e,t,n)=>{function o(e){return function(t){return e.apply(null,t)}}n.d(t,{A:()=>o})},66:(e,t,n)=>{n.d(t,{A:()=>o});const o=function(e,t){let n,o,i=0,r=1e3/t;const a=(t,r=Date.now())=>{i=r,n=null,o&&(clearTimeout(o),o=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),s=t-i;s>=r?a(e,t):(n=e,o||(o=setTimeout((()=>{o=null,a(n)}),r-s)))},()=>n&&a(n)]}},665:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(7275),i=n(4062),r=n(3119);function a(e){return o.A.isPlainObject(e)||o.A.isArray(e)}function s(e){return o.A.endsWith(e,"[]")?e.slice(0,-2):e}function d(e,t,n){return e?e.concat(t).map((function(e,t){return e=s(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const l=o.A.toFlatObject(o.A,{},null,(function(e){return/^is[A-Z]/.test(e)}));const c=function(e,t,n){if(!o.A.isObject(e))throw new TypeError("target must be an object");t=t||new(r.A||FormData);const c=(n=o.A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!o.A.isUndefined(t[e])}))).metaTokens,u=n.visitor||h,m=n.dots,p=n.indexes,g=(n.Blob||"undefined"!=typeof Blob&&Blob)&&o.A.isSpecCompliantForm(t);if(!o.A.isFunction(u))throw new TypeError("visitor must be a function");function f(e){if(null===e)return"";if(o.A.isDate(e))return e.toISOString();if(!g&&o.A.isBlob(e))throw new i.A("Blob is not supported. Use a Buffer instead.");return o.A.isArrayBuffer(e)||o.A.isTypedArray(e)?g&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function h(e,n,i){let r=e;if(e&&!i&&"object"==typeof e)if(o.A.endsWith(n,"{}"))n=c?n:n.slice(0,-2),e=JSON.stringify(e);else if(o.A.isArray(e)&&function(e){return o.A.isArray(e)&&!e.some(a)}(e)||(o.A.isFileList(e)||o.A.endsWith(n,"[]"))&&(r=o.A.toArray(e)))return n=s(n),r.forEach((function(e,i){!o.A.isUndefined(e)&&null!==e&&t.append(!0===p?d([n],i,m):null===p?n:n+"[]",f(e))})),!1;return!!a(e)||(t.append(d(i,n,m),f(e)),!1)}const v=[],A=Object.assign(l,{defaultVisitor:h,convertValue:f,isVisitable:a});if(!o.A.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!o.A.isUndefined(n)){if(-1!==v.indexOf(n))throw Error("Circular reference detected in "+i.join("."));v.push(n),o.A.forEach(n,(function(n,r){!0===(!(o.A.isUndefined(n)||null===n)&&u.call(t,n,o.A.isString(r)?r.trim():r,i,A))&&e(n,i?i.concat(r):[r])})),v.pop()}}(e),t}},1076:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(7275),i=n(665),r=n(3820);function a(e,t){return(0,i.A)(e,new r.A.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return r.A.isNode&&o.A.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}},1791:(e,t,n)=>{n.d(t,{E9:()=>r});const o=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let o,i=0;for(;i<n;)o=i+t,yield e.slice(i,o),i=o},i=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},r=(e,t,n,r)=>{const a=async function*(e,t){for await(const n of i(e))yield*o(n,t)}(e,t);let s,d=0,l=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:o}=await a.next();if(t)return l(),void e.close();let i=o.byteLength;if(n){let e=d+=i;n(e)}e.enqueue(new Uint8Array(o))}catch(e){throw l(e),e}},cancel:e=>(l(e),a.return())},{highWaterMark:2})}},3390:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(9888),i=n(4062);const r={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const a={};r.transitional=function(e,t,n){function r(e,t){return"[Axios v"+o.x+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,s)=>{if(!1===e)throw new i.A(r(o," has been removed"+(t?" in "+t:"")),i.A.ERR_DEPRECATED);return t&&!a[o]&&(a[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,s)}};const s={assertOptions:function(e,t,n){if("object"!=typeof e)throw new i.A("options must be an object",i.A.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let r=o.length;for(;r-- >0;){const a=o[r],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new i.A("option "+a+" must be "+n,i.A.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i.A("Unknown option "+a,i.A.ERR_BAD_OPTION)}},validators:r}},6501:(e,t,n)=>{n.d(t,{A:()=>o});const o="undefined"!=typeof Blob?Blob:null},8556:(e,t,n)=>{n.d(t,{A:()=>o});const o="undefined"!=typeof FormData?FormData:null},139:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(5267);const i="undefined"!=typeof URLSearchParams?URLSearchParams:o.A},6847:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(139),i=n(8556),r=n(6501);const a={isBrowser:!0,classes:{URLSearchParams:o.A,FormData:i.A,Blob:r.A},protocols:["http","https","file","blob","url","data"]}},2569:(e,t,n)=>{n.r(t),n.d(t,{hasBrowserEnv:()=>o,hasStandardBrowserEnv:()=>r,hasStandardBrowserWebWorkerEnv:()=>a,navigator:()=>i,origin:()=>s});const o="undefined"!=typeof window&&"undefined"!=typeof document,i="object"==typeof navigator&&navigator||void 0,r=o&&(!i||["ReactNative","NativeScript","NS"].indexOf(i.product)<0),a="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,s=o&&window.location.href||"http://localhost"},3820:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(6847);const i={...n(2569),...o.A}},7275:(e,t,n)=>{n.d(t,{A:()=>V});var o=n(2125);const{toString:i}=Object.prototype,{getPrototypeOf:r}=Object,a=(s=Object.create(null),e=>{const t=i.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())});var s;const d=e=>(e=e.toLowerCase(),t=>a(t)===e),l=e=>t=>typeof t===e,{isArray:c}=Array,u=l("undefined");const m=d("ArrayBuffer");const p=l("string"),g=l("function"),f=l("number"),h=e=>null!==e&&"object"==typeof e,v=e=>{if("object"!==a(e))return!1;const t=r(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},A=d("Date"),y=d("File"),b=d("Blob"),w=d("FileList"),S=d("URLSearchParams"),[E,C,T,L]=["ReadableStream","Request","Response","Headers"].map(d);function _(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let o,i;if("object"!=typeof e&&(e=[e]),c(e))for(o=0,i=e.length;o<i;o++)t.call(null,e[o],o,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),r=i.length;let a;for(o=0;o<r;o++)a=i[o],t.call(null,e[a],a,e)}}function x(e,t){t=t.toLowerCase();const n=Object.keys(e);let o,i=n.length;for(;i-- >0;)if(o=n[i],t===o.toLowerCase())return o;return null}const k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,F=e=>!u(e)&&e!==k;const M=(D="undefined"!=typeof Uint8Array&&r(Uint8Array),e=>D&&e instanceof D);var D;const I=d("HTMLFormElement"),q=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),O=d("RegExp"),R=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};_(n,((n,i)=>{let r;!1!==(r=t(n,i,e))&&(o[i]=r||n)})),Object.defineProperties(e,o)},N="abcdefghijklmnopqrstuvwxyz",P="0123456789",$={DIGIT:P,ALPHA:N,ALPHA_DIGIT:N+N.toUpperCase()+P};const B=d("AsyncFunction"),j=(H="function"==typeof setImmediate,U=g(k.postMessage),H?setImmediate:U?(J=`axios@${Math.random()}`,W=[],k.addEventListener("message",(({source:e,data:t})=>{e===k&&t===J&&W.length&&W.shift()()}),!1),e=>{W.push(e),k.postMessage(J,"*")}):e=>setTimeout(e));var H,U,J,W;const Y="undefined"!=typeof queueMicrotask?queueMicrotask.bind(k):"undefined"!=typeof process&&process.nextTick||j,V={isArray:c,isArrayBuffer:m,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||g(e.append)&&("formdata"===(t=a(e))||"object"===t&&g(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&m(e.buffer),t},isString:p,isNumber:f,isBoolean:e=>!0===e||!1===e,isObject:h,isPlainObject:v,isReadableStream:E,isRequest:C,isResponse:T,isHeaders:L,isUndefined:u,isDate:A,isFile:y,isBlob:b,isRegExp:O,isFunction:g,isStream:e=>h(e)&&g(e.pipe),isURLSearchParams:S,isTypedArray:M,isFileList:w,forEach:_,merge:function e(){const{caseless:t}=F(this)&&this||{},n={},o=(o,i)=>{const r=t&&x(n,i)||i;v(n[r])&&v(o)?n[r]=e(n[r],o):v(o)?n[r]=e({},o):c(o)?n[r]=o.slice():n[r]=o};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&_(arguments[e],o);return n},extend:(e,t,n,{allOwnKeys:i}={})=>(_(t,((t,i)=>{n&&g(t)?e[i]=(0,o.A)(t,n):e[i]=t}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,o)=>{let i,a,s;const d={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],o&&!o(s,e,t)||d[s]||(t[s]=e[s],d[s]=!0);e=!1!==n&&r(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:d,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return-1!==o&&o===n},toArray:e=>{if(!e)return null;if(c(e))return e;let t=e.length;if(!f(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=n.next())&&!o.done;){const n=o.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const o=[];for(;null!==(n=e.exec(t));)o.push(n);return o},isHTMLForm:I,hasOwnProperty:q,hasOwnProp:q,reduceDescriptors:R,freezeMethods:e=>{R(e,((t,n)=>{if(g(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const o=e[n];g(o)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},o=e=>{e.forEach((e=>{n[e]=!0}))};return c(e)?o(e):o(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:x,global:k,isContextDefined:F,ALPHABET:$,generateString:(e=16,t=$.ALPHA_DIGIT)=>{let n="";const{length:o}=t;for(;e--;)n+=t[Math.random()*o|0];return n},isSpecCompliantForm:function(e){return!!(e&&g(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,o)=>{if(h(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[o]=e;const i=c(e)?[]:{};return _(e,((e,t)=>{const r=n(e,o+1);!u(r)&&(i[t]=r)})),t[o]=void 0,i}}return e};return n(e,0)},isAsyncFn:B,isThenable:e=>e&&(h(e)||g(e))&&g(e.then)&&g(e.catch),setImmediate:j,asap:Y}}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return i[e](n,n.exports,a),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a.a=(i,r,a)=>{var s;a&&((s=[]).d=-1);var d,l,c,u=new Set,m=i.exports,p=new Promise(((e,t)=>{c=t,l=e}));p[t]=m,p[e]=e=>(s&&e(s),u.forEach(e),p.catch((e=>{}))),i.exports=p,r((i=>{var r;d=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[e])return i;if(i.then){var r=[];r.d=0,i.then((e=>{a[t]=e,o(r)}),(e=>{a[n]=e,o(r)}));var a={};return a[e]=e=>e(r),a}}var s={};return s[e]=e=>{},s[t]=i,s})))(i);var a=()=>d.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(r=()=>t(a)).r=0;var n=e=>e!==s&&!u.has(e)&&(u.add(e),e&&!e.d&&(r.r++,e.push(r)));d.map((t=>t[e](n)))}));return r.r?l:a()}),(e=>(e?c(p[n]=e):l(m),o(s)))),s&&s.d<0&&(s.d=0)},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};a(6072)})();