(()=>{"use strict";function e(){!function(){const e=localStorage.getItem("darkTheme");if(!e||!JSON.parse(e))return document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),void i("light");document.documentElement.classList.add("dark"),i("dark")}();const e=document.querySelector("#theme-switcher");null==e||e.addEventListener("click",n),null==e||e.addEventListener("keyup",t)}function t(e){"Enter"===e.key&&n()}function n(){const e=localStorage.getItem("darkTheme");if(!(e?JSON.parse(e):null))return document.documentElement.classList.add("dark"),localStorage.setItem("darkTheme",JSON.stringify(!0)),void i("dark");document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme",JSON.stringify(!1)),i("light")}function i(e){const t=document.querySelector("#theme-switcher");"dark"!==e?null==t||t.classList.remove("dark-theme"):null==t||t.classList.add("dark-theme")}class o{static get(e){const t=this.createCookieMap().get(e);if(t)return t}static set(e,t,n){this.isEmptyString(e)||this.isEmptyString(t)||(document.cookie=n?`${e}=${t}; max-age=${n}; path=/; Secure`:`${e}=${t}; path=/; Secure`)}static remove(e){this.isEmptyString(e)||(document.cookie=`${e}=; max-age=0`)}static createCookieMap(){const e=document.cookie,t=new Map;if(!e)return t;const n=e.split("; ");for(const e of n){const n=e.split("=")[0],i=e.split("=")[1];t.set(n,i)}return t}static isEmptyString(e){return!e||""===e.trim()}}function s(){const e=document.querySelector("#account-list-btn"),t=document.querySelector("#account-list-container");if(null==e?void 0:e.classList.contains("expanded"))return null==e||e.classList.remove("expanded"),void requestAnimationFrame((()=>{requestAnimationFrame((()=>{t&&(t.style.opacity="0")}))}));null==e||e.classList.add("expanded"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{t&&(t.style.opacity="1")}))}))}const r=document.querySelector("#test");null==r||r.addEventListener("click",(()=>{console.log(!0)}));const l={leaderName:"",leaderPassword:"",availabilityPeriod:1,suggestionsPeriod:1,votingPeriod:1,dateTimestamp:0,dateText:"",timeSlots:[]};class a{constructor(e,t,n){var i,o,s;this.inputID=e,t>=0&&n>t?(this.sliderMinValue=t,this.sliderMaxValue=n):(this.sliderMinValue=0,this.sliderMaxValue=1),this.actualInput=document.querySelector(`#${e}`),this.slider=document.querySelector(`[data-slider-target="${e}"]`),this.sliderThumb=null===(o=null===(i=this.slider)||void 0===i?void 0:i.firstElementChild)||void 0===o?void 0:o.firstElementChild,this.sliderTextSpan=document.querySelector(`[data-slider-text="${e}"]`),this.sliderDomRect=null===(s=this.slider)||void 0===s?void 0:s.getBoundingClientRect(),this.isDragging=!1,this.isTouchDevice=!1,this.sliderValue=this.sliderMinValue,this.loadEventListeners()}get value(){return this.sliderValue}loadEventListeners(){var e,t,n;window.addEventListener("resize",this.updateSliderDomRect.bind(this)),"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0&&(this.isTouchDevice=!0),this.isTouchDevice?null===(e=this.slider)||void 0===e||e.addEventListener("touchstart",this.startDrag.bind(this),{passive:!0}):(null===(t=this.slider)||void 0===t||t.addEventListener("mousedown",this.startDrag.bind(this)),null===(n=this.slider)||void 0===n||n.addEventListener("keyup",this.handleSliderKeyEvents.bind(this)))}startDrag(){if(this.isDragging=!0,document.body.style.userSelect="none",this.isTouchDevice)return document.body.addEventListener("touchmove",this.dragSlider.bind(this),{passive:!0}),void document.body.addEventListener("touchend",this.stopDrag.bind(this),{passive:!0});document.body.addEventListener("mousemove",this.dragSlider.bind(this)),document.body.addEventListener("mouseup",this.stopDrag.bind(this))}dragSlider(e){if(!this.isDragging)return;if(!this.sliderDomRect)return;let t;if(e instanceof MouseEvent)t=e.clientX;else{t=e.touches[0].clientX}const n=t-this.sliderDomRect.left,i=Math.min(n,this.sliderDomRect.width)/this.sliderDomRect.width*100+4|0;this.updateSliderValues(i)}stopDrag(){if(this.isDragging=!1,document.body.style.userSelect="auto",this.isTouchDevice)return document.body.removeEventListener("touchmove",this.dragSlider),void document.body.removeEventListener("touchend",this.stopDrag);document.body.removeEventListener("mousemove",this.dragSlider),document.body.removeEventListener("mousemove",this.stopDrag)}updateSliderDomRect(){var e;this.sliderDomRect=null===(e=this.slider)||void 0===e?void 0:e.getBoundingClientRect()}updateSliderValues(e){var t;if(!(this.sliderThumb instanceof HTMLDivElement))return;this.sliderThumb.style.width=`${e}%`;const n=e/(100/this.sliderMaxValue)|0;this.sliderValue=Math.max(1,n),this.updateSliderTextValue(),null===(t=this.actualInput)||void 0===t||t.setAttribute("value",`${this.sliderValue}`)}dispatchSliderUpdatedEvent(){const e={id:this.inputID,value:this.sliderValue},t=new CustomEvent("sliderUpdated",{detail:e});window.dispatchEvent(t)}updateSliderTextValue(){this.sliderTextSpan&&(1!==this.sliderValue?this.sliderTextSpan.textContent=`${this.sliderValue} days`:this.sliderTextSpan.textContent=`${this.sliderValue} day`)}handleSliderKeyEvents(e){"ArrowLeft"===e.key&&this.stepBack(),"ArrowRight"===e.key&&this.stepForward()}stepBack(){this.sliderValue<=this.sliderMinValue||(this.sliderValue--,this.adjustSliderWidth())}stepForward(){this.sliderValue>=this.sliderMaxValue||(this.sliderValue++,this.adjustSliderWidth())}adjustSliderWidth(){var e;const t=this.sliderValue*(100/this.sliderMaxValue);this.sliderThumb instanceof HTMLDivElement&&(this.sliderThumb.style.width=`${t}%`),null===(e=this.actualInput)||void 0===e||e.setAttribute("value",`${this.sliderValue}`),this.updateSliderTextValue()}}const d=new a("availability-period",1,7),c=new a("suggestions-period",1,14),u=new a("voting-period",1,14);const m=new Date,h={initialYear:m.getFullYear(),initialMonth:m.getMonth(),initialDate:m.getDate(),initialMonthName:new Intl.DateTimeFormat("en-GB",{month:"long"}).format(m),year:m.getFullYear(),month:m.getMonth(),monthName:new Intl.DateTimeFormat("en-GB",{month:"long"}).format(m),selectedDate:void 0,selectedMonth:void 0,selectedYear:void 0};function p(){E(),function(){const e=document.querySelector("#date-picker-modal");null==e||e.classList.add("displayed"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{var t;null===(t=null==e?void 0:e.firstElementChild)||void 0===t||t.classList.add("in-position")}))}))}(),function(){const e=document.querySelector("#date-picker-navbar");null==e||e.addEventListener("click",b);const t=document.querySelector("#date-picker-dates");null==t||t.addEventListener("click",S);const n=document.querySelector("#date-picker-btn-container");null==n||n.addEventListener("click",g)}()}function v(){!function(){const e=document.querySelector("#date-picker-back"),t=document.querySelector("#date-picker-forward");null==e||e.classList.remove("hidden"),null==t||t.classList.remove("hidden"),h.month<=h.initialMonth&&(null==e||e.classList.add("hidden"));(h.month-h.initialMonth+12)%12>=2&&(null==t||t.classList.add("hidden"))}(),function(){const e=document.querySelector("#date-picker-confirm");if(!h.selectedDate)return null==e||e.classList.add("disabled"),void(null==e||e.setAttribute("disabled",""));null==e||e.classList.remove("disabled"),null==e||e.removeAttribute("disabled")}(),function(){if(h.initialMonth!==h.month)return;const e=document.querySelector(`[data-date-value="${h.initialDate}"]`);null==e||e.setAttribute("data-initial","true"),e&&function(e){let t=e.previousElementSibling;for(;t instanceof HTMLButtonElement;)t.classList.add("disabled"),t=t.previousElementSibling}(e)}(),function(){if(!h.selectedDate||h.selectedMonth!==h.month)return;const e=document.querySelector(`[data-date-value="${h.selectedDate}"]`);e&&(e.id="date-picker-selected-date")}()}function f(){h.year=m.getFullYear(),h.month=m.getMonth(),h.monthName=new Intl.DateTimeFormat("en-GB",{month:"long"}).format(m)}function y(){const e=q(h.month,h.year),t=new Date(h.year,h.month,1).getDay(),n=document.querySelector("#date-picker-navbar-header"),i=null==n?void 0:n.firstElementChild;i&&(i.textContent=`${h.monthName} `);const o=null==n?void 0:n.lastElementChild;o&&(o.textContent=`${h.year}`),k(t,e)}function S(e){const t=e.target;if(t instanceof HTMLButtonElement==!1||"date-picker-date-btn"!==t.className)return;const n=t.getAttribute("data-date-value");if(!n)return;let i;i=function(e){if(Number.isNaN(e)||!Number.isInteger(e))return!1;const t=q(h.month,h.year);if(e<=0||e>t)return!1;return!0}(+n)?+n:1,h.selectedDate=i,h.selectedMonth=h.month,h.selectedYear=h.year,function(e){const t=document.querySelector("#date-picker-selected-date");null==t||t.removeAttribute("id"),e.id="date-picker-selected-date"}(t),function(){const e=`${h.monthName} ${h.selectedDate}, ${h.selectedYear}`,t=document.querySelector("#selected-date-text");t&&(t.textContent=e)}(),v()}function g(e){e.target&&e.target instanceof HTMLButtonElement!=!1&&("date-picker-close"===e.target.id&&(w(),x()),"date-picker-confirm"===e.target.id&&function(){if(!h.selectedDate)return;(function(){let e=new Date(h.selectedYear,h.selectedMonth,h.selectedDate);const t=e.getTime();e=null;const n=`${h.monthName} ${h.selectedDate}, ${h.selectedYear}`,i=new CustomEvent("datePickerDateSelected",{detail:{dateTimestamp:t,dateText:n}});window.dispatchEvent(i)})(),w(),x()}())}function b(e){if(e.target instanceof HTMLButtonElement==!1)return;const t=e.target.id.split("date-picker-")[1];"back"!==t?"forward"===t&&function(){if((h.month-h.initialMonth+12)%12>=2)return;m.setMonth(m.getMonth()+1),f(),y(),v()}():function(){if(h.month<=h.initialMonth)return;m.setMonth(m.getMonth()-1),f(),y(),v()}()}function E(){const e=q(h.initialMonth,h.initialYear),t=new Date(h.initialYear,h.initialMonth,1).getDay(),n=document.querySelector("#date-picker-navbar-header"),i=null==n?void 0:n.firstElementChild;i&&(i.textContent=`${h.initialMonthName} `);const o=null==n?void 0:n.lastElementChild;o&&(o.textContent=`${h.initialYear}`),k(t,e),v()}function k(e,t){const n=document.querySelector("#date-picker-dates"),i=null==n?void 0:n.firstElementChild;null==i||i.remove();const o=document.createElement("div");o.id="date-picker-dates-container";for(let e=0;e<t;e++){const t=L("active",e+1);null==o||o.appendChild(t)}let s;s=0===e?6:6===e?5:e-1;for(let e=0;e<s;e++){const e=L("empty");null==o||o.insertAdjacentElement("afterbegin",e)}null==n||n.appendChild(o)}function L(e,t){if("empty"===e){const e=document.createElement("button");return e.type="button",e.setAttribute("disabled",""),e.className="date-picker-date-empty-btn",e}const n=document.createElement("button");return n.type="button",n.className="date-picker-date-btn",n.setAttribute("data-date-value",`${t}`),n.appendChild(document.createTextNode(`${t}`)),n}function q(e,t){if(1===e)return function(e){const t=T(e,4),n=T(e,100),i=T(e,400);if(t&&(!n||i))return 29;return 28}(t);return[3,5,8,10].includes(e)?30:31}function T(e,t){return e%t==0}function w(){m.setTime(Date.now()),h.initialYear=m.getFullYear(),h.initialMonth=m.getMonth(),h.initialDate=m.getDate(),h.initialMonthName=new Intl.DateTimeFormat("en-GB",{month:"long"}).format(m),h.year=m.getFullYear(),h.month=m.getMonth(),h.monthName=new Intl.DateTimeFormat("en-GB",{month:"long"}).format(m),h.selectedDate=void 0,h.selectedMonth=void 0,h.selectedYear=void 0,function(){const e=document.querySelector("#date-picker-selected-date"),t=document.querySelector("#selected-date-text");setTimeout((()=>{null==e||e.removeAttribute("id"),t&&(t.textContent="None")}),100),v(),y(),E()}()}function x(){var e;const t=document.querySelector("#date-picker-modal");null===(e=null==t?void 0:t.firstElementChild)||void 0===e||e.classList.remove("in-position"),setTimeout((()=>{null==t||t.classList.remove("displayed")}),100)}class D{static display(e,t){D.hide(e);const n=document.querySelector(`[data-target="${e.id}"]`);n&&(n.textContent=t);const i=e.parentElement;null==i||i.classList.add("error")}static hide(e){const t=e.parentElement;if(!(null==t?void 0:t.classList.contains("error")))return;null==t||t.classList.remove("error");const n=document.querySelector(`[data-target="${e.id}"]`);n&&(n.textContent="")}}function M(e,t,n=2e3){(""===e.trim()||n&&n<=0)&&(n=2e3);const i=document.querySelector("#popup");i&&i.remove();const o=document.createElement("span");o.id="popup",o.className=t,o.appendChild(document.createTextNode(e)),document.body.appendChild(o),requestAnimationFrame((()=>{requestAnimationFrame((()=>{o.classList.add("in-view")}))})),setTimeout((()=>{o.classList.remove("in-view"),setTimeout((()=>{o.remove()}),150)}),n||2e3)}const C={selectedDate:"",slots:[],maxTimeSlots:3};function A(e,t){C.slots=t,function(e){(function(){const e=document.querySelector("#time-picker-modal");null==e||e.classList.add("displayed"),setTimeout((()=>{var t;null===(t=null==e?void 0:e.firstElementChild)||void 0===t||t.classList.add("in-position")}),100)})(),function(e){const t=document.querySelector("#time-picker-selected-date");t&&(t.textContent=e)}(e),$()}(e),function(){const e=document.querySelector("#time-picker-input-add");null==e||e.addEventListener("click",N);const t=document.querySelector("#time-picker-slots");null==t||t.addEventListener("click",V);const n=document.querySelector("#time-picker-btn-container");null==n||n.addEventListener("click",B)}()}function $(){!function(e){const t=document.querySelector("#time-picker-slots"),n=document.querySelector("#time-picker-slots-container"),i=document.createElement("div");if(i.id="time-picker-slots-container",0===e.length)return i.appendChild(function(){const e=document.createElement("span");return e.className="no-slots",e.appendChild(document.createTextNode("No slots added yet.")),e}()),null==n||n.remove(),void(null==t||t.appendChild(i));for(const t of e)i.appendChild(R(t));null==n||n.remove(),null==t||t.appendChild(i)}(C.slots),function(){const e=document.querySelector("#time-picker-from"),t=document.querySelector("#time-picker-to");if(e&&t)C.slots.length===C.maxTimeSlots?(j(e),j(t)):(G(e),G(t))}(),function(){const e=document.querySelector("#time-picker-input-add");if(C.slots.length===C.maxTimeSlots)return e&&j(e),void(null==e||e.setAttribute("title","Can't add more than 3 slots."));e&&G(e),null==e||e.removeAttribute("title")}(),function(){const e=document.querySelector("#time-picker-confirm");0!==C.slots.length?e&&G(e):e&&j(e)}(),function(){const e=document.querySelector("#time-picker-from"),t=document.querySelector("#time-picker-to");e&&(e.value=""),t&&(t.value=""),C.slots.length!==C.maxTimeSlots&&(null==e||e.focus())}()}function N(){if(C.slots.length===C.maxTimeSlots)return;const e=document.querySelector("#time-picker-from"),t=document.querySelector("#time-picker-to");if(!e||!t)return;const n=F(e),i=F(t);if(!n||!i)return;if(!function(e,t){const n=J(e.value),i=J(t.value);if(0===i)return D.display(t,"The end of the slot can't exceed 23:59."),!1;if(i<n)return D.display(t,"The slot's end can't be before its start."),!1;if(i-n<100)return D.display(t,"Time slot can't be shorter than an hour."),!1;return!0}(e,t))return;const o={from:e.value,to:t.value};if(function(e){for(const t of C.slots){if(P(t,e))return!0;if(Y(t,e.from)||Y(t,e.to))return!0;if(I(t,e))return!0}return!1}(o))return D.display(e,""),void D.display(t,"The slot you're trying to add intersects with one or more existing slots.");C.slots.push(o),$()}function V(e){if(!(e.target instanceof HTMLElement))return;if("selected-time-slots-item"!==e.target.className)return;const t=e.target,n=t.textContent;if(!n)return;const i=null==n?void 0:n.split(" - ")[0],o=null==n?void 0:n.split(" - ")[1],s=C.slots.findIndex((({from:e,to:t})=>e===i&&t===o));if(-1===s)return t.remove(),void M("Slot removed.","success");C.slots.splice(s,1),O(),$(),M("Slot removed.","success")}function F(e){if(""===e.value.trim())return D.display(e,"Please provide a time value."),!1;return/^[0-2][0-9]:[0-5][0-9]$/.test(e.value)?(D.hide(e),!0):(D.display(e,"Please use a valid 24-hour format (HH:MM)."),!1)}function P(e,t){return e.from===t.from||e.from===t.to||(e.to===t.from||e.to===t.to)}function Y(e,t){const n=J(e.from),i=J(e.to),o=J(t);return o>n&&o<i}function I(e,t){return t.from<e.from&&t.to>e.to}function B(e){e.target&&e.target instanceof HTMLButtonElement!=!1&&("time-picker-close"===e.target.id&&H(),"time-picker-confirm"===e.target.id&&function(){if(0===C.slots.length)return void M("You must include at least one time slot.","error");O(),H()}())}function H(){!function(){var e;const t=document.querySelector("#time-picker-modal");null===(e=null==t?void 0:t.firstElementChild)||void 0===e||e.classList.remove("in-position"),setTimeout((()=>{null==t||t.classList.remove("displayed")}),100)}(),C.selectedDate="",C.slots=[],function(){const e=document.querySelector("#time-picker-from"),t=document.querySelector("#time-picker-to");e&&t&&(D.hide(e),D.hide(t))}()}function R(e){const t=document.createElement("span");return t.className="selected-time-slots-item",t.appendChild(document.createTextNode(`${e.from} - ${e.to}`)),t}function j(e){e.setAttribute("disabled",""),e.classList.add("disabled")}function G(e){e.removeAttribute("disabled"),e.classList.remove("disabled")}function J(e){return+e.split(":").join("")}function O(){const e=new CustomEvent("timeSlotsPicked",{detail:C.slots});window.dispatchEvent(e)}function W(e){const t=e.detail;l.dateTimestamp=t.dateTimestamp,l.dateText=t.dateText,function(){const e=document.querySelector("#date-picker-input");e&&(e.value=l.dateText)}(),function(){const e=document.querySelector("#time-picker-input");if(!e)return;e.classList.remove("disabled"),e.removeAttribute("disabled"),e.removeAttribute("title")}()}function z(e){const t=e.detail;l.timeSlots=t,K()}function K(){const e=document.querySelector("#selected-time-slots"),t=null==e?void 0:e.firstElementChild,n=document.createElement("div");n.className="selected-time-slots-container";for(const e of l.timeSlots)n.appendChild(U(e.from,e.to));null==t||t.remove(),null==e||e.appendChild(n),function(){const e=new CustomEvent("timeSlotsChanged");window.dispatchEvent(e)}()}function U(e,t){const n=document.createElement("span");return n.className="selected-time-slots-item",n.appendChild(document.createTextNode(`${e} - ${t}`)),n}function X(e){if(!(e.target instanceof HTMLElement))return;if("selected-time-slots-item"!==e.target.className)return;const t=e.target,n=t.textContent;if(!n)return;const i=null==n?void 0:n.split(" - ")[0],o=null==n?void 0:n.split(" - ")[1],s=l.timeSlots.findIndex((({from:e,to:t})=>e===i&&t===o));if(-1===s)return t.remove(),void M("Slot removed.","success");l.timeSlots.splice(s,1),M("Slot removed.","success"),K()}function Z(e){e.preventDefault();const t=document.querySelector("#account-name"),n=document.querySelector("#account-password");if(!t||!n)return;const i=function(e){if(""===e.value.trim())return D.display(e,"Name must at least contain one letter."),!1;if(e.value.trim().length>25)return D.display(e,"Name must not be longer than 25 letters."),!1;if(!/^[A-Za-z\s]{1,25}$/.test(e.value))return D.display(e,"Name must only contain English letters."),!1;return D.hide(e),!0}(t),o=function(e){if(e.value.length<8)return D.display(e,"Password must not be shorter than 8 characters."),!1;if(e.value.length>40)return D.display(e,"Password must not be longer than 40 characters."),!1;if(e.value.includes(" "))return D.display(e,"Password must not contain any whitespace."),!1;if(!/^[A-Za-z0-9._]{8,40}$/.test(e.value))return D.display(e,"Special characters, apart from dots and underscores, are not allowed."),!1;return D.hide(e),!0}(n);i&&o&&(l.leaderName=t.value.toLowerCase(),l.leaderPassword=n.value,function(){const e=new CustomEvent("accountDetailsValid");window.dispatchEvent(e)}())}!function(){const e=document.querySelector("#date-picker-input");null==e||e.addEventListener("click",p);const t=document.querySelector("#time-picker-input");null==t||t.addEventListener("click",(()=>{A(l.dateText,l.timeSlots)}));const n=document.querySelector("#selected-time-slots");null==n||n.addEventListener("click",X),window.addEventListener("datePickerDateSelected",W),window.addEventListener("timeSlotsPicked",z)}(),function(){const e=document.querySelector("#password-icon-account");null==e||e.addEventListener("click",(()=>{!function(e){const t=e.previousElementSibling;if(null==e?void 0:e.classList.contains("revealed"))return e.classList.remove("revealed"),void(null==t||t.setAttribute("type","password"));null==e||e.classList.add("revealed"),null==t||t.setAttribute("type","text")}(e)}));const t=document.querySelector("#steps-form");null==t||t.addEventListener("submit",Z)}();const _={currentStep:1,totalSteps:3};function Q(){!function(){const e=document.querySelector("#previous-step-btn"),t=document.querySelector("#next-step-btn");if(!e||!t)return;e.style.display="flex",e.removeAttribute("disabled"),t.style.display="block",t.removeAttribute("disabled"),1===_.currentStep&&(e.style.display="none",e.setAttribute("disabled",""));_.currentStep===_.totalSteps&&(t.style.display="none",t.setAttribute("disabled",""))}(),function(){const e=document.querySelector("#progress-container-step");e&&(e.textContent=`${_.currentStep}`);const t=(_.currentStep-1)/_.totalSteps*100,n=Math.round(t),i=document.querySelector("#progress-bar");i&&(i.style.width=`${n}%`)}(),te()}function ee(){if(0===l.timeSlots.length||0===l.dateTimestamp)return M("You must add your availability before continuing.","error"),void ie();console.log("Form submission")}function te(){2!==_.currentStep||0!==l.timeSlots.length&&0!==l.dateTimestamp?function(){const e=document.querySelector("#next-step-btn");if(!e)return;e.classList.remove("disabled"),e.removeAttribute("disabled"),e.removeAttribute("title")}():function(){const e=document.querySelector("#next-step-btn");if(!e)return;e.classList.add("disabled"),e.setAttribute("disabled",""),e.setAttribute("title","You must add your availability before continuing.")}()}function ne(e){if((null==e?void 0:e.target)instanceof HTMLElement==!1)return;const t=e.target.id;"previous-step-btn"===t&&_.currentStep-1>=1?ie():"next-step-btn"===t&&_.currentStep+1<=_.totalSteps&&function(){var e;const t=document.querySelector(`#step-${_.currentStep}`);1===_.currentStep&&(l.availabilityPeriod=d.value,l.suggestionsPeriod=c.value,l.votingPeriod=u.value);_.currentStep++,Q(),null==t||t.classList.add("animating","completed"),setTimeout((()=>{null==t||t.classList.remove("animating")}),100),null==t||t.classList.remove("current","in-position"),null===(e=null==t?void 0:t.nextElementSibling)||void 0===e||e.classList.add("current"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{var e;null===(e=null==t?void 0:t.nextElementSibling)||void 0===e||e.classList.add("in-position")}))}))}()}function ie(){var e;const t=document.querySelector(`#step-${_.currentStep}`);_.currentStep--,Q(),null==t||t.classList.remove("in-position","current"),null===(e=null==t?void 0:t.previousElementSibling)||void 0===e||e.classList.add("current"),requestAnimationFrame((()=>{requestAnimationFrame((()=>{var e;null===(e=null==t?void 0:t.previousElementSibling)||void 0===e||e.classList.replace("completed","in-position")}))}))}e(),function(){const e=o.get("AuthToken"),t=document.querySelector(".top-nav");e&&32===e.length&&e.startsWith("a")&&(null==t||t.classList.add("signed-in"))}(),function(){const e=document.querySelector(".bot-nav");!function(e){o.get("AuthToken");null==e||e.classList.add("signed-in")}(e),null==e||e.addEventListener("click",s)}(),function(){const e=document.querySelector("#form-navigation");null==e||e.addEventListener("click",ne),window.addEventListener("accountDetailsValid",ee),window.addEventListener("timeSlotsChanged",te)}(),Q()})();