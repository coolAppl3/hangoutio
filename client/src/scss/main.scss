@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

// Fonts
@font-face {
  font-family: 'adjustedRoboto';
  src: url('../assets/fonts/roboto/Roboto-Light.ttf') format('truetype');
  font-weight: 300;
}

@font-face {
  font-family: 'adjustedRoboto';
  src: url('../assets/fonts/roboto/Roboto-Regular.ttf') format('truetype');
  font-weight: 400;
}

@font-face {
  font-family: 'adjustedRoboto';
  src: url('../assets/fonts/roboto/Roboto-Medium.ttf') format('truetype');
  font-weight: 500;
}

@font-face {
  font-family: 'adjustedRoboto';
  src: url('../assets/fonts/roboto/Roboto-Bold.ttf') format('truetype');
  font-weight: bold;
}

@layer base {

  *,
  *::before,
  *::after {
    @apply m-0 p-0 box-border;
  }

  * {
    @apply z-1 transition-colors;
  }

  html {
    font-size: 62.5%;
    @apply font-main font-normal leading-[1.4];
  }

  body {
    @apply font-main text-base bg-primary relative;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply leading-[1.2] block;
  }

  p {
    @apply leading-[1.4] block;
  }

  li {
    @apply block;
  }

}

@layer components {

  // Utility
  .container {
    @apply max-w-[1200px] px-2 my-0 mx-auto h-full;
  }

  .bot-nav {
    &-container {

      &-item {

        &.selected {
          @apply bg-light-gray dark:bg-light-black;
        }
      }
    }
  }

  .btn {
    @apply block min-w-fit py-1 px-[2.4rem] font-bold text-base text-center leading-[2.2rem] rounded border-[1px] border-transparent cursor-pointer transition-[filter] duration-200 ease-out hover:brightness-75;

    &.btn-mini {
      @apply text-xs leading-[1.7rem] px-[1.6rem] py-[0.6rem];
    }
  }

  .svg {
    @apply flex justify-center items-center border-none overflow-hidden;

    svg {
      @apply overflow-hidden h-fit;
    }
  }

  .form-group {
    @apply mb-2;

    &.error {

      .error-span {
        @apply block;
      }

      input,
      textarea {
        @apply border-danger dark:border-danger-dark;
      }
    }

    &.form-group-password {

      &.error {

        .password-icon {
          @apply bottom-[28px]
        }
      }

      input,
      textarea {
        @apply pr-4;
      }
    }

    label {
      @apply text-description dark:text-description-dark text-sm font-bold block mb-[4px];
    }

    input,
    textarea {
      @apply block w-full bg-transparent text-sm font-medium leading-[2rem] text-title dark:text-title-dark p-1 rounded border-1 border-light-gray dark:border-light-black outline-none;

    }

    .error-span {
      @apply hidden mt-[5px] text-xs font-medium leading-[1] text-danger dark:text-danger-dark;
    }

    .password-icon {
      @apply absolute right-1 bottom-[11px] cursor-pointer after:absolute after:hidden after:top-0 after:left-0 after:right-0 after:mx-auto after:w-[2px] after:h-full after:z-3 after:rounded-[40px] after:rotate-45 after:transition-colors after:bg-description dark:after:bg-description-dark hover:after:bg-cta dark:hover:after:bg-cta-dark;

      &.revealed {
        @apply after:block;
      }
    }

  }

  .triangle {

    &-bottom::after {
      content: '';
      position: absolute;
      bottom: -8px;
      right: 1.5rem;
      width: 0px;
      height: 0px;
      border-style: solid;
      border-width: 0 7px 8px 7px;
      border-color: transparent transparent #ff4532 transparent;
      transform: rotate(180deg);
    }
  }

  .h-available {
    min-height: calc(100vh - 6rem);
    min-height: calc(100svh - 6rem);

    @media(max-width: 830px) {
      min-height: calc(100vh - 12rem);
      min-height: calc(100svh - 12rem);
    }
  }

  // create-hangout.html
  .content {
    #steps-form {
      height: fit-content;

      .sub-form {
        transform: translate3d(0, 150%, 0);
        transition: transform 200ms;
        position: absolute;
        display: none;

        &.completed {
          transform: translate3d(-50rem, 0, 0) !important;
        }

        &.current {
          display: block;
          position: static;

          &.in-position {
            transform: translate3d(0, 0, 0);
          }
        }

        &.animating {
          display: block;
        }
      }


    }

    #form-navigation {

      &.first-step {

        #previous-step-btn {
          display: none;
        }
      }

      &.last-step {

        #next-step-btn {
          display: none;
        }
      }
    }

  }
}

// direct styling --- --- ---

// date picker
#date-picker-modal {
  @apply fixed top-0 left-0 w-full bg-overlay z-[25] hidden;
  height: 100vh;
  height: 100svh;

  &.displayed {
    @apply flex justify-center items-center;
  }

  #date-picker {
    @apply w-[30rem] max-w-[30rem] p-1 bg-secondary dark:bg-secondary-dark rounded-md;
    transform: translate3d(0, 3rem, 0);
    opacity: 0;
    transition: transform 150ms, opacity 150ms;

    &.in-position {
      transform: translate3d(0, 0, 0);
      opacity: 1;
    }

    &-navbar {
      @apply flex justify-center items-center pb-1 mb-2 border-b-1 border-b-light-gray dark:border-b-light-black;

      * {
        @apply text-title dark:text-title-dark
      }

      button {
        @apply w-3 h-3 flex justify-center items-center hover:bg-light-gray dark:hover:bg-light-black relative after:absolute after:top-0 after:left-0 after:h-full after:w-full after:z-3;

        &.hidden {
          @apply invisible;
        }
      }

      #date-picker-navbar-header {

        span {
          @apply text-title dark:text-title-dark font-medium;
        }
      }
    }

    &-days {
      @apply grid grid-cols-7 place-items-center mb-1;

      p {
        @apply text-sm font-medium text-title dark:text-title-dark select-none;
      }
    }

    &-dates {

      &-container {
        @apply grid grid-cols-7 place-items-center;

        .date-picker-date-btn {
          @apply w-full h-full p-1 flex justify-center items-center text-sm text-center font-bold text-description dark:text-description-dark border-1 border-transparent hover:bg-light-gray dark:hover:bg-light-black select-none;

          &.disabled {
            @apply opacity-50 hover:bg-transparent dark:hover:bg-transparent cursor-default;
          }

          &#date-picker-selected-date {
            @apply bg-cta dark:bg-cta-dark text-dark border-cta dark:border-cta-dark;
          }

          &[data-initial] {
            @apply border-1 border-description border-light-gray dark:border-light-black;
          }
        }
      }
    }

    &-btn-container {
      @apply flex justify-between items-center pt-1 border-t-1 border-t-light-gray dark:border-t-light-black;

      #date-picker-close {
        @apply btn w-full mr-1 bg-description dark:bg-description-dark text-light dark:text-dark;
      }

      #date-picker-confirm {
        @apply btn w-full bg-cta dark:bg-cta-dark;

        &.disabled {
          @apply opacity-25 cursor-not-allowed hover:brightness-100;
        }
      }
    }
  }
}

// popup
#popup {
  @apply absolute top-8 left-0 right-0 mx-auto p-[1.4rem] w-fit text-sm text-center font-bold rounded z-[30];
  transform: translate3d(0, 3rem, 0);
  opacity: 0;
  transition: transform 150ms, opacity 150ms;

  &.in-view {
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }

  &.error {
    @apply bg-danger-popup text-light;
  }

  &.success {
    @apply bg-success text-dark;
  }

  &.info {
    @apply bg-cta dark:bg-cta-dark text-dark;
  }
}